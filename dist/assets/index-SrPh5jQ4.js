function l5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ge(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Z2={exports:{}},Yy={},eD={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh=Symbol.for("react.element"),u5=Symbol.for("react.portal"),c5=Symbol.for("react.fragment"),d5=Symbol.for("react.strict_mode"),f5=Symbol.for("react.profiler"),h5=Symbol.for("react.provider"),p5=Symbol.for("react.context"),m5=Symbol.for("react.forward_ref"),g5=Symbol.for("react.suspense"),y5=Symbol.for("react.memo"),v5=Symbol.for("react.lazy"),TA=Symbol.iterator;function _5(t){return t===null||typeof t!="object"?null:(t=TA&&t[TA]||t["@@iterator"],typeof t=="function"?t:null)}var tD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nD=Object.assign,rD={};function hc(t,e,n){this.props=t,this.context=e,this.refs=rD,this.updater=n||tD}hc.prototype.isReactComponent={};hc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iD(){}iD.prototype=hc.prototype;function BE(t,e,n){this.props=t,this.context=e,this.refs=rD,this.updater=n||tD}var UE=BE.prototype=new iD;UE.constructor=BE;nD(UE,hc.prototype);UE.isPureReactComponent=!0;var IA=Array.isArray,oD=Object.prototype.hasOwnProperty,zE={current:null},aD={key:!0,ref:!0,__self:!0,__source:!0};function sD(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)oD.call(e,r)&&!aD.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Vh,type:t,key:o,ref:a,props:i,_owner:zE.current}}function b5(t,e){return{$$typeof:Vh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function WE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vh}function w5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var SA=/\/+/g;function d_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?w5(""+t.key):e.toString(36)}function Tm(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Vh:case u5:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+d_(a,0):r,IA(i)?(n="",t!=null&&(n=t.replace(SA,"$&/")+"/"),Tm(i,e,n,"",function(u){return u})):i!=null&&(WE(i)&&(i=b5(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(SA,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",IA(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+d_(o,s);a+=Tm(o,e,n,l,i)}else if(l=_5(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+d_(o,s++),a+=Tm(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function $p(t,e,n){if(t==null)return t;var r=[],i=0;return Tm(t,r,"","",function(o){return e.call(n,o,i++)}),r}function x5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qn={current:null},Im={transition:null},E5={ReactCurrentDispatcher:qn,ReactCurrentBatchConfig:Im,ReactCurrentOwner:zE};function lD(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:$p,forEach:function(t,e,n){$p(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $p(t,function(){e++}),e},toArray:function(t){return $p(t,function(e){return e})||[]},only:function(t){if(!WE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=hc;Pe.Fragment=c5;Pe.Profiler=f5;Pe.PureComponent=BE;Pe.StrictMode=d5;Pe.Suspense=g5;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E5;Pe.act=lD;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=nD({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=zE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)oD.call(e,l)&&!aD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Vh,type:t.type,key:i,ref:o,props:r,_owner:a}};Pe.createContext=function(t){return t={$$typeof:p5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:h5,_context:t},t.Consumer=t};Pe.createElement=sD;Pe.createFactory=function(t){var e=sD.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:m5,render:t}};Pe.isValidElement=WE;Pe.lazy=function(t){return{$$typeof:v5,_payload:{_status:-1,_result:t},_init:x5}};Pe.memo=function(t,e){return{$$typeof:y5,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Im.transition;Im.transition={};try{t()}finally{Im.transition=e}};Pe.unstable_act=lD;Pe.useCallback=function(t,e){return qn.current.useCallback(t,e)};Pe.useContext=function(t){return qn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return qn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return qn.current.useEffect(t,e)};Pe.useId=function(){return qn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return qn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return qn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return qn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return qn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return qn.current.useReducer(t,e,n)};Pe.useRef=function(t){return qn.current.useRef(t)};Pe.useState=function(t){return qn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return qn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return qn.current.useTransition()};Pe.version="18.3.1";eD.exports=Pe;var j=eD.exports;const M=Ge(j),T5=l5({__proto__:null,default:M},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I5=j,S5=Symbol.for("react.element"),A5=Symbol.for("react.fragment"),P5=Object.prototype.hasOwnProperty,O5=I5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k5={key:!0,ref:!0,__self:!0,__source:!0};function uD(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)P5.call(e,r)&&!k5.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:S5,type:t,key:o,ref:a,props:i,_owner:O5.current}}Yy.Fragment=A5;Yy.jsx=uD;Yy.jsxs=uD;Z2.exports=Yy;var m=Z2.exports,Rb={},cD={exports:{}},xr={},dD={exports:{}},fD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,q){var J=V.length;V.push(q);e:for(;0<J;){var se=J-1>>>1,Z=V[se];if(0<i(Z,q))V[se]=q,V[J]=Z,J=se;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var q=V[0],J=V.pop();if(J!==q){V[0]=J;e:for(var se=0,Z=V.length,Y=Z>>>1;se<Y;){var ge=2*(se+1)-1,Ie=V[ge],Le=ge+1,gt=V[Le];if(0>i(Ie,J))Le<Z&&0>i(gt,Ie)?(V[se]=gt,V[Le]=J,se=Le):(V[se]=Ie,V[ge]=J,se=ge);else if(Le<Z&&0>i(gt,J))V[se]=gt,V[Le]=J,se=Le;else break e}}return q}function i(V,q){var J=V.sortIndex-q.sortIndex;return J!==0?J:V.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],d=1,c=null,h=3,p=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=V)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function P(V){if(g=!1,x(V),!y)if(n(l)!==null)y=!0,G(E);else{var q=n(u);q!==null&&H(P,q.startTime-V)}}function E(V,q){y=!1,g&&(g=!1,b(I),I=-1),p=!0;var J=h;try{for(x(q),c=n(l);c!==null&&(!(c.expirationTime>q)||V&&!R());){var se=c.callback;if(typeof se=="function"){c.callback=null,h=c.priorityLevel;var Z=se(c.expirationTime<=q);q=t.unstable_now(),typeof Z=="function"?c.callback=Z:c===n(l)&&r(l),x(q)}else r(l);c=n(l)}if(c!==null)var Y=!0;else{var ge=n(u);ge!==null&&H(P,ge.startTime-q),Y=!1}return Y}finally{c=null,h=J,p=!1}}var A=!1,T=null,I=-1,O=5,C=-1;function R(){return!(t.unstable_now()-C<O)}function k(){if(T!==null){var V=t.unstable_now();C=V;var q=!0;try{q=T(!0,V)}finally{q?N():(A=!1,T=null)}}else A=!1}var N;if(typeof _=="function")N=function(){_(k)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,z=U.port2;U.port1.onmessage=k,N=function(){z.postMessage(null)}}else N=function(){v(k,0)};function G(V){T=V,A||(A=!0,N())}function H(V,q){I=v(function(){V(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,G(E))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var J=h;h=q;try{return V()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var J=h;h=V;try{return q()}finally{h=J}},t.unstable_scheduleCallback=function(V,q,J){var se=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?se+J:se):J=se,V){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=J+Z,V={id:d++,callback:q,priorityLevel:V,startTime:J,expirationTime:Z,sortIndex:-1},J>se?(V.sortIndex=J,e(u,V),n(l)===null&&V===n(u)&&(g?(b(I),I=-1):g=!0,H(P,J-se))):(V.sortIndex=Z,e(l,V),y||p||(y=!0,G(E))),V},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(V){var q=h;return function(){var J=h;h=q;try{return V.apply(this,arguments)}finally{h=J}}}})(fD);dD.exports=fD;var C5=dD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R5=j,br=C5;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hD=new Set,hf={};function Zs(t,e){mu(t,e),mu(t+"Capture",e)}function mu(t,e){for(hf[t]=e,t=0;t<e.length;t++)hD.add(e[t])}var io=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nb=Object.prototype.hasOwnProperty,N5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,AA={},PA={};function D5(t){return Nb.call(PA,t)?!0:Nb.call(AA,t)?!1:N5.test(t)?PA[t]=!0:(AA[t]=!0,!1)}function j5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function M5(t,e,n,r){if(e===null||typeof e>"u"||j5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var _n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_n[t]=new Gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_n[e]=new Gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_n[t]=new Gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_n[t]=new Gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_n[t]=new Gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_n[t]=new Gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_n[t]=new Gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_n[t]=new Gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_n[t]=new Gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var qE=/[\-:]([a-z])/g;function GE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qE,GE);_n[e]=new Gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qE,GE);_n[e]=new Gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qE,GE);_n[e]=new Gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_n[t]=new Gn(t,1,!1,t.toLowerCase(),null,!1,!1)});_n.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_n[t]=new Gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function KE(t,e,n,r){var i=_n.hasOwnProperty(e)?_n[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(M5(e,n,i,r)&&(n=null),r||i===null?D5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var go=R5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lp=Symbol.for("react.element"),Dl=Symbol.for("react.portal"),jl=Symbol.for("react.fragment"),HE=Symbol.for("react.strict_mode"),Db=Symbol.for("react.profiler"),pD=Symbol.for("react.provider"),mD=Symbol.for("react.context"),YE=Symbol.for("react.forward_ref"),jb=Symbol.for("react.suspense"),Mb=Symbol.for("react.suspense_list"),QE=Symbol.for("react.memo"),Fo=Symbol.for("react.lazy"),gD=Symbol.for("react.offscreen"),OA=Symbol.iterator;function td(t){return t===null||typeof t!="object"?null:(t=OA&&t[OA]||t["@@iterator"],typeof t=="function"?t:null)}var xt=Object.assign,f_;function Od(t){if(f_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);f_=e&&e[1]||""}return`
`+f_+t}var h_=!1;function p_(t,e){if(!t||h_)return"";h_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{h_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Od(t):""}function $5(t){switch(t.tag){case 5:return Od(t.type);case 16:return Od("Lazy");case 13:return Od("Suspense");case 19:return Od("SuspenseList");case 0:case 2:case 15:return t=p_(t.type,!1),t;case 11:return t=p_(t.type.render,!1),t;case 1:return t=p_(t.type,!0),t;default:return""}}function $b(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jl:return"Fragment";case Dl:return"Portal";case Db:return"Profiler";case HE:return"StrictMode";case jb:return"Suspense";case Mb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mD:return(t.displayName||"Context")+".Consumer";case pD:return(t._context.displayName||"Context")+".Provider";case YE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case QE:return e=t.displayName||null,e!==null?e:$b(t.type)||"Memo";case Fo:e=t._payload,t=t._init;try{return $b(t(e))}catch{}}return null}function L5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $b(e);case 8:return e===HE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function V5(t){var e=yD(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vp(t){t._valueTracker||(t._valueTracker=V5(t))}function vD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yD(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lb(t,e){var n=e.checked;return xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _D(t,e){e=e.checked,e!=null&&KE(t,"checked",e,!1)}function Vb(t,e){_D(t,e);var n=fa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fb(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fb(t,e.type,fa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function CA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fb(t,e,n){(e!=="number"||Zm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var kd=Array.isArray;function Jl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return xt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function RA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(kd(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fa(n)}}function bD(t,e){var n=fa(e.value),r=fa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function NA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ub(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fp,xD=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fp=Fp||document.createElement("div"),Fp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ud={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F5=["Webkit","ms","Moz","O"];Object.keys(Ud).forEach(function(t){F5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ud[e]=Ud[t]})});function ED(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ud.hasOwnProperty(t)&&Ud[t]?(""+e).trim():e+"px"}function TD(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ED(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var B5=xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zb(t,e){if(e){if(B5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function Wb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qb=null;function XE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gb=null,Zl=null,eu=null;function DA(t){if(t=Uh(t)){if(typeof Gb!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=ev(e),Gb(t.stateNode,t.type,e))}}function ID(t){Zl?eu?eu.push(t):eu=[t]:Zl=t}function SD(){if(Zl){var t=Zl,e=eu;if(eu=Zl=null,DA(t),e)for(t=0;t<e.length;t++)DA(e[t])}}function AD(t,e){return t(e)}function PD(){}var m_=!1;function OD(t,e,n){if(m_)return t(e,n);m_=!0;try{return AD(t,e,n)}finally{m_=!1,(Zl!==null||eu!==null)&&(PD(),SD())}}function mf(t,e){var n=t.stateNode;if(n===null)return null;var r=ev(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var Kb=!1;if(io)try{var nd={};Object.defineProperty(nd,"passive",{get:function(){Kb=!0}}),window.addEventListener("test",nd,nd),window.removeEventListener("test",nd,nd)}catch{Kb=!1}function U5(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var zd=!1,eg=null,tg=!1,Hb=null,z5={onError:function(t){zd=!0,eg=t}};function W5(t,e,n,r,i,o,a,s,l){zd=!1,eg=null,U5.apply(z5,arguments)}function q5(t,e,n,r,i,o,a,s,l){if(W5.apply(this,arguments),zd){if(zd){var u=eg;zd=!1,eg=null}else throw Error(ee(198));tg||(tg=!0,Hb=u)}}function el(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kD(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jA(t){if(el(t)!==t)throw Error(ee(188))}function G5(t){var e=t.alternate;if(!e){if(e=el(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return jA(i),t;if(o===r)return jA(i),e;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function CD(t){return t=G5(t),t!==null?RD(t):null}function RD(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RD(t);if(e!==null)return e;t=t.sibling}return null}var ND=br.unstable_scheduleCallback,MA=br.unstable_cancelCallback,K5=br.unstable_shouldYield,H5=br.unstable_requestPaint,Dt=br.unstable_now,Y5=br.unstable_getCurrentPriorityLevel,JE=br.unstable_ImmediatePriority,DD=br.unstable_UserBlockingPriority,ng=br.unstable_NormalPriority,Q5=br.unstable_LowPriority,jD=br.unstable_IdlePriority,Qy=null,wi=null;function X5(t){if(wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(Qy,t,void 0,(t.current.flags&128)===128)}catch{}}var ni=Math.clz32?Math.clz32:e6,J5=Math.log,Z5=Math.LN2;function e6(t){return t>>>=0,t===0?32:31-(J5(t)/Z5|0)|0}var Bp=64,Up=4194304;function Cd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Cd(s):(o&=a,o!==0&&(r=Cd(o)))}else a=n&~i,a!==0?r=Cd(a):o!==0&&(r=Cd(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ni(e),i=1<<n,r|=t[n],e&=~i;return r}function t6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ni(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=t6(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Yb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function MD(){var t=Bp;return Bp<<=1,!(Bp&4194240)&&(Bp=64),t}function g_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ni(e),t[e]=n}function r6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ni(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ZE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ni(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ue=0;function $D(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var LD,eT,VD,FD,BD,Qb=!1,zp=[],ea=null,ta=null,na=null,gf=new Map,yf=new Map,zo=[],i6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $A(t,e){switch(t){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":gf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yf.delete(e.pointerId)}}function rd(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Uh(e),e!==null&&eT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function o6(t,e,n,r,i){switch(e){case"focusin":return ea=rd(ea,t,e,n,r,i),!0;case"dragenter":return ta=rd(ta,t,e,n,r,i),!0;case"mouseover":return na=rd(na,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return gf.set(o,rd(gf.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,yf.set(o,rd(yf.get(o)||null,t,e,n,r,i)),!0}return!1}function UD(t){var e=ls(t.target);if(e!==null){var n=el(e);if(n!==null){if(e=n.tag,e===13){if(e=kD(n),e!==null){t.blockedOn=e,BD(t.priority,function(){VD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qb=r,n.target.dispatchEvent(r),qb=null}else return e=Uh(n),e!==null&&eT(e),t.blockedOn=n,!1;e.shift()}return!0}function LA(t,e,n){Sm(t)&&n.delete(e)}function a6(){Qb=!1,ea!==null&&Sm(ea)&&(ea=null),ta!==null&&Sm(ta)&&(ta=null),na!==null&&Sm(na)&&(na=null),gf.forEach(LA),yf.forEach(LA)}function id(t,e){t.blockedOn===e&&(t.blockedOn=null,Qb||(Qb=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,a6)))}function vf(t){function e(i){return id(i,t)}if(0<zp.length){id(zp[0],t);for(var n=1;n<zp.length;n++){var r=zp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ea!==null&&id(ea,t),ta!==null&&id(ta,t),na!==null&&id(na,t),gf.forEach(e),yf.forEach(e),n=0;n<zo.length;n++)r=zo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zo.length&&(n=zo[0],n.blockedOn===null);)UD(n),n.blockedOn===null&&zo.shift()}var tu=go.ReactCurrentBatchConfig,ig=!0;function s6(t,e,n,r){var i=Ue,o=tu.transition;tu.transition=null;try{Ue=1,tT(t,e,n,r)}finally{Ue=i,tu.transition=o}}function l6(t,e,n,r){var i=Ue,o=tu.transition;tu.transition=null;try{Ue=4,tT(t,e,n,r)}finally{Ue=i,tu.transition=o}}function tT(t,e,n,r){if(ig){var i=Xb(t,e,n,r);if(i===null)S_(t,e,r,og,n),$A(t,r);else if(o6(i,t,e,n,r))r.stopPropagation();else if($A(t,r),e&4&&-1<i6.indexOf(t)){for(;i!==null;){var o=Uh(i);if(o!==null&&LD(o),o=Xb(t,e,n,r),o===null&&S_(t,e,r,og,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else S_(t,e,r,null,n)}}var og=null;function Xb(t,e,n,r){if(og=null,t=XE(r),t=ls(t),t!==null)if(e=el(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kD(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return og=t,null}function zD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y5()){case JE:return 1;case DD:return 4;case ng:case Q5:return 16;case jD:return 536870912;default:return 16}default:return 16}}var Ko=null,nT=null,Am=null;function WD(){if(Am)return Am;var t,e=nT,n=e.length,r,i="value"in Ko?Ko.value:Ko.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Am=i.slice(t,1<r?1-r:void 0)}function Pm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wp(){return!0}function VA(){return!1}function Er(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wp:VA,this.isPropagationStopped=VA,this}return xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wp)},persist:function(){},isPersistent:Wp}),e}var pc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rT=Er(pc),Bh=xt({},pc,{view:0,detail:0}),u6=Er(Bh),y_,v_,od,Xy=xt({},Bh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==od&&(od&&t.type==="mousemove"?(y_=t.screenX-od.screenX,v_=t.screenY-od.screenY):v_=y_=0,od=t),y_)},movementY:function(t){return"movementY"in t?t.movementY:v_}}),FA=Er(Xy),c6=xt({},Xy,{dataTransfer:0}),d6=Er(c6),f6=xt({},Bh,{relatedTarget:0}),__=Er(f6),h6=xt({},pc,{animationName:0,elapsedTime:0,pseudoElement:0}),p6=Er(h6),m6=xt({},pc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g6=Er(m6),y6=xt({},pc,{data:0}),BA=Er(y6),v6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=b6[t])?!!e[t]:!1}function iT(){return w6}var x6=xt({},Bh,{key:function(t){if(t.key){var e=v6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iT,charCode:function(t){return t.type==="keypress"?Pm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),E6=Er(x6),T6=xt({},Xy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UA=Er(T6),I6=xt({},Bh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iT}),S6=Er(I6),A6=xt({},pc,{propertyName:0,elapsedTime:0,pseudoElement:0}),P6=Er(A6),O6=xt({},Xy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),k6=Er(O6),C6=[9,13,27,32],oT=io&&"CompositionEvent"in window,Wd=null;io&&"documentMode"in document&&(Wd=document.documentMode);var R6=io&&"TextEvent"in window&&!Wd,qD=io&&(!oT||Wd&&8<Wd&&11>=Wd),zA=" ",WA=!1;function GD(t,e){switch(t){case"keyup":return C6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ml=!1;function N6(t,e){switch(t){case"compositionend":return KD(e);case"keypress":return e.which!==32?null:(WA=!0,zA);case"textInput":return t=e.data,t===zA&&WA?null:t;default:return null}}function D6(t,e){if(Ml)return t==="compositionend"||!oT&&GD(t,e)?(t=WD(),Am=nT=Ko=null,Ml=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qD&&e.locale!=="ko"?null:e.data;default:return null}}var j6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!j6[t.type]:e==="textarea"}function HD(t,e,n,r){ID(r),e=ag(e,"onChange"),0<e.length&&(n=new rT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qd=null,_f=null;function M6(t){oj(t,0)}function Jy(t){var e=Vl(t);if(vD(e))return t}function $6(t,e){if(t==="change")return e}var YD=!1;if(io){var b_;if(io){var w_="oninput"in document;if(!w_){var GA=document.createElement("div");GA.setAttribute("oninput","return;"),w_=typeof GA.oninput=="function"}b_=w_}else b_=!1;YD=b_&&(!document.documentMode||9<document.documentMode)}function KA(){qd&&(qd.detachEvent("onpropertychange",QD),_f=qd=null)}function QD(t){if(t.propertyName==="value"&&Jy(_f)){var e=[];HD(e,_f,t,XE(t)),OD(M6,e)}}function L6(t,e,n){t==="focusin"?(KA(),qd=e,_f=n,qd.attachEvent("onpropertychange",QD)):t==="focusout"&&KA()}function V6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jy(_f)}function F6(t,e){if(t==="click")return Jy(e)}function B6(t,e){if(t==="input"||t==="change")return Jy(e)}function U6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ii=typeof Object.is=="function"?Object.is:U6;function bf(t,e){if(ii(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Nb.call(e,i)||!ii(t[i],e[i]))return!1}return!0}function HA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function YA(t,e){var n=HA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HA(n)}}function XD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?XD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function JD(){for(var t=window,e=Zm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zm(t.document)}return e}function aT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function z6(t){var e=JD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&XD(n.ownerDocument.documentElement,n)){if(r!==null&&aT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=YA(n,o);var a=YA(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var W6=io&&"documentMode"in document&&11>=document.documentMode,$l=null,Jb=null,Gd=null,Zb=!1;function QA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zb||$l==null||$l!==Zm(r)||(r=$l,"selectionStart"in r&&aT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gd&&bf(Gd,r)||(Gd=r,r=ag(Jb,"onSelect"),0<r.length&&(e=new rT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$l)))}function qp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ll={animationend:qp("Animation","AnimationEnd"),animationiteration:qp("Animation","AnimationIteration"),animationstart:qp("Animation","AnimationStart"),transitionend:qp("Transition","TransitionEnd")},x_={},ZD={};io&&(ZD=document.createElement("div").style,"AnimationEvent"in window||(delete Ll.animationend.animation,delete Ll.animationiteration.animation,delete Ll.animationstart.animation),"TransitionEvent"in window||delete Ll.transitionend.transition);function Zy(t){if(x_[t])return x_[t];if(!Ll[t])return t;var e=Ll[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ZD)return x_[t]=e[n];return t}var ej=Zy("animationend"),tj=Zy("animationiteration"),nj=Zy("animationstart"),rj=Zy("transitionend"),ij=new Map,XA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ta(t,e){ij.set(t,e),Zs(e,[t])}for(var E_=0;E_<XA.length;E_++){var T_=XA[E_],q6=T_.toLowerCase(),G6=T_[0].toUpperCase()+T_.slice(1);Ta(q6,"on"+G6)}Ta(ej,"onAnimationEnd");Ta(tj,"onAnimationIteration");Ta(nj,"onAnimationStart");Ta("dblclick","onDoubleClick");Ta("focusin","onFocus");Ta("focusout","onBlur");Ta(rj,"onTransitionEnd");mu("onMouseEnter",["mouseout","mouseover"]);mu("onMouseLeave",["mouseout","mouseover"]);mu("onPointerEnter",["pointerout","pointerover"]);mu("onPointerLeave",["pointerout","pointerover"]);Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rd));function JA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,q5(r,e,void 0,t),t.currentTarget=null}function oj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;JA(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;JA(i,s,u),o=l}}}if(tg)throw t=Hb,tg=!1,Hb=null,t}function it(t,e){var n=e[iw];n===void 0&&(n=e[iw]=new Set);var r=t+"__bubble";n.has(r)||(aj(e,t,2,!1),n.add(r))}function I_(t,e,n){var r=0;e&&(r|=4),aj(n,t,r,e)}var Gp="_reactListening"+Math.random().toString(36).slice(2);function wf(t){if(!t[Gp]){t[Gp]=!0,hD.forEach(function(n){n!=="selectionchange"&&(K6.has(n)||I_(n,!1,t),I_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gp]||(e[Gp]=!0,I_("selectionchange",!1,e))}}function aj(t,e,n,r){switch(zD(e)){case 1:var i=s6;break;case 4:i=l6;break;default:i=tT}n=i.bind(null,e,n,t),i=void 0,!Kb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function S_(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=ls(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}OD(function(){var u=o,d=XE(n),c=[];e:{var h=ij.get(t);if(h!==void 0){var p=rT,y=t;switch(t){case"keypress":if(Pm(n)===0)break e;case"keydown":case"keyup":p=E6;break;case"focusin":y="focus",p=__;break;case"focusout":y="blur",p=__;break;case"beforeblur":case"afterblur":p=__;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=FA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=d6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=S6;break;case ej:case tj:case nj:p=p6;break;case rj:p=P6;break;case"scroll":p=u6;break;case"wheel":p=k6;break;case"copy":case"cut":case"paste":p=g6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=UA}var g=(e&4)!==0,v=!g&&t==="scroll",b=g?h!==null?h+"Capture":null:h;g=[];for(var _=u,x;_!==null;){x=_;var P=x.stateNode;if(x.tag===5&&P!==null&&(x=P,b!==null&&(P=mf(_,b),P!=null&&g.push(xf(_,P,x)))),v)break;_=_.return}0<g.length&&(h=new p(h,y,null,n,d),c.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==qb&&(y=n.relatedTarget||n.fromElement)&&(ls(y)||y[oo]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?ls(y):null,y!==null&&(v=el(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(g=FA,P="onMouseLeave",b="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=UA,P="onPointerLeave",b="onPointerEnter",_="pointer"),v=p==null?h:Vl(p),x=y==null?h:Vl(y),h=new g(P,_+"leave",p,n,d),h.target=v,h.relatedTarget=x,P=null,ls(d)===u&&(g=new g(b,_+"enter",y,n,d),g.target=x,g.relatedTarget=v,P=g),v=P,p&&y)t:{for(g=p,b=y,_=0,x=g;x;x=_l(x))_++;for(x=0,P=b;P;P=_l(P))x++;for(;0<_-x;)g=_l(g),_--;for(;0<x-_;)b=_l(b),x--;for(;_--;){if(g===b||b!==null&&g===b.alternate)break t;g=_l(g),b=_l(b)}g=null}else g=null;p!==null&&ZA(c,h,p,g,!1),y!==null&&v!==null&&ZA(c,v,y,g,!0)}}e:{if(h=u?Vl(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=$6;else if(qA(h))if(YD)E=B6;else{E=V6;var A=L6}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=F6);if(E&&(E=E(t,u))){HD(c,E,n,d);break e}A&&A(t,h,u),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&Fb(h,"number",h.value)}switch(A=u?Vl(u):window,t){case"focusin":(qA(A)||A.contentEditable==="true")&&($l=A,Jb=u,Gd=null);break;case"focusout":Gd=Jb=$l=null;break;case"mousedown":Zb=!0;break;case"contextmenu":case"mouseup":case"dragend":Zb=!1,QA(c,n,d);break;case"selectionchange":if(W6)break;case"keydown":case"keyup":QA(c,n,d)}var T;if(oT)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ml?GD(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(qD&&n.locale!=="ko"&&(Ml||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ml&&(T=WD()):(Ko=d,nT="value"in Ko?Ko.value:Ko.textContent,Ml=!0)),A=ag(u,I),0<A.length&&(I=new BA(I,t,null,n,d),c.push({event:I,listeners:A}),T?I.data=T:(T=KD(n),T!==null&&(I.data=T)))),(T=R6?N6(t,n):D6(t,n))&&(u=ag(u,"onBeforeInput"),0<u.length&&(d=new BA("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=T))}oj(c,e)})}function xf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ag(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=mf(t,n),o!=null&&r.unshift(xf(t,o,i)),o=mf(t,e),o!=null&&r.push(xf(t,o,i))),t=t.return}return r}function _l(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ZA(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=mf(n,o),l!=null&&a.unshift(xf(n,l,s))):i||(l=mf(n,o),l!=null&&a.push(xf(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var H6=/\r\n?/g,Y6=/\u0000|\uFFFD/g;function eP(t){return(typeof t=="string"?t:""+t).replace(H6,`
`).replace(Y6,"")}function Kp(t,e,n){if(e=eP(e),eP(t)!==e&&n)throw Error(ee(425))}function sg(){}var ew=null,tw=null;function nw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rw=typeof setTimeout=="function"?setTimeout:void 0,Q6=typeof clearTimeout=="function"?clearTimeout:void 0,tP=typeof Promise=="function"?Promise:void 0,X6=typeof queueMicrotask=="function"?queueMicrotask:typeof tP<"u"?function(t){return tP.resolve(null).then(t).catch(J6)}:rw;function J6(t){setTimeout(function(){throw t})}function A_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),vf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vf(e)}function ra(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mc=Math.random().toString(36).slice(2),di="__reactFiber$"+mc,Ef="__reactProps$"+mc,oo="__reactContainer$"+mc,iw="__reactEvents$"+mc,Z6="__reactListeners$"+mc,ez="__reactHandles$"+mc;function ls(t){var e=t[di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oo]||n[di]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=nP(t);t!==null;){if(n=t[di])return n;t=nP(t)}return e}t=n,n=t.parentNode}return null}function Uh(t){return t=t[di]||t[oo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function ev(t){return t[Ef]||null}var ow=[],Fl=-1;function Ia(t){return{current:t}}function lt(t){0>Fl||(t.current=ow[Fl],ow[Fl]=null,Fl--)}function et(t,e){Fl++,ow[Fl]=t.current,t.current=e}var ha={},Pn=Ia(ha),rr=Ia(!1),As=ha;function gu(t,e){var n=t.type.contextTypes;if(!n)return ha;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ir(t){return t=t.childContextTypes,t!=null}function lg(){lt(rr),lt(Pn)}function rP(t,e,n){if(Pn.current!==ha)throw Error(ee(168));et(Pn,e),et(rr,n)}function sj(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ee(108,L5(t)||"Unknown",i));return xt({},n,r)}function ug(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ha,As=Pn.current,et(Pn,t),et(rr,rr.current),!0}function iP(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=sj(t,e,As),r.__reactInternalMemoizedMergedChildContext=t,lt(rr),lt(Pn),et(Pn,t)):lt(rr),et(rr,n)}var zi=null,tv=!1,P_=!1;function lj(t){zi===null?zi=[t]:zi.push(t)}function tz(t){tv=!0,lj(t)}function Sa(){if(!P_&&zi!==null){P_=!0;var t=0,e=Ue;try{var n=zi;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zi=null,tv=!1}catch(i){throw zi!==null&&(zi=zi.slice(t+1)),ND(JE,Sa),i}finally{Ue=e,P_=!1}}return null}var Bl=[],Ul=0,cg=null,dg=0,Pr=[],Or=0,Ps=null,Wi=1,qi="";function Ha(t,e){Bl[Ul++]=dg,Bl[Ul++]=cg,cg=t,dg=e}function uj(t,e,n){Pr[Or++]=Wi,Pr[Or++]=qi,Pr[Or++]=Ps,Ps=t;var r=Wi;t=qi;var i=32-ni(r)-1;r&=~(1<<i),n+=1;var o=32-ni(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Wi=1<<32-ni(e)+i|n<<i|r,qi=o+t}else Wi=1<<o|n<<i|r,qi=t}function sT(t){t.return!==null&&(Ha(t,1),uj(t,1,0))}function lT(t){for(;t===cg;)cg=Bl[--Ul],Bl[Ul]=null,dg=Bl[--Ul],Bl[Ul]=null;for(;t===Ps;)Ps=Pr[--Or],Pr[Or]=null,qi=Pr[--Or],Pr[Or]=null,Wi=Pr[--Or],Pr[Or]=null}var yr=null,mr=null,dt=!1,ei=null;function cj(t,e){var n=Cr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function oP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yr=t,mr=ra(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yr=t,mr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ps!==null?{id:Wi,overflow:qi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yr=t,mr=null,!0):!1;default:return!1}}function aw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sw(t){if(dt){var e=mr;if(e){var n=e;if(!oP(t,e)){if(aw(t))throw Error(ee(418));e=ra(n.nextSibling);var r=yr;e&&oP(t,e)?cj(r,n):(t.flags=t.flags&-4097|2,dt=!1,yr=t)}}else{if(aw(t))throw Error(ee(418));t.flags=t.flags&-4097|2,dt=!1,yr=t}}}function aP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yr=t}function Hp(t){if(t!==yr)return!1;if(!dt)return aP(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nw(t.type,t.memoizedProps)),e&&(e=mr)){if(aw(t))throw dj(),Error(ee(418));for(;e;)cj(t,e),e=ra(e.nextSibling)}if(aP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mr=ra(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mr=null}}else mr=yr?ra(t.stateNode.nextSibling):null;return!0}function dj(){for(var t=mr;t;)t=ra(t.nextSibling)}function yu(){mr=yr=null,dt=!1}function uT(t){ei===null?ei=[t]:ei.push(t)}var nz=go.ReactCurrentBatchConfig;function ad(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function Yp(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sP(t){var e=t._init;return e(t._payload)}function fj(t){function e(b,_){if(t){var x=b.deletions;x===null?(b.deletions=[_],b.flags|=16):x.push(_)}}function n(b,_){if(!t)return null;for(;_!==null;)e(b,_),_=_.sibling;return null}function r(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function i(b,_){return b=sa(b,_),b.index=0,b.sibling=null,b}function o(b,_,x){return b.index=x,t?(x=b.alternate,x!==null?(x=x.index,x<_?(b.flags|=2,_):x):(b.flags|=2,_)):(b.flags|=1048576,_)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function s(b,_,x,P){return _===null||_.tag!==6?(_=j_(x,b.mode,P),_.return=b,_):(_=i(_,x),_.return=b,_)}function l(b,_,x,P){var E=x.type;return E===jl?d(b,_,x.props.children,P,x.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Fo&&sP(E)===_.type)?(P=i(_,x.props),P.ref=ad(b,_,x),P.return=b,P):(P=jm(x.type,x.key,x.props,null,b.mode,P),P.ref=ad(b,_,x),P.return=b,P)}function u(b,_,x,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=M_(x,b.mode,P),_.return=b,_):(_=i(_,x.children||[]),_.return=b,_)}function d(b,_,x,P,E){return _===null||_.tag!==7?(_=ws(x,b.mode,P,E),_.return=b,_):(_=i(_,x),_.return=b,_)}function c(b,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=j_(""+_,b.mode,x),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Lp:return x=jm(_.type,_.key,_.props,null,b.mode,x),x.ref=ad(b,null,_),x.return=b,x;case Dl:return _=M_(_,b.mode,x),_.return=b,_;case Fo:var P=_._init;return c(b,P(_._payload),x)}if(kd(_)||td(_))return _=ws(_,b.mode,x,null),_.return=b,_;Yp(b,_)}return null}function h(b,_,x,P){var E=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:s(b,_,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Lp:return x.key===E?l(b,_,x,P):null;case Dl:return x.key===E?u(b,_,x,P):null;case Fo:return E=x._init,h(b,_,E(x._payload),P)}if(kd(x)||td(x))return E!==null?null:d(b,_,x,P,null);Yp(b,x)}return null}function p(b,_,x,P,E){if(typeof P=="string"&&P!==""||typeof P=="number")return b=b.get(x)||null,s(_,b,""+P,E);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Lp:return b=b.get(P.key===null?x:P.key)||null,l(_,b,P,E);case Dl:return b=b.get(P.key===null?x:P.key)||null,u(_,b,P,E);case Fo:var A=P._init;return p(b,_,x,A(P._payload),E)}if(kd(P)||td(P))return b=b.get(x)||null,d(_,b,P,E,null);Yp(_,P)}return null}function y(b,_,x,P){for(var E=null,A=null,T=_,I=_=0,O=null;T!==null&&I<x.length;I++){T.index>I?(O=T,T=null):O=T.sibling;var C=h(b,T,x[I],P);if(C===null){T===null&&(T=O);break}t&&T&&C.alternate===null&&e(b,T),_=o(C,_,I),A===null?E=C:A.sibling=C,A=C,T=O}if(I===x.length)return n(b,T),dt&&Ha(b,I),E;if(T===null){for(;I<x.length;I++)T=c(b,x[I],P),T!==null&&(_=o(T,_,I),A===null?E=T:A.sibling=T,A=T);return dt&&Ha(b,I),E}for(T=r(b,T);I<x.length;I++)O=p(T,b,I,x[I],P),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?I:O.key),_=o(O,_,I),A===null?E=O:A.sibling=O,A=O);return t&&T.forEach(function(R){return e(b,R)}),dt&&Ha(b,I),E}function g(b,_,x,P){var E=td(x);if(typeof E!="function")throw Error(ee(150));if(x=E.call(x),x==null)throw Error(ee(151));for(var A=E=null,T=_,I=_=0,O=null,C=x.next();T!==null&&!C.done;I++,C=x.next()){T.index>I?(O=T,T=null):O=T.sibling;var R=h(b,T,C.value,P);if(R===null){T===null&&(T=O);break}t&&T&&R.alternate===null&&e(b,T),_=o(R,_,I),A===null?E=R:A.sibling=R,A=R,T=O}if(C.done)return n(b,T),dt&&Ha(b,I),E;if(T===null){for(;!C.done;I++,C=x.next())C=c(b,C.value,P),C!==null&&(_=o(C,_,I),A===null?E=C:A.sibling=C,A=C);return dt&&Ha(b,I),E}for(T=r(b,T);!C.done;I++,C=x.next())C=p(T,b,I,C.value,P),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?I:C.key),_=o(C,_,I),A===null?E=C:A.sibling=C,A=C);return t&&T.forEach(function(k){return e(b,k)}),dt&&Ha(b,I),E}function v(b,_,x,P){if(typeof x=="object"&&x!==null&&x.type===jl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Lp:e:{for(var E=x.key,A=_;A!==null;){if(A.key===E){if(E=x.type,E===jl){if(A.tag===7){n(b,A.sibling),_=i(A,x.props.children),_.return=b,b=_;break e}}else if(A.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Fo&&sP(E)===A.type){n(b,A.sibling),_=i(A,x.props),_.ref=ad(b,A,x),_.return=b,b=_;break e}n(b,A);break}else e(b,A);A=A.sibling}x.type===jl?(_=ws(x.props.children,b.mode,P,x.key),_.return=b,b=_):(P=jm(x.type,x.key,x.props,null,b.mode,P),P.ref=ad(b,_,x),P.return=b,b=P)}return a(b);case Dl:e:{for(A=x.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(b,_.sibling),_=i(_,x.children||[]),_.return=b,b=_;break e}else{n(b,_);break}else e(b,_);_=_.sibling}_=M_(x,b.mode,P),_.return=b,b=_}return a(b);case Fo:return A=x._init,v(b,_,A(x._payload),P)}if(kd(x))return y(b,_,x,P);if(td(x))return g(b,_,x,P);Yp(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(b,_.sibling),_=i(_,x),_.return=b,b=_):(n(b,_),_=j_(x,b.mode,P),_.return=b,b=_),a(b)):n(b,_)}return v}var vu=fj(!0),hj=fj(!1),fg=Ia(null),hg=null,zl=null,cT=null;function dT(){cT=zl=hg=null}function fT(t){var e=fg.current;lt(fg),t._currentValue=e}function lw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function nu(t,e){hg=t,cT=zl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jn=!0),t.firstContext=null)}function $r(t){var e=t._currentValue;if(cT!==t)if(t={context:t,memoizedValue:e,next:null},zl===null){if(hg===null)throw Error(ee(308));zl=t,hg.dependencies={lanes:0,firstContext:t}}else zl=zl.next=t;return e}var us=null;function hT(t){us===null?us=[t]:us.push(t)}function pj(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hT(e)):(n.next=i.next,i.next=n),e.interleaved=n,ao(t,r)}function ao(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bo=!1;function pT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ia(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ao(t,n)}return i=r.interleaved,i===null?(e.next=e,hT(r)):(e.next=i.next,i.next=e),r.interleaved=e,ao(t,n)}function Om(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ZE(t,n)}}function lP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pg(t,e,n,r){var i=t.updateQueue;Bo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(o!==null){var c=i.baseState;a=0,d=u=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,g=s;switch(h=e,p=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){c=y.call(p,c,h);break e}c=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(p,c,h):y,h==null)break e;c=xt({},c,h);break e;case 2:Bo=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=p,l=c):d=d.next=p,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ks|=a,t.lanes=a,t.memoizedState=c}}function uP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var zh={},xi=Ia(zh),Tf=Ia(zh),If=Ia(zh);function cs(t){if(t===zh)throw Error(ee(174));return t}function mT(t,e){switch(et(If,e),et(Tf,t),et(xi,zh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ub(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ub(e,t)}lt(xi),et(xi,e)}function _u(){lt(xi),lt(Tf),lt(If)}function gj(t){cs(If.current);var e=cs(xi.current),n=Ub(e,t.type);e!==n&&(et(Tf,t),et(xi,n))}function gT(t){Tf.current===t&&(lt(xi),lt(Tf))}var vt=Ia(0);function mg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var O_=[];function yT(){for(var t=0;t<O_.length;t++)O_[t]._workInProgressVersionPrimary=null;O_.length=0}var km=go.ReactCurrentDispatcher,k_=go.ReactCurrentBatchConfig,Os=0,_t=null,Kt=null,nn=null,gg=!1,Kd=!1,Sf=0,rz=0;function En(){throw Error(ee(321))}function vT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ii(t[n],e[n]))return!1;return!0}function _T(t,e,n,r,i,o){if(Os=o,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,km.current=t===null||t.memoizedState===null?sz:lz,t=n(r,i),Kd){o=0;do{if(Kd=!1,Sf=0,25<=o)throw Error(ee(301));o+=1,nn=Kt=null,e.updateQueue=null,km.current=uz,t=n(r,i)}while(Kd)}if(km.current=yg,e=Kt!==null&&Kt.next!==null,Os=0,nn=Kt=_t=null,gg=!1,e)throw Error(ee(300));return t}function bT(){var t=Sf!==0;return Sf=0,t}function ci(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?_t.memoizedState=nn=t:nn=nn.next=t,nn}function Lr(){if(Kt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var e=nn===null?_t.memoizedState:nn.next;if(e!==null)nn=e,Kt=t;else{if(t===null)throw Error(ee(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},nn===null?_t.memoizedState=nn=t:nn=nn.next=t}return nn}function Af(t,e){return typeof e=="function"?e(t):e}function C_(t){var e=Lr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=Kt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var d=u.lane;if((Os&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=c,a=r):l=l.next=c,_t.lanes|=d,ks|=d}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,ii(r,e.memoizedState)||(Jn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,_t.lanes|=o,ks|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function R_(t){var e=Lr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);ii(o,e.memoizedState)||(Jn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function yj(){}function vj(t,e){var n=_t,r=Lr(),i=e(),o=!ii(r.memoizedState,i);if(o&&(r.memoizedState=i,Jn=!0),r=r.queue,wT(wj.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||nn!==null&&nn.memoizedState.tag&1){if(n.flags|=2048,Pf(9,bj.bind(null,n,r,i,e),void 0,null),an===null)throw Error(ee(349));Os&30||_j(n,e,i)}return i}function _j(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bj(t,e,n,r){e.value=n,e.getSnapshot=r,xj(e)&&Ej(t)}function wj(t,e,n){return n(function(){xj(e)&&Ej(t)})}function xj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ii(t,n)}catch{return!0}}function Ej(t){var e=ao(t,1);e!==null&&ri(e,t,1,-1)}function cP(t){var e=ci();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Af,lastRenderedState:t},e.queue=t,t=t.dispatch=az.bind(null,_t,t),[e.memoizedState,t]}function Pf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Tj(){return Lr().memoizedState}function Cm(t,e,n,r){var i=ci();_t.flags|=t,i.memoizedState=Pf(1|e,n,void 0,r===void 0?null:r)}function nv(t,e,n,r){var i=Lr();r=r===void 0?null:r;var o=void 0;if(Kt!==null){var a=Kt.memoizedState;if(o=a.destroy,r!==null&&vT(r,a.deps)){i.memoizedState=Pf(e,n,o,r);return}}_t.flags|=t,i.memoizedState=Pf(1|e,n,o,r)}function dP(t,e){return Cm(8390656,8,t,e)}function wT(t,e){return nv(2048,8,t,e)}function Ij(t,e){return nv(4,2,t,e)}function Sj(t,e){return nv(4,4,t,e)}function Aj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Pj(t,e,n){return n=n!=null?n.concat([t]):null,nv(4,4,Aj.bind(null,e,t),n)}function xT(){}function Oj(t,e){var n=Lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kj(t,e){var n=Lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Cj(t,e,n){return Os&21?(ii(n,e)||(n=MD(),_t.lanes|=n,ks|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jn=!0),t.memoizedState=n)}function iz(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=k_.transition;k_.transition={};try{t(!1),e()}finally{Ue=n,k_.transition=r}}function Rj(){return Lr().memoizedState}function oz(t,e,n){var r=aa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Nj(t))Dj(e,n);else if(n=pj(t,e,n,r),n!==null){var i=Vn();ri(n,t,r,i),jj(n,e,r)}}function az(t,e,n){var r=aa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nj(t))Dj(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,ii(s,a)){var l=e.interleaved;l===null?(i.next=i,hT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=pj(t,e,i,r),n!==null&&(i=Vn(),ri(n,t,r,i),jj(n,e,r))}}function Nj(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function Dj(t,e){Kd=gg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ZE(t,n)}}var yg={readContext:$r,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},sz={readContext:$r,useCallback:function(t,e){return ci().memoizedState=[t,e===void 0?null:e],t},useContext:$r,useEffect:dP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cm(4194308,4,Aj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cm(4,2,t,e)},useMemo:function(t,e){var n=ci();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ci();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=oz.bind(null,_t,t),[r.memoizedState,t]},useRef:function(t){var e=ci();return t={current:t},e.memoizedState=t},useState:cP,useDebugValue:xT,useDeferredValue:function(t){return ci().memoizedState=t},useTransition:function(){var t=cP(!1),e=t[0];return t=iz.bind(null,t[1]),ci().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_t,i=ci();if(dt){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),an===null)throw Error(ee(349));Os&30||_j(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,dP(wj.bind(null,r,o,t),[t]),r.flags|=2048,Pf(9,bj.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ci(),e=an.identifierPrefix;if(dt){var n=qi,r=Wi;n=(r&~(1<<32-ni(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lz={readContext:$r,useCallback:Oj,useContext:$r,useEffect:wT,useImperativeHandle:Pj,useInsertionEffect:Ij,useLayoutEffect:Sj,useMemo:kj,useReducer:C_,useRef:Tj,useState:function(){return C_(Af)},useDebugValue:xT,useDeferredValue:function(t){var e=Lr();return Cj(e,Kt.memoizedState,t)},useTransition:function(){var t=C_(Af)[0],e=Lr().memoizedState;return[t,e]},useMutableSource:yj,useSyncExternalStore:vj,useId:Rj,unstable_isNewReconciler:!1},uz={readContext:$r,useCallback:Oj,useContext:$r,useEffect:wT,useImperativeHandle:Pj,useInsertionEffect:Ij,useLayoutEffect:Sj,useMemo:kj,useReducer:R_,useRef:Tj,useState:function(){return R_(Af)},useDebugValue:xT,useDeferredValue:function(t){var e=Lr();return Kt===null?e.memoizedState=t:Cj(e,Kt.memoizedState,t)},useTransition:function(){var t=R_(Af)[0],e=Lr().memoizedState;return[t,e]},useMutableSource:yj,useSyncExternalStore:vj,useId:Rj,unstable_isNewReconciler:!1};function Qr(t,e){if(t&&t.defaultProps){e=xt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function uw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var rv={isMounted:function(t){return(t=t._reactInternals)?el(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vn(),i=aa(t),o=Xi(r,i);o.payload=e,n!=null&&(o.callback=n),e=ia(t,o,i),e!==null&&(ri(e,t,i,r),Om(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vn(),i=aa(t),o=Xi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ia(t,o,i),e!==null&&(ri(e,t,i,r),Om(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vn(),r=aa(t),i=Xi(n,r);i.tag=2,e!=null&&(i.callback=e),e=ia(t,i,r),e!==null&&(ri(e,t,r,n),Om(e,t,r))}};function fP(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!bf(n,r)||!bf(i,o):!0}function Mj(t,e,n){var r=!1,i=ha,o=e.contextType;return typeof o=="object"&&o!==null?o=$r(o):(i=ir(e)?As:Pn.current,r=e.contextTypes,o=(r=r!=null)?gu(t,i):ha),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function hP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&rv.enqueueReplaceState(e,e.state,null)}function cw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},pT(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=$r(o):(o=ir(e)?As:Pn.current,i.context=gu(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(uw(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&rv.enqueueReplaceState(i,i.state,null),pg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bu(t,e){try{var n="",r=e;do n+=$5(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function N_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function dw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cz=typeof WeakMap=="function"?WeakMap:Map;function $j(t,e,n){n=Xi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_g||(_g=!0,ww=r),dw(t,e)},n}function Lj(t,e,n){n=Xi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){dw(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){dw(t,e),typeof r!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function pP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Tz.bind(null,t,e,n),e.then(t,t))}function mP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xi(-1,1),e.tag=2,ia(n,e,1))),n.lanes|=1),t)}var dz=go.ReactCurrentOwner,Jn=!1;function Nn(t,e,n,r){e.child=t===null?hj(e,null,n,r):vu(e,t.child,n,r)}function yP(t,e,n,r,i){n=n.render;var o=e.ref;return nu(e,i),r=_T(t,e,n,r,o,i),n=bT(),t!==null&&!Jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,so(t,e,i)):(dt&&n&&sT(e),e.flags|=1,Nn(t,e,r,i),e.child)}function vP(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!kT(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Vj(t,e,o,r,i)):(t=jm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:bf,n(a,r)&&t.ref===e.ref)return so(t,e,i)}return e.flags|=1,t=sa(o,r),t.ref=e.ref,t.return=e,e.child=t}function Vj(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(bf(o,r)&&t.ref===e.ref)if(Jn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Jn=!0);else return e.lanes=t.lanes,so(t,e,i)}return fw(t,e,n,r,i)}function Fj(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(ql,dr),dr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(ql,dr),dr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,et(ql,dr),dr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,et(ql,dr),dr|=r;return Nn(t,e,i,n),e.child}function Bj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fw(t,e,n,r,i){var o=ir(n)?As:Pn.current;return o=gu(e,o),nu(e,i),n=_T(t,e,n,r,o,i),r=bT(),t!==null&&!Jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,so(t,e,i)):(dt&&r&&sT(e),e.flags|=1,Nn(t,e,n,i),e.child)}function _P(t,e,n,r,i){if(ir(n)){var o=!0;ug(e)}else o=!1;if(nu(e,i),e.stateNode===null)Rm(t,e),Mj(e,n,r),cw(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=$r(u):(u=ir(n)?As:Pn.current,u=gu(e,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&hP(e,a,r,u),Bo=!1;var h=e.memoizedState;a.state=h,pg(e,r,a,i),l=e.memoizedState,s!==r||h!==l||rr.current||Bo?(typeof d=="function"&&(uw(e,n,d,r),l=e.memoizedState),(s=Bo||fP(e,n,s,r,h,l,u))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,mj(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Qr(e.type,s),a.props=u,c=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=$r(l):(l=ir(n)?As:Pn.current,l=gu(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==c||h!==l)&&hP(e,a,r,l),Bo=!1,h=e.memoizedState,a.state=h,pg(e,r,a,i);var y=e.memoizedState;s!==c||h!==y||rr.current||Bo?(typeof p=="function"&&(uw(e,n,p,r),y=e.memoizedState),(u=Bo||fP(e,n,u,r,h,y,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return hw(t,e,n,r,o,i)}function hw(t,e,n,r,i,o){Bj(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&iP(e,n,!1),so(t,e,o);r=e.stateNode,dz.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=vu(e,t.child,null,o),e.child=vu(e,null,s,o)):Nn(t,e,s,o),e.memoizedState=r.state,i&&iP(e,n,!0),e.child}function Uj(t){var e=t.stateNode;e.pendingContext?rP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rP(t,e.context,!1),mT(t,e.containerInfo)}function bP(t,e,n,r,i){return yu(),uT(i),e.flags|=256,Nn(t,e,n,r),e.child}var pw={dehydrated:null,treeContext:null,retryLane:0};function mw(t){return{baseLanes:t,cachePool:null,transitions:null}}function zj(t,e,n){var r=e.pendingProps,i=vt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(vt,i&1),t===null)return sw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=av(a,r,0,null),t=ws(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=mw(n),e.memoizedState=pw,t):ET(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return fz(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=sa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=sa(s,o):(o=ws(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?mw(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=pw,r}return o=t.child,t=o.sibling,r=sa(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ET(t,e){return e=av({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qp(t,e,n,r){return r!==null&&uT(r),vu(e,t.child,null,n),t=ET(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fz(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=N_(Error(ee(422))),Qp(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=av({mode:"visible",children:r.children},i,0,null),o=ws(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&vu(e,t.child,null,a),e.child.memoizedState=mw(a),e.memoizedState=pw,o);if(!(e.mode&1))return Qp(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(ee(419)),r=N_(o,r,void 0),Qp(t,e,a,r)}if(s=(a&t.childLanes)!==0,Jn||s){if(r=an,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ao(t,i),ri(r,t,i,-1))}return OT(),r=N_(Error(ee(421))),Qp(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Iz.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,mr=ra(i.nextSibling),yr=e,dt=!0,ei=null,t!==null&&(Pr[Or++]=Wi,Pr[Or++]=qi,Pr[Or++]=Ps,Wi=t.id,qi=t.overflow,Ps=e),e=ET(e,r.children),e.flags|=4096,e)}function wP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),lw(t.return,e,n)}function D_(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Wj(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Nn(t,e,r.children,n),r=vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wP(t,n,e);else if(t.tag===19)wP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(vt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&mg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),D_(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}D_(e,!0,n,null,o);break;case"together":D_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function so(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ks|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=sa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=sa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hz(t,e,n){switch(e.tag){case 3:Uj(e),yu();break;case 5:gj(e);break;case 1:ir(e.type)&&ug(e);break;case 4:mT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(fg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(vt,vt.current&1),e.flags|=128,null):n&e.child.childLanes?zj(t,e,n):(et(vt,vt.current&1),t=so(t,e,n),t!==null?t.sibling:null);et(vt,vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Wj(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(vt,vt.current),r)break;return null;case 22:case 23:return e.lanes=0,Fj(t,e,n)}return so(t,e,n)}var qj,gw,Gj,Kj;qj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gw=function(){};Gj=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,cs(xi.current);var o=null;switch(n){case"input":i=Lb(t,i),r=Lb(t,r),o=[];break;case"select":i=xt({},i,{value:void 0}),r=xt({},r,{value:void 0}),o=[];break;case"textarea":i=Bb(t,i),r=Bb(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sg)}zb(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hf.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&it("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Kj=function(t,e,n,r){n!==r&&(e.flags|=4)};function sd(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pz(t,e,n){var r=e.pendingProps;switch(lT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(e),null;case 1:return ir(e.type)&&lg(),Tn(e),null;case 3:return r=e.stateNode,_u(),lt(rr),lt(Pn),yT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ei!==null&&(Tw(ei),ei=null))),gw(t,e),Tn(e),null;case 5:gT(e);var i=cs(If.current);if(n=e.type,t!==null&&e.stateNode!=null)Gj(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return Tn(e),null}if(t=cs(xi.current),Hp(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[di]=e,r[Ef]=o,t=(e.mode&1)!==0,n){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(i=0;i<Rd.length;i++)it(Rd[i],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":kA(r,o),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},it("invalid",r);break;case"textarea":RA(r,o),it("invalid",r)}zb(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Kp(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Kp(r.textContent,s,t),i=["children",""+s]):hf.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&it("scroll",r)}switch(n){case"input":Vp(r),CA(r,o,!0);break;case"textarea":Vp(r),NA(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=sg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wD(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[di]=e,t[Ef]=r,qj(t,e,!1,!1),e.stateNode=t;e:{switch(a=Wb(n,r),n){case"dialog":it("cancel",t),it("close",t),i=r;break;case"iframe":case"object":case"embed":it("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rd.length;i++)it(Rd[i],t);i=r;break;case"source":it("error",t),i=r;break;case"img":case"image":case"link":it("error",t),it("load",t),i=r;break;case"details":it("toggle",t),i=r;break;case"input":kA(t,r),i=Lb(t,r),it("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xt({},r,{value:void 0}),it("invalid",t);break;case"textarea":RA(t,r),i=Bb(t,r),it("invalid",t);break;default:i=r}zb(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?TD(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xD(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&pf(t,l):typeof l=="number"&&pf(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(hf.hasOwnProperty(o)?l!=null&&o==="onScroll"&&it("scroll",t):l!=null&&KE(t,o,l,a))}switch(n){case"input":Vp(t),CA(t,r,!1);break;case"textarea":Vp(t),NA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fa(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Jl(t,!!r.multiple,o,!1):r.defaultValue!=null&&Jl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tn(e),null;case 6:if(t&&e.stateNode!=null)Kj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=cs(If.current),cs(xi.current),Hp(e)){if(r=e.stateNode,n=e.memoizedProps,r[di]=e,(o=r.nodeValue!==n)&&(t=yr,t!==null))switch(t.tag){case 3:Kp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kp(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[di]=e,e.stateNode=r}return Tn(e),null;case 13:if(lt(vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&mr!==null&&e.mode&1&&!(e.flags&128))dj(),yu(),e.flags|=98560,o=!1;else if(o=Hp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ee(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[di]=e}else yu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tn(e),o=!1}else ei!==null&&(Tw(ei),ei=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||vt.current&1?Yt===0&&(Yt=3):OT())),e.updateQueue!==null&&(e.flags|=4),Tn(e),null);case 4:return _u(),gw(t,e),t===null&&wf(e.stateNode.containerInfo),Tn(e),null;case 10:return fT(e.type._context),Tn(e),null;case 17:return ir(e.type)&&lg(),Tn(e),null;case 19:if(lt(vt),o=e.memoizedState,o===null)return Tn(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)sd(o,!1);else{if(Yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=mg(t),a!==null){for(e.flags|=128,sd(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(vt,vt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Dt()>wu&&(e.flags|=128,r=!0,sd(o,!1),e.lanes=4194304)}else{if(!r)if(t=mg(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),sd(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!dt)return Tn(e),null}else 2*Dt()-o.renderingStartTime>wu&&n!==1073741824&&(e.flags|=128,r=!0,sd(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Dt(),e.sibling=null,n=vt.current,et(vt,r?n&1|2:n&1),e):(Tn(e),null);case 22:case 23:return PT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dr&1073741824&&(Tn(e),e.subtreeFlags&6&&(e.flags|=8192)):Tn(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function mz(t,e){switch(lT(e),e.tag){case 1:return ir(e.type)&&lg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _u(),lt(rr),lt(Pn),yT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gT(e),null;case 13:if(lt(vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));yu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(vt),null;case 4:return _u(),null;case 10:return fT(e.type._context),null;case 22:case 23:return PT(),null;case 24:return null;default:return null}}var Xp=!1,An=!1,gz=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Wl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){It(t,e,r)}else n.current=null}function yw(t,e,n){try{n()}catch(r){It(t,e,r)}}var xP=!1;function yz(t,e){if(ew=ig,t=JD(),aT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,d=0,c=t,h=null;t:for(;;){for(var p;c!==n||i!==0&&c.nodeType!==3||(s=a+i),c!==o||r!==0&&c.nodeType!==3||(l=a+r),c.nodeType===3&&(a+=c.nodeValue.length),(p=c.firstChild)!==null;)h=c,c=p;for(;;){if(c===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++d===r&&(l=a),(p=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(tw={focusedElem:t,selectionRange:n},ig=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,b=e.stateNode,_=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:Qr(e.type,g),v);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(P){It(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return y=xP,xP=!1,y}function Hd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&yw(e,n,o)}i=i.next}while(i!==r)}}function iv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Hj(t){var e=t.alternate;e!==null&&(t.alternate=null,Hj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[di],delete e[Ef],delete e[iw],delete e[Z6],delete e[ez])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Yj(t){return t.tag===5||t.tag===3||t.tag===4}function EP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _w(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sg));else if(r!==4&&(t=t.child,t!==null))for(_w(t,e,n),t=t.sibling;t!==null;)_w(t,e,n),t=t.sibling}function bw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bw(t,e,n),t=t.sibling;t!==null;)bw(t,e,n),t=t.sibling}var hn=null,Xr=!1;function No(t,e,n){for(n=n.child;n!==null;)Qj(t,e,n),n=n.sibling}function Qj(t,e,n){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(Qy,n)}catch{}switch(n.tag){case 5:An||Wl(n,e);case 6:var r=hn,i=Xr;hn=null,No(t,e,n),hn=r,Xr=i,hn!==null&&(Xr?(t=hn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):hn.removeChild(n.stateNode));break;case 18:hn!==null&&(Xr?(t=hn,n=n.stateNode,t.nodeType===8?A_(t.parentNode,n):t.nodeType===1&&A_(t,n),vf(t)):A_(hn,n.stateNode));break;case 4:r=hn,i=Xr,hn=n.stateNode.containerInfo,Xr=!0,No(t,e,n),hn=r,Xr=i;break;case 0:case 11:case 14:case 15:if(!An&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&yw(n,e,a),i=i.next}while(i!==r)}No(t,e,n);break;case 1:if(!An&&(Wl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){It(n,e,s)}No(t,e,n);break;case 21:No(t,e,n);break;case 22:n.mode&1?(An=(r=An)||n.memoizedState!==null,No(t,e,n),An=r):No(t,e,n);break;default:No(t,e,n)}}function TP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gz),e.forEach(function(r){var i=Sz.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Hr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:hn=s.stateNode,Xr=!1;break e;case 3:hn=s.stateNode.containerInfo,Xr=!0;break e;case 4:hn=s.stateNode.containerInfo,Xr=!0;break e}s=s.return}if(hn===null)throw Error(ee(160));Qj(o,a,i),hn=null,Xr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){It(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xj(e,t),e=e.sibling}function Xj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hr(e,t),li(t),r&4){try{Hd(3,t,t.return),iv(3,t)}catch(g){It(t,t.return,g)}try{Hd(5,t,t.return)}catch(g){It(t,t.return,g)}}break;case 1:Hr(e,t),li(t),r&512&&n!==null&&Wl(n,n.return);break;case 5:if(Hr(e,t),li(t),r&512&&n!==null&&Wl(n,n.return),t.flags&32){var i=t.stateNode;try{pf(i,"")}catch(g){It(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&_D(i,o),Wb(s,a);var u=Wb(s,o);for(a=0;a<l.length;a+=2){var d=l[a],c=l[a+1];d==="style"?TD(i,c):d==="dangerouslySetInnerHTML"?xD(i,c):d==="children"?pf(i,c):KE(i,d,c,u)}switch(s){case"input":Vb(i,o);break;case"textarea":bD(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Jl(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Jl(i,!!o.multiple,o.defaultValue,!0):Jl(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ef]=o}catch(g){It(t,t.return,g)}}break;case 6:if(Hr(e,t),li(t),r&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){It(t,t.return,g)}}break;case 3:if(Hr(e,t),li(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vf(e.containerInfo)}catch(g){It(t,t.return,g)}break;case 4:Hr(e,t),li(t);break;case 13:Hr(e,t),li(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ST=Dt())),r&4&&TP(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(An=(u=An)||d,Hr(e,t),An=u):Hr(e,t),li(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ue=t,d=t.child;d!==null;){for(c=ue=d;ue!==null;){switch(h=ue,p=h.child,h.tag){case 0:case 11:case 14:case 15:Hd(4,h,h.return);break;case 1:Wl(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){It(r,n,g)}}break;case 5:Wl(h,h.return);break;case 22:if(h.memoizedState!==null){SP(c);continue}}p!==null?(p.return=h,ue=p):SP(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=c.stateNode,l=c.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=ED("display",a))}catch(g){It(t,t.return,g)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(g){It(t,t.return,g)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Hr(e,t),li(t),r&4&&TP(t);break;case 21:break;default:Hr(e,t),li(t)}}function li(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Yj(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(pf(i,""),r.flags&=-33);var o=EP(t);bw(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=EP(t);_w(t,s,a);break;default:throw Error(ee(161))}}catch(l){It(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vz(t,e,n){ue=t,Jj(t)}function Jj(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var i=ue,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Xp;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||An;s=Xp;var u=An;if(Xp=a,(An=l)&&!u)for(ue=i;ue!==null;)a=ue,l=a.child,a.tag===22&&a.memoizedState!==null?AP(i):l!==null?(l.return=a,ue=l):AP(i);for(;o!==null;)ue=o,Jj(o),o=o.sibling;ue=i,Xp=s,An=u}IP(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ue=o):IP(t)}}function IP(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:An||iv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!An)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Qr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&uP(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}uP(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&vf(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}An||e.flags&512&&vw(e)}catch(h){It(e,e.return,h)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function SP(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function AP(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{iv(4,e)}catch(l){It(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){It(e,i,l)}}var o=e.return;try{vw(e)}catch(l){It(e,o,l)}break;case 5:var a=e.return;try{vw(e)}catch(l){It(e,a,l)}}}catch(l){It(e,e.return,l)}if(e===t){ue=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ue=s;break}ue=e.return}}var _z=Math.ceil,vg=go.ReactCurrentDispatcher,TT=go.ReactCurrentOwner,Dr=go.ReactCurrentBatchConfig,Ne=0,an=null,Bt=null,gn=0,dr=0,ql=Ia(0),Yt=0,Of=null,ks=0,ov=0,IT=0,Yd=null,Qn=null,ST=0,wu=1/0,Bi=null,_g=!1,ww=null,oa=null,Jp=!1,Ho=null,bg=0,Qd=0,xw=null,Nm=-1,Dm=0;function Vn(){return Ne&6?Dt():Nm!==-1?Nm:Nm=Dt()}function aa(t){return t.mode&1?Ne&2&&gn!==0?gn&-gn:nz.transition!==null?(Dm===0&&(Dm=MD()),Dm):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:zD(t.type)),t):1}function ri(t,e,n,r){if(50<Qd)throw Qd=0,xw=null,Error(ee(185));Fh(t,n,r),(!(Ne&2)||t!==an)&&(t===an&&(!(Ne&2)&&(ov|=n),Yt===4&&Wo(t,gn)),or(t,r),n===1&&Ne===0&&!(e.mode&1)&&(wu=Dt()+500,tv&&Sa()))}function or(t,e){var n=t.callbackNode;n6(t,e);var r=rg(t,t===an?gn:0);if(r===0)n!==null&&MA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&MA(n),e===1)t.tag===0?tz(PP.bind(null,t)):lj(PP.bind(null,t)),X6(function(){!(Ne&6)&&Sa()}),n=null;else{switch($D(r)){case 1:n=JE;break;case 4:n=DD;break;case 16:n=ng;break;case 536870912:n=jD;break;default:n=ng}n=aM(n,Zj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Zj(t,e){if(Nm=-1,Dm=0,Ne&6)throw Error(ee(327));var n=t.callbackNode;if(ru()&&t.callbackNode!==n)return null;var r=rg(t,t===an?gn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wg(t,r);else{e=r;var i=Ne;Ne|=2;var o=tM();(an!==t||gn!==e)&&(Bi=null,wu=Dt()+500,bs(t,e));do try{xz();break}catch(s){eM(t,s)}while(!0);dT(),vg.current=o,Ne=i,Bt!==null?e=0:(an=null,gn=0,e=Yt)}if(e!==0){if(e===2&&(i=Yb(t),i!==0&&(r=i,e=Ew(t,i))),e===1)throw n=Of,bs(t,0),Wo(t,r),or(t,Dt()),n;if(e===6)Wo(t,r);else{if(i=t.current.alternate,!(r&30)&&!bz(i)&&(e=wg(t,r),e===2&&(o=Yb(t),o!==0&&(r=o,e=Ew(t,o))),e===1))throw n=Of,bs(t,0),Wo(t,r),or(t,Dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:Ya(t,Qn,Bi);break;case 3:if(Wo(t,r),(r&130023424)===r&&(e=ST+500-Dt(),10<e)){if(rg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=rw(Ya.bind(null,t,Qn,Bi),e);break}Ya(t,Qn,Bi);break;case 4:if(Wo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-ni(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_z(r/1960))-r,10<r){t.timeoutHandle=rw(Ya.bind(null,t,Qn,Bi),r);break}Ya(t,Qn,Bi);break;case 5:Ya(t,Qn,Bi);break;default:throw Error(ee(329))}}}return or(t,Dt()),t.callbackNode===n?Zj.bind(null,t):null}function Ew(t,e){var n=Yd;return t.current.memoizedState.isDehydrated&&(bs(t,e).flags|=256),t=wg(t,e),t!==2&&(e=Qn,Qn=n,e!==null&&Tw(e)),t}function Tw(t){Qn===null?Qn=t:Qn.push.apply(Qn,t)}function bz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ii(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wo(t,e){for(e&=~IT,e&=~ov,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ni(e),r=1<<n;t[n]=-1,e&=~r}}function PP(t){if(Ne&6)throw Error(ee(327));ru();var e=rg(t,0);if(!(e&1))return or(t,Dt()),null;var n=wg(t,e);if(t.tag!==0&&n===2){var r=Yb(t);r!==0&&(e=r,n=Ew(t,r))}if(n===1)throw n=Of,bs(t,0),Wo(t,e),or(t,Dt()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ya(t,Qn,Bi),or(t,Dt()),null}function AT(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(wu=Dt()+500,tv&&Sa())}}function Cs(t){Ho!==null&&Ho.tag===0&&!(Ne&6)&&ru();var e=Ne;Ne|=1;var n=Dr.transition,r=Ue;try{if(Dr.transition=null,Ue=1,t)return t()}finally{Ue=r,Dr.transition=n,Ne=e,!(Ne&6)&&Sa()}}function PT(){dr=ql.current,lt(ql)}function bs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Q6(n)),Bt!==null)for(n=Bt.return;n!==null;){var r=n;switch(lT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lg();break;case 3:_u(),lt(rr),lt(Pn),yT();break;case 5:gT(r);break;case 4:_u();break;case 13:lt(vt);break;case 19:lt(vt);break;case 10:fT(r.type._context);break;case 22:case 23:PT()}n=n.return}if(an=t,Bt=t=sa(t.current,null),gn=dr=e,Yt=0,Of=null,IT=ov=ks=0,Qn=Yd=null,us!==null){for(e=0;e<us.length;e++)if(n=us[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}us=null}return t}function eM(t,e){do{var n=Bt;try{if(dT(),km.current=yg,gg){for(var r=_t.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gg=!1}if(Os=0,nn=Kt=_t=null,Kd=!1,Sf=0,TT.current=null,n===null||n.return===null){Yt=1,Of=e,Bt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=gn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=mP(a);if(p!==null){p.flags&=-257,gP(p,a,s,o,e),p.mode&1&&pP(o,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){pP(o,u,e),OT();break e}l=Error(ee(426))}}else if(dt&&s.mode&1){var v=mP(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),gP(v,a,s,o,e),uT(bu(l,s));break e}}o=l=bu(l,s),Yt!==4&&(Yt=2),Yd===null?Yd=[o]:Yd.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=$j(o,l,e);lP(o,b);break e;case 1:s=l;var _=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(oa===null||!oa.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=Lj(o,s,e);lP(o,P);break e}}o=o.return}while(o!==null)}rM(n)}catch(E){e=E,Bt===n&&n!==null&&(Bt=n=n.return);continue}break}while(!0)}function tM(){var t=vg.current;return vg.current=yg,t===null?yg:t}function OT(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),an===null||!(ks&268435455)&&!(ov&268435455)||Wo(an,gn)}function wg(t,e){var n=Ne;Ne|=2;var r=tM();(an!==t||gn!==e)&&(Bi=null,bs(t,e));do try{wz();break}catch(i){eM(t,i)}while(!0);if(dT(),Ne=n,vg.current=r,Bt!==null)throw Error(ee(261));return an=null,gn=0,Yt}function wz(){for(;Bt!==null;)nM(Bt)}function xz(){for(;Bt!==null&&!K5();)nM(Bt)}function nM(t){var e=oM(t.alternate,t,dr);t.memoizedProps=t.pendingProps,e===null?rM(t):Bt=e,TT.current=null}function rM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mz(n,e),n!==null){n.flags&=32767,Bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yt=6,Bt=null;return}}else if(n=pz(n,e,dr),n!==null){Bt=n;return}if(e=e.sibling,e!==null){Bt=e;return}Bt=e=t}while(e!==null);Yt===0&&(Yt=5)}function Ya(t,e,n){var r=Ue,i=Dr.transition;try{Dr.transition=null,Ue=1,Ez(t,e,n,r)}finally{Dr.transition=i,Ue=r}return null}function Ez(t,e,n,r){do ru();while(Ho!==null);if(Ne&6)throw Error(ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(r6(t,o),t===an&&(Bt=an=null,gn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jp||(Jp=!0,aM(ng,function(){return ru(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Dr.transition,Dr.transition=null;var a=Ue;Ue=1;var s=Ne;Ne|=4,TT.current=null,yz(t,n),Xj(n,t),z6(tw),ig=!!ew,tw=ew=null,t.current=n,vz(n),H5(),Ne=s,Ue=a,Dr.transition=o}else t.current=n;if(Jp&&(Jp=!1,Ho=t,bg=i),o=t.pendingLanes,o===0&&(oa=null),X5(n.stateNode),or(t,Dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_g)throw _g=!1,t=ww,ww=null,t;return bg&1&&t.tag!==0&&ru(),o=t.pendingLanes,o&1?t===xw?Qd++:(Qd=0,xw=t):Qd=0,Sa(),null}function ru(){if(Ho!==null){var t=$D(bg),e=Dr.transition,n=Ue;try{if(Dr.transition=null,Ue=16>t?16:t,Ho===null)var r=!1;else{if(t=Ho,Ho=null,bg=0,Ne&6)throw Error(ee(331));var i=Ne;for(Ne|=4,ue=t.current;ue!==null;){var o=ue,a=o.child;if(ue.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ue=u;ue!==null;){var d=ue;switch(d.tag){case 0:case 11:case 15:Hd(8,d,o)}var c=d.child;if(c!==null)c.return=d,ue=c;else for(;ue!==null;){d=ue;var h=d.sibling,p=d.return;if(Hj(d),d===u){ue=null;break}if(h!==null){h.return=p,ue=h;break}ue=p}}}var y=o.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ue=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ue=a;else e:for(;ue!==null;){if(o=ue,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Hd(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,ue=b;break e}ue=o.return}}var _=t.current;for(ue=_;ue!==null;){a=ue;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,ue=x;else e:for(a=_;ue!==null;){if(s=ue,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:iv(9,s)}}catch(E){It(s,s.return,E)}if(s===a){ue=null;break e}var P=s.sibling;if(P!==null){P.return=s.return,ue=P;break e}ue=s.return}}if(Ne=i,Sa(),wi&&typeof wi.onPostCommitFiberRoot=="function")try{wi.onPostCommitFiberRoot(Qy,t)}catch{}r=!0}return r}finally{Ue=n,Dr.transition=e}}return!1}function OP(t,e,n){e=bu(n,e),e=$j(t,e,1),t=ia(t,e,1),e=Vn(),t!==null&&(Fh(t,1,e),or(t,e))}function It(t,e,n){if(t.tag===3)OP(t,t,n);else for(;e!==null;){if(e.tag===3){OP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oa===null||!oa.has(r))){t=bu(n,t),t=Lj(e,t,1),e=ia(e,t,1),t=Vn(),e!==null&&(Fh(e,1,t),or(e,t));break}}e=e.return}}function Tz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vn(),t.pingedLanes|=t.suspendedLanes&n,an===t&&(gn&n)===n&&(Yt===4||Yt===3&&(gn&130023424)===gn&&500>Dt()-ST?bs(t,0):IT|=n),or(t,e)}function iM(t,e){e===0&&(t.mode&1?(e=Up,Up<<=1,!(Up&130023424)&&(Up=4194304)):e=1);var n=Vn();t=ao(t,e),t!==null&&(Fh(t,e,n),or(t,n))}function Iz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iM(t,n)}function Sz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),iM(t,n)}var oM;oM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rr.current)Jn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jn=!1,hz(t,e,n);Jn=!!(t.flags&131072)}else Jn=!1,dt&&e.flags&1048576&&uj(e,dg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Rm(t,e),t=e.pendingProps;var i=gu(e,Pn.current);nu(e,n),i=_T(null,e,r,t,i,n);var o=bT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ir(r)?(o=!0,ug(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pT(e),i.updater=rv,e.stateNode=i,i._reactInternals=e,cw(e,r,t,n),e=hw(null,e,r,!0,o,n)):(e.tag=0,dt&&o&&sT(e),Nn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Rm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Pz(r),t=Qr(r,t),i){case 0:e=fw(null,e,r,t,n);break e;case 1:e=_P(null,e,r,t,n);break e;case 11:e=yP(null,e,r,t,n);break e;case 14:e=vP(null,e,r,Qr(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qr(r,i),fw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qr(r,i),_P(t,e,r,i,n);case 3:e:{if(Uj(e),t===null)throw Error(ee(387));r=e.pendingProps,o=e.memoizedState,i=o.element,mj(t,e),pg(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=bu(Error(ee(423)),e),e=bP(t,e,r,n,i);break e}else if(r!==i){i=bu(Error(ee(424)),e),e=bP(t,e,r,n,i);break e}else for(mr=ra(e.stateNode.containerInfo.firstChild),yr=e,dt=!0,ei=null,n=hj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yu(),r===i){e=so(t,e,n);break e}Nn(t,e,r,n)}e=e.child}return e;case 5:return gj(e),t===null&&sw(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,nw(r,i)?a=null:o!==null&&nw(r,o)&&(e.flags|=32),Bj(t,e),Nn(t,e,a,n),e.child;case 6:return t===null&&sw(e),null;case 13:return zj(t,e,n);case 4:return mT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=vu(e,null,r,n):Nn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qr(r,i),yP(t,e,r,i,n);case 7:return Nn(t,e,e.pendingProps,n),e.child;case 8:return Nn(t,e,e.pendingProps.children,n),e.child;case 12:return Nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,et(fg,r._currentValue),r._currentValue=a,o!==null)if(ii(o.value,a)){if(o.children===i.children&&!rr.current){e=so(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Xi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),lw(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ee(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),lw(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Nn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,nu(e,n),i=$r(i),r=r(i),e.flags|=1,Nn(t,e,r,n),e.child;case 14:return r=e.type,i=Qr(r,e.pendingProps),i=Qr(r.type,i),vP(t,e,r,i,n);case 15:return Vj(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qr(r,i),Rm(t,e),e.tag=1,ir(r)?(t=!0,ug(e)):t=!1,nu(e,n),Mj(e,r,i),cw(e,r,i,n),hw(null,e,r,!0,t,n);case 19:return Wj(t,e,n);case 22:return Fj(t,e,n)}throw Error(ee(156,e.tag))};function aM(t,e){return ND(t,e)}function Az(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(t,e,n,r){return new Az(t,e,n,r)}function kT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pz(t){if(typeof t=="function")return kT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===YE)return 11;if(t===QE)return 14}return 2}function sa(t,e){var n=t.alternate;return n===null?(n=Cr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jm(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")kT(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case jl:return ws(n.children,i,o,e);case HE:a=8,i|=8;break;case Db:return t=Cr(12,n,e,i|2),t.elementType=Db,t.lanes=o,t;case jb:return t=Cr(13,n,e,i),t.elementType=jb,t.lanes=o,t;case Mb:return t=Cr(19,n,e,i),t.elementType=Mb,t.lanes=o,t;case gD:return av(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pD:a=10;break e;case mD:a=9;break e;case YE:a=11;break e;case QE:a=14;break e;case Fo:a=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=Cr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ws(t,e,n,r){return t=Cr(7,t,r,e),t.lanes=n,t}function av(t,e,n,r){return t=Cr(22,t,r,e),t.elementType=gD,t.lanes=n,t.stateNode={isHidden:!1},t}function j_(t,e,n){return t=Cr(6,t,null,e),t.lanes=n,t}function M_(t,e,n){return e=Cr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Oz(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=g_(0),this.expirationTimes=g_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function CT(t,e,n,r,i,o,a,s,l){return t=new Oz(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Cr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pT(o),t}function kz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sM(t){if(!t)return ha;t=t._reactInternals;e:{if(el(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ir(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(ir(n))return sj(t,n,e)}return e}function lM(t,e,n,r,i,o,a,s,l){return t=CT(n,r,!0,t,i,o,a,s,l),t.context=sM(null),n=t.current,r=Vn(),i=aa(n),o=Xi(r,i),o.callback=e??null,ia(n,o,i),t.current.lanes=i,Fh(t,i,r),or(t,r),t}function sv(t,e,n,r){var i=e.current,o=Vn(),a=aa(i);return n=sM(n),e.context===null?e.context=n:e.pendingContext=n,e=Xi(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ia(i,e,a),t!==null&&(ri(t,i,a,o),Om(t,i,a)),a}function xg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function RT(t,e){kP(t,e),(t=t.alternate)&&kP(t,e)}function Cz(){return null}var uM=typeof reportError=="function"?reportError:function(t){console.error(t)};function NT(t){this._internalRoot=t}lv.prototype.render=NT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));sv(t,e,null,null)};lv.prototype.unmount=NT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cs(function(){sv(null,t,null,null)}),e[oo]=null}};function lv(t){this._internalRoot=t}lv.prototype.unstable_scheduleHydration=function(t){if(t){var e=FD();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zo.length&&e!==0&&e<zo[n].priority;n++);zo.splice(n,0,t),n===0&&UD(t)}};function DT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function CP(){}function Rz(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=xg(a);o.call(u)}}var a=lM(e,r,t,0,null,!1,!1,"",CP);return t._reactRootContainer=a,t[oo]=a.current,wf(t.nodeType===8?t.parentNode:t),Cs(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=xg(l);s.call(u)}}var l=CT(t,0,!1,null,null,!1,!1,"",CP);return t._reactRootContainer=l,t[oo]=l.current,wf(t.nodeType===8?t.parentNode:t),Cs(function(){sv(e,l,n,r)}),l}function cv(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=xg(a);s.call(l)}}sv(e,a,t,i)}else a=Rz(n,e,t,i,r);return xg(a)}LD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Cd(e.pendingLanes);n!==0&&(ZE(e,n|1),or(e,Dt()),!(Ne&6)&&(wu=Dt()+500,Sa()))}break;case 13:Cs(function(){var r=ao(t,1);if(r!==null){var i=Vn();ri(r,t,1,i)}}),RT(t,1)}};eT=function(t){if(t.tag===13){var e=ao(t,134217728);if(e!==null){var n=Vn();ri(e,t,134217728,n)}RT(t,134217728)}};VD=function(t){if(t.tag===13){var e=aa(t),n=ao(t,e);if(n!==null){var r=Vn();ri(n,t,e,r)}RT(t,e)}};FD=function(){return Ue};BD=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};Gb=function(t,e,n){switch(e){case"input":if(Vb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ev(r);if(!i)throw Error(ee(90));vD(r),Vb(r,i)}}}break;case"textarea":bD(t,n);break;case"select":e=n.value,e!=null&&Jl(t,!!n.multiple,e,!1)}};AD=AT;PD=Cs;var Nz={usingClientEntryPoint:!1,Events:[Uh,Vl,ev,ID,SD,AT]},ld={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dz={bundleType:ld.bundleType,version:ld.version,rendererPackageName:ld.rendererPackageName,rendererConfig:ld.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:go.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CD(t),t===null?null:t.stateNode},findFiberByHostInstance:ld.findFiberByHostInstance||Cz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zp.isDisabled&&Zp.supportsFiber)try{Qy=Zp.inject(Dz),wi=Zp}catch{}}xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nz;xr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DT(e))throw Error(ee(200));return kz(t,e,null,n)};xr.createRoot=function(t,e){if(!DT(t))throw Error(ee(299));var n=!1,r="",i=uM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=CT(t,1,!1,null,null,n,!1,r,i),t[oo]=e.current,wf(t.nodeType===8?t.parentNode:t),new NT(e)};xr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=CD(e),t=t===null?null:t.stateNode,t};xr.flushSync=function(t){return Cs(t)};xr.hydrate=function(t,e,n){if(!uv(e))throw Error(ee(200));return cv(null,t,e,!0,n)};xr.hydrateRoot=function(t,e,n){if(!DT(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=uM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=lM(e,null,t,1,n??null,i,!1,o,a),t[oo]=e.current,wf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new lv(e)};xr.render=function(t,e,n){if(!uv(e))throw Error(ee(200));return cv(null,t,e,!1,n)};xr.unmountComponentAtNode=function(t){if(!uv(t))throw Error(ee(40));return t._reactRootContainer?(Cs(function(){cv(null,null,t,!1,function(){t._reactRootContainer=null,t[oo]=null})}),!0):!1};xr.unstable_batchedUpdates=AT;xr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!uv(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return cv(t,e,n,!1,r)};xr.version="18.3.1-next-f1338f8080-20240426";function cM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cM)}catch(t){console.error(t)}}cM(),cD.exports=xr;var jz=cD.exports,RP=jz;Rb.createRoot=RP.createRoot,Rb.hydrateRoot=RP.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kf(){return kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kf.apply(this,arguments)}var Yo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yo||(Yo={}));const NP="popstate";function Mz(t){t===void 0&&(t={});function e(i,o){let{pathname:a="/",search:s="",hash:l=""}=tl(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Iw("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof o=="string"?o:Eg(o))}function r(i,o){dv(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Lz(e,n,r,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $z(){return Math.random().toString(36).substr(2,8)}function DP(t,e){return{usr:t.state,key:t.key,idx:e}}function Iw(t,e,n,r){return n===void 0&&(n=null),kf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tl(e):e,{state:n,key:e&&e.key||r||$z()})}function Eg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function tl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Lz(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Yo.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(kf({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function c(){s=Yo.Pop;let v=d(),b=v==null?null:v-u;u=v,l&&l({action:s,location:g.location,delta:b})}function h(v,b){s=Yo.Push;let _=Iw(g.location,v,b);n&&n(_,v),u=d()+1;let x=DP(_,u),P=g.createHref(_);try{a.pushState(x,"",P)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(P)}o&&l&&l({action:s,location:g.location,delta:1})}function p(v,b){s=Yo.Replace;let _=Iw(g.location,v,b);n&&n(_,v),u=d();let x=DP(_,u),P=g.createHref(_);a.replaceState(x,"",P),o&&l&&l({action:s,location:g.location,delta:0})}function y(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof v=="string"?v:Eg(v);return _=_.replace(/ $/,"%20"),bt(b,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,b)}let g={get action(){return s},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(NP,c),l=v,()=>{i.removeEventListener(NP,c),l=null}},createHref(v){return e(i,v)},createURL:y,encodeLocation(v){let b=y(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(v){return a.go(v)}};return g}var jP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jP||(jP={}));function Vz(t,e,n){return n===void 0&&(n="/"),Fz(t,e,n)}function Fz(t,e,n,r){let i=typeof e=="string"?tl(e):e,o=xu(i.pathname||"/",n);if(o==null)return null;let a=dM(t);Bz(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=Jz(o);s=Qz(a[l],u)}return s}function dM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=la([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(bt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),dM(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:Hz(u,o.index),routesMeta:d})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of fM(o.path))i(o,a,l)}),e}function fM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=fM(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function Bz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Yz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Uz=/^:[\w-]+$/,zz=3,Wz=2,qz=1,Gz=10,Kz=-2,MP=t=>t==="*";function Hz(t,e){let n=t.split("/"),r=n.length;return n.some(MP)&&(r+=Kz),e&&(r+=Wz),n.filter(i=>!MP(i)).reduce((i,o)=>i+(Uz.test(o)?zz:o===""?qz:Gz),r)}function Yz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Qz(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",c=Sw({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!c)return null;Object.assign(i,c.params),a.push({params:i,pathname:la([o,c.pathname]),pathnameBase:r9(la([o,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(o=la([o,c.pathnameBase]))}return a}function Sw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Xz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,d,c)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=s[c]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const y=s[c];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function Xz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),dv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Jz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Zz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e9=t=>Zz.test(t);function t9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?tl(t):t,o;if(n)if(e9(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),dv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=$P(n.substring(1),"/"):o=$P(n,e)}else o=e;return{pathname:o,search:i9(r),hash:o9(i)}}function $P(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jT(t,e){let n=n9(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function MT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=tl(t):(i=kf({},t),bt(!i.pathname||!i.pathname.includes("?"),$_("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),$_("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),$_("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let c=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),c-=1;i.pathname=h.join("/")}s=c>=0?e[c]:"/"}let l=t9(i,s),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const la=t=>t.join("/").replace(/\/\/+/g,"/"),r9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),i9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,o9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function a9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const hM=["post","put","patch","delete"];new Set(hM);const s9=["get",...hM];new Set(s9);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cf(){return Cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cf.apply(this,arguments)}const fv=j.createContext(null),pM=j.createContext(null),yo=j.createContext(null),hv=j.createContext(null),Aa=j.createContext({outlet:null,matches:[],isDataRoute:!1}),mM=j.createContext(null);function l9(t,e){let{relative:n}=e===void 0?{}:e;gc()||bt(!1);let{basename:r,navigator:i}=j.useContext(yo),{hash:o,pathname:a,search:s}=pv(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:la([r,a])),i.createHref({pathname:l,search:s,hash:o})}function gc(){return j.useContext(hv)!=null}function nl(){return gc()||bt(!1),j.useContext(hv).location}function gM(t){j.useContext(yo).static||j.useLayoutEffect(t)}function ar(){let{isDataRoute:t}=j.useContext(Aa);return t?w9():u9()}function u9(){gc()||bt(!1);let t=j.useContext(fv),{basename:e,future:n,navigator:r}=j.useContext(yo),{matches:i}=j.useContext(Aa),{pathname:o}=nl(),a=JSON.stringify(jT(i,n.v7_relativeSplatPath)),s=j.useRef(!1);return gM(()=>{s.current=!0}),j.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let c=MT(u,JSON.parse(a),o,d.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:la([e,c.pathname])),(d.replace?r.replace:r.push)(c,d.state,d)},[e,r,a,o,t])}function pv(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(yo),{matches:i}=j.useContext(Aa),{pathname:o}=nl(),a=JSON.stringify(jT(i,r.v7_relativeSplatPath));return j.useMemo(()=>MT(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function c9(t,e){return d9(t,e)}function d9(t,e,n,r){gc()||bt(!1);let{navigator:i}=j.useContext(yo),{matches:o}=j.useContext(Aa),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=nl(),d;if(e){var c;let v=typeof e=="string"?tl(e):e;l==="/"||(c=v.pathname)!=null&&c.startsWith(l)||bt(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=Vz(t,{pathname:p}),g=g9(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:la([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:la([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&g?j.createElement(hv.Provider,{value:{location:Cf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Yo.Pop}},g):g}function f9(){let t=b9(),e=a9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const h9=j.createElement(f9,null);class p9 extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Aa.Provider,{value:this.props.routeContext},j.createElement(mM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m9(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(fv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Aa.Provider,{value:e},r)}function g9(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let d=a.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);d>=0||bt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let c=a[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=d),c.route.id){let{loaderData:h,errors:p}=n,y=c.route.loader&&h[c.route.id]===void 0&&(!p||p[c.route.id]===void 0);if(c.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,c,h)=>{let p,y=!1,g=null,v=null;n&&(p=s&&c.route.id?s[c.route.id]:void 0,g=c.route.errorElement||h9,l&&(u<0&&h===0?(x9("route-fallback"),y=!0,v=null):u===h&&(y=!0,v=c.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,h+1)),_=()=>{let x;return p?x=g:y?x=v:c.route.Component?x=j.createElement(c.route.Component,null):c.route.element?x=c.route.element:x=d,j.createElement(m9,{match:c,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:x})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?j.createElement(p9,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):_()},null)}var yM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yM||{}),vM=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vM||{});function y9(t){let e=j.useContext(fv);return e||bt(!1),e}function v9(t){let e=j.useContext(pM);return e||bt(!1),e}function _9(t){let e=j.useContext(Aa);return e||bt(!1),e}function _M(t){let e=_9(),n=e.matches[e.matches.length-1];return n.route.id||bt(!1),n.route.id}function b9(){var t;let e=j.useContext(mM),n=v9(),r=_M();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function w9(){let{router:t}=y9(yM.UseNavigateStable),e=_M(vM.UseNavigateStable),n=j.useRef(!1);return gM(()=>{n.current=!0}),j.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Cf({fromRouteId:e},o)))},[t,e])}const LP={};function x9(t,e,n){LP[t]||(LP[t]=!0)}function E9(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Aw(t){let{to:e,replace:n,state:r,relative:i}=t;gc()||bt(!1);let{future:o,static:a}=j.useContext(yo),{matches:s}=j.useContext(Aa),{pathname:l}=nl(),u=ar(),d=MT(e,jT(s,o.v7_relativeSplatPath),l,i==="path"),c=JSON.stringify(d);return j.useEffect(()=>u(JSON.parse(c),{replace:n,state:r,relative:i}),[u,c,i,n,r]),null}function Nt(t){bt(!1)}function T9(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Yo.Pop,navigator:o,static:a=!1,future:s}=t;gc()&&bt(!1);let l=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:o,static:a,future:Cf({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=tl(r));let{pathname:d="/",search:c="",hash:h="",state:p=null,key:y="default"}=r,g=j.useMemo(()=>{let v=xu(d,l);return v==null?null:{location:{pathname:v,search:c,hash:h,state:p,key:y},navigationType:i}},[l,d,c,h,p,y,i]);return g==null?null:j.createElement(yo.Provider,{value:u},j.createElement(hv.Provider,{children:n,value:g}))}function bM(t){let{children:e,location:n}=t;return c9(Pw(e),n)}new Promise(()=>{});function Pw(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let o=[...e,i];if(r.type===j.Fragment){n.push.apply(n,Pw(r.props.children,o));return}r.type!==Nt&&bt(!1),!r.props.index||!r.props.children||bt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Pw(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function wM(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function I9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function S9(t,e){return t.button===0&&(!e||e==="_self")&&!I9(t)}const A9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],P9=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],O9="6";try{window.__reactRouterVersion=O9}catch{}const k9=j.createContext({isTransitioning:!1}),C9="startTransition",VP=T5[C9];function R9(t){let{basename:e,children:n,future:r,window:i}=t,o=j.useRef();o.current==null&&(o.current=Mz({window:i,v5Compat:!0}));let a=o.current,[s,l]=j.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=j.useCallback(c=>{u&&VP?VP(()=>l(c)):l(c)},[l,u]);return j.useLayoutEffect(()=>a.listen(d),[a,d]),j.useEffect(()=>E9(r),[r]),j.createElement(T9,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const N9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",D9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j9=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:d,viewTransition:c}=e,h=wM(e,A9),{basename:p}=j.useContext(yo),y,g=!1;if(typeof u=="string"&&D9.test(u)&&(y=u,N9))try{let x=new URL(window.location.href),P=u.startsWith("//")?new URL(x.protocol+u):new URL(u),E=xu(P.pathname,p);P.origin===x.origin&&E!=null?u=E+P.search+P.hash:g=!0}catch{}let v=l9(u,{relative:i}),b=$9(u,{replace:a,state:s,target:l,preventScrollReset:d,relative:i,viewTransition:c});function _(x){r&&r(x),x.defaultPrevented||b(x)}return j.createElement("a",Tg({},h,{href:y||v,onClick:g||o?r:_,ref:n,target:l}))}),$T=j.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:a=!1,style:s,to:l,viewTransition:u,children:d}=e,c=wM(e,P9),h=pv(l,{relative:c.relative}),p=nl(),y=j.useContext(pM),{navigator:g,basename:v}=j.useContext(yo),b=y!=null&&L9(h)&&u===!0,_=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,x=p.pathname,P=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(x=x.toLowerCase(),P=P?P.toLowerCase():null,_=_.toLowerCase()),P&&v&&(P=xu(P,v)||P);const E=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let A=x===_||!a&&x.startsWith(_)&&x.charAt(E)==="/",T=P!=null&&(P===_||!a&&P.startsWith(_)&&P.charAt(_.length)==="/"),I={isActive:A,isPending:T,isTransitioning:b},O=A?r:void 0,C;typeof o=="function"?C=o(I):C=[o,A?"active":null,T?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(I):s;return j.createElement(j9,Tg({},c,{"aria-current":O,className:C,ref:n,style:R,to:l,viewTransition:u}),typeof d=="function"?d(I):d)});var Ow;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ow||(Ow={}));var FP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(FP||(FP={}));function M9(t){let e=j.useContext(fv);return e||bt(!1),e}function $9(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,l=ar(),u=nl(),d=pv(t,{relative:a});return j.useCallback(c=>{if(S9(c,n)){c.preventDefault();let h=r!==void 0?r:Eg(u)===Eg(d);l(t,{replace:h,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,l,d,r,i,n,t,o,a,s])}function L9(t,e){e===void 0&&(e={});let n=j.useContext(k9);n==null&&bt(!1);let{basename:r}=M9(Ow.useViewTransitionState),i=pv(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=xu(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=xu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Sw(i.pathname,a)!=null||Sw(i.pathname,o)!=null}const V9="modulepreload",F9=function(t){return"/"+t},BP={},B9=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=F9(l),l in BP)return;BP[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":V9,u||(c.as="script"),c.crossOrigin="",c.href=l,s&&c.setAttribute("nonce",s),document.head.appendChild(c),u)return new Promise((h,p)=>{c.addEventListener("load",h),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})},Nd={frontCommissionPercent:25,backCommissionPercent:15,financeReserve:{mode:"percentage",value:0},pack:695,flatRate:100,spiffsRate:0,volumeBonuses:[{units:10,bonus:500},{units:15,bonus:1e3},{units:20,bonus:2e3}],productCommission:{vsc:{mode:"flat",flatAmount:50},gap:{mode:"flat",flatAmount:25},maintenance:{mode:"flat",flatAmount:25},accessories:{mode:"percentage",percentOfGross:10},tireAndWheel:{mode:"flat",flatAmount:25},appearancePackage:{mode:"flat",flatAmount:25},keyReplacement:{mode:"flat",flatAmount:25}}},Mm={newUnitsGoal:8,usedUnitsGoal:5,incomeGoal:8e3,assumedAvgCommission:650},$m=[{id:"1",key:"first_blood",title:"First Blood",description:"Log your first deal",icon:"Trophy",unlocked:!1,progress:0,target:1},{id:"2",key:"double_digits",title:"Double Digits",description:"Log 10 total deals",icon:"Target",unlocked:!1,progress:0,target:10},{id:"3",key:"money_maker",title:"Money Maker",description:"Earn $10k in a month",icon:"Banknote",unlocked:!1,progress:0,target:1e4},{id:"4",key:"product_pro",title:"Product Pro",description:"Sell 3 products in one deal",icon:"Package",unlocked:!1,progress:0,target:3},{id:"5",key:"big_hitter",title:"Big Hitter",description:"Earn $1000 commission on a single deal",icon:"Zap",unlocked:!1,progress:0,target:1e3}],LT={vsc:"VSC",gap:"GAP",maintenance:"Maint",accessories:"Acc",tireAndWheel:"T&W",appearancePackage:"Appr",keyReplacement:"Key"},xM="https://buy.stripe.com/fZu28r8sGfDpbZBeRncV204",Ig=10,U9=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_GOALS:Mm,DEFAULT_PAY_PLAN:Nd,FREE_DEAL_LIMIT:Ig,INITIAL_ACHIEVEMENTS:$m,PRODUCT_LABELS:LT,STRIPE_PAYMENT_LINK:xM},Symbol.toStringTag,{value:"Module"}));var UP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},z9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},TM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=o>>2,c=(o&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(h=64)),r.push(n[d],n[c],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):z9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||c==null)throw new W9;const h=o<<2|s>>4;if(r.push(h),u!==64){const p=s<<4&240|u>>2;if(r.push(p),c!==64){const y=u<<6&192|c;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class W9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q9=function(t){const e=EM(t);return TM.encodeByteArray(e,!0)},Sg=function(t){return q9(t).replace(/\./g,"")},IM=function(t){try{return TM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ag(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!G9(n)||(t[n]=Ag(t[n],e[n]));return t}function G9(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=()=>SM().__FIREBASE_DEFAULTS__,H9=()=>{if(typeof process>"u"||typeof UP>"u")return;const t=UP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Y9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&IM(t[1]);return e&&JSON.parse(e)},VT=()=>{try{return K9()||H9()||Y9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AM=()=>{var t;return(t=VT())===null||t===void 0?void 0:t.config},Q9=t=>{var e;return(e=VT())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sg(JSON.stringify(n)),Sg(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function FT(){var t;const e=(t=VT())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eW(){return typeof window<"u"||PM()}function PM(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function tW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mv(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OM(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kM(){return!FT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rs(){try{return typeof indexedDB=="object"}catch{return!1}}function UT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function CM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW="FirebaseError";class yn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nW,Object.setPrototypeOf(this,yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vo.prototype.create)}}class vo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?rW(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new yn(i,s,r)}}function rW(t,e){return t.replace(iW,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const iW=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function oW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(WP(o)&&WP(a)){if(!Rf(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function WP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Dd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function RM(t,e){const n=new aW(t,e);return n.subscribe.bind(n)}class aW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sW(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=L_),i.error===void 0&&(i.error=L_),i.complete===void 0&&(i.complete=L_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function L_(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW=1e3,uW=2,cW=4*60*60*1e3,dW=.5;function qP(t,e=lW,n=uW){const r=e*Math.pow(n,t),i=Math.round(dW*r*(Math.random()-.5)*2);return Math.min(cW,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t){return t&&t._delegate?t._delegate:t}class zn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new X9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pW(e))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qa){return this.instances.has(e)}getOptions(e=Qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qa){return this.component?this.component.multipleInstances?e:Qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hW(t){return t===Qa?void 0:t}function pW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=[];var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const DM={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},mW=Ae.INFO,gW={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},yW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gW[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wh{constructor(e){this.name=e,this._logLevel=mW,this._logHandler=yW,this._userLogHandler=null,zT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}function vW(t){zT.forEach(e=>{e.setLogLevel(t)})}function _W(t,e){for(const n of zT){let r=null;e&&e.level&&(r=DM[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,o,...a)=>{const s=a.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");o>=(r??i.logLevel)&&t({level:Ae[o].toLowerCase(),message:s,args:a,type:i.name})}}}const bW=(t,e)=>e.some(n=>t instanceof n);let GP,KP;function wW(){return GP||(GP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xW(){return KP||(KP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jM=new WeakMap,kw=new WeakMap,MM=new WeakMap,V_=new WeakMap,WT=new WeakMap;function EW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(ua(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&jM.set(n,t)}).catch(()=>{}),WT.set(e,t),e}function TW(t){if(kw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});kw.set(t,e)}let Cw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ua(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IW(t){Cw=t(Cw)}function SW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(F_(this),e,...n);return MM.set(r,e.sort?e.sort():[e]),ua(r)}:xW().includes(t)?function(...e){return t.apply(F_(this),e),ua(jM.get(this))}:function(...e){return ua(t.apply(F_(this),e))}}function AW(t){return typeof t=="function"?SW(t):(t instanceof IDBTransaction&&TW(t),bW(t,wW())?new Proxy(t,Cw):t)}function ua(t){if(t instanceof IDBRequest)return EW(t);if(V_.has(t))return V_.get(t);const e=AW(t);return e!==t&&(V_.set(t,e),WT.set(e,t)),e}const F_=t=>WT.get(t);function $M(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=ua(a);return r&&a.addEventListener("upgradeneeded",l=>{r(ua(a.result),l.oldVersion,l.newVersion,ua(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const PW=["get","getKey","getAll","getAllKeys","count"],OW=["put","add","delete","clear"],B_=new Map;function HP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(B_.get(e))return B_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=OW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PW.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return B_.set(e,o),o}IW(t=>({...t,get:(e,n,r)=>HP(e,n)||t.get(e,n,r),has:(e,n)=>!!HP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pg="@firebase/app",Rw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new Wh("@firebase/app"),RW="@firebase/app-compat",NW="@firebase/analytics-compat",DW="@firebase/analytics",jW="@firebase/app-check-compat",MW="@firebase/app-check",$W="@firebase/auth",LW="@firebase/auth-compat",VW="@firebase/database",FW="@firebase/data-connect",BW="@firebase/database-compat",UW="@firebase/functions",zW="@firebase/functions-compat",WW="@firebase/installations",qW="@firebase/installations-compat",GW="@firebase/messaging",KW="@firebase/messaging-compat",HW="@firebase/performance",YW="@firebase/performance-compat",QW="@firebase/remote-config",XW="@firebase/remote-config-compat",JW="@firebase/storage",ZW="@firebase/storage-compat",eq="@firebase/firestore",tq="@firebase/vertexai-preview",nq="@firebase/firestore-compat",rq="firebase",iq="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]",oq={[Pg]:"fire-core",[RW]:"fire-core-compat",[DW]:"fire-analytics",[NW]:"fire-analytics-compat",[MW]:"fire-app-check",[jW]:"fire-app-check-compat",[$W]:"fire-auth",[LW]:"fire-auth-compat",[VW]:"fire-rtdb",[FW]:"fire-data-connect",[BW]:"fire-rtdb-compat",[UW]:"fire-fn",[zW]:"fire-fn-compat",[WW]:"fire-iid",[qW]:"fire-iid-compat",[GW]:"fire-fcm",[KW]:"fire-fcm-compat",[HW]:"fire-perf",[YW]:"fire-perf-compat",[QW]:"fire-rc",[XW]:"fire-rc-compat",[JW]:"fire-gcs",[ZW]:"fire-gcs-compat",[eq]:"fire-fst",[nq]:"fire-fst-compat",[tq]:"fire-vertex","fire-js":"fire-js",[rq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new Map,Eu=new Map,Tu=new Map;function Nf(t,e){try{t.container.addComponent(e)}catch(n){lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function LM(t,e){t.container.addOrOverwriteComponent(e)}function Vr(t){const e=t.name;if(Tu.has(e))return lo.debug(`There were multiple attempts to register component ${e}.`),!1;Tu.set(e,t);for(const n of ma.values())Nf(n,t);for(const n of Eu.values())Nf(n,t);return!0}function gv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function aq(t,e,n=pa){gv(t,e).clearInstance(n)}function VM(t){return t.options!==void 0}function At(t){return t.settings!==void 0}function sq(){Tu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new vo("app","Firebase",lq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FM=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq extends FM{constructor(e,n,r,i){const o=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,a={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,a,i);else{const s=e;super(s.options,a,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Fn(Pg,Rw,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){GT(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw jr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=iq;function qT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pa,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jr.create("bad-app-name",{appName:String(i)});if(n||(n=AM()),!n)throw jr.create("no-options");const o=ma.get(i);if(o){if(Rf(n,o.options)&&Rf(r,o.config))return o;throw jr.create("duplicate-app",{appName:i})}const a=new NM(i);for(const l of Tu.values())a.addComponent(l);const s=new FM(n,r,a);return ma.set(i,s),s}function cq(t,e){if(eW()&&!PM())throw jr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;VM(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=u=>[...u].reduce((d,c)=>Math.imul(31,d)+c.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw jr.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),a=Eu.get(o);if(a)return a.incRefCount(e.releaseOnDeref),a;const s=new NM(o);for(const u of Tu.values())s.addComponent(u);const l=new uq(n,e,o,s);return Eu.set(o,l),l}function dq(t=pa){const e=ma.get(t);if(!e&&t===pa&&AM())return qT();if(!e)throw jr.create("no-app",{appName:t});return e}function fq(){return Array.from(ma.values())}async function GT(t){let e=!1;const n=t.name;ma.has(n)?(e=!0,ma.delete(n)):Eu.has(n)&&t.decRefCount()<=0&&(Eu.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Fn(t,e,n){var r;let i=(r=oq[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lo.warn(s.join(" "));return}Vr(new zn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function BM(t,e){if(t!==null&&typeof t!="function")throw jr.create("invalid-log-argument");_W(t,e)}function UM(t){vW(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq="firebase-heartbeat-database",pq=1,Df="firebase-heartbeat-store";let U_=null;function zM(){return U_||(U_=$M(hq,pq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Df)}catch(n){console.warn(n)}}}}).catch(t=>{throw jr.create("idb-open",{originalErrorMessage:t.message})})),U_}async function mq(t){try{const n=(await zM()).transaction(Df),r=await n.objectStore(Df).get(WM(t));return await n.done,r}catch(e){if(e instanceof yn)lo.warn(e.message);else{const n=jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lo.warn(n.message)}}}async function YP(t,e){try{const r=(await zM()).transaction(Df,"readwrite");await r.objectStore(Df).put(e,WM(t)),await r.done}catch(n){if(n instanceof yn)lo.warn(n.message);else{const r=jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lo.warn(r.message)}}}function WM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq=1024,yq=30*24*60*60*1e3;class vq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=QP();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=yq}),this._storage.overwrite(this._heartbeatsCache))}catch(r){lo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=QP(),{heartbeatsToSend:r,unsentEntries:i}=_q(this._heartbeatsCache.heartbeats),o=Sg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return lo.warn(n),""}}}function QP(){return new Date().toISOString().substring(0,10)}function _q(t,e=gq){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),XP(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),XP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rs()?UT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return YP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return YP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function XP(t){return Sg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(t){Vr(new zn("platform-logger",e=>new kW(e),"PRIVATE")),Vr(new zn("heartbeat",e=>new vq(e),"PRIVATE")),Fn(Pg,Rw,t),Fn(Pg,Rw,"esm2017"),Fn("fire-js","")}wq("");const xq=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:yn,SDK_VERSION:Pa,_DEFAULT_ENTRY_NAME:pa,_addComponent:Nf,_addOrOverwriteComponent:LM,_apps:ma,_clearComponents:sq,_components:Tu,_getProvider:gv,_isFirebaseApp:VM,_isFirebaseServerApp:At,_registerComponent:Vr,_removeServiceInstance:aq,_serverApps:Eu,deleteApp:GT,getApp:dq,getApps:fq,initializeApp:qT,initializeServerApp:cq,onLog:BM,registerVersion:Fn,setLogLevel:UM},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e,n){this._delegate=e,this.firebase=n,Nf(e,new zn("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),GT(this._delegate)))}_getService(e,n=pa){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=pa){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Nf(this._delegate,e)}_addOrOverwriteComponent(e){LM(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},JP=new vo("app-compat","Firebase",Tq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t){const e={},n={__esModule:!0,initializeApp:o,app:i,registerVersion:Fn,setLogLevel:UM,onLog:BM,apps:null,SDK_VERSION:Pa,INTERNAL:{registerComponent:s,removeApp:r,useAsService:l,modularAPIs:xq}};n.default=n,Object.defineProperty(n,"apps",{get:a});function r(u){delete e[u]}function i(u){if(u=u||pa,!zP(e,u))throw JP.create("no-app",{appName:u});return e[u]}i.App=t;function o(u,d={}){const c=qT(u,d);if(zP(e,c.name))return e[c.name];const h=new t(c,n);return e[c.name]=h,h}function a(){return Object.keys(e).map(u=>e[u])}function s(u){const d=u.name,c=d.replace("-compat","");if(Vr(u)&&u.type==="PUBLIC"){const h=(p=i())=>{if(typeof p[c]!="function")throw JP.create("invalid-app-argument",{appName:d});return p[c]()};u.serviceProps!==void 0&&Ag(h,u.serviceProps),n[c]=h,t.prototype[c]=function(...p){return this._getService.bind(this,d).apply(this,u.multipleInstances?p:[])}}return u.type==="PUBLIC"?n[c]:null}function l(u,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(){const t=Iq(Eq);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:qM,extendNamespace:e,createSubscribe:RM,ErrorFactory:vo,deepExtend:Ag});function e(n){Ag(t,n)}return t}const Sq=qM();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=new Wh("@firebase/app-compat"),Aq="@firebase/app-compat",Pq="0.2.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oq(t){Fn(Aq,Pq,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=SM();if(t.firebase!==void 0){ZP.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&ZP.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Fr=Sq;Oq();var kq="firebase",Cq="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr.registerVersion(kq,Cq,"app-compat");function KT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const ud={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},bl={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function GM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nq=Rq,Dq=GM,KM=new vo("auth","Firebase",GM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=new Wh("@firebase/auth");function jq(t,...e){Og.logLevel<=Ae.WARN&&Og.warn(`Auth (${Pa}): ${t}`,...e)}function Lm(t,...e){Og.logLevel<=Ae.ERROR&&Og.error(`Auth (${Pa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,...e){throw YT(t,...e)}function Xt(t,...e){return YT(t,...e)}function HT(t,e,n){const r=Object.assign(Object.assign({},Dq()),{[e]:n});return new vo("auth","Firebase",r).create(e,{appName:t.name})}function sn(t){return HT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vc(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&bn(t,"argument-error"),HT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function YT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KM.create(t,...e)}function te(t,e,...n){if(!t)throw YT(e,...n)}function gi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lm(e),new Error(e)}function oi(t,e){t||gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function QT(){return eO()==="http:"||eO()==="https:"}function eO(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QT()||mv()||"connection"in navigator)?navigator.onLine:!0}function $q(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.shortDelay=e,this.longDelay=n,oi(n>e,"Short delay should be less than long delay!"),this.isMobile=Z9()||BT()}get(){return Mq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t,e){oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq=new qh(3e4,6e4);function kt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ct(t,e,n,r,i={}){return YM(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=yc(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return tW()||(u.referrerPolicy="no-referrer"),HM.fetch()(QM(t,t.config.apiHost,n,s),u)})}async function YM(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Lq),e);try{const i=new Bq(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw jd(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw jd(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw jd(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw jd(t,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw HT(t,d,u);bn(t,d)}}catch(i){if(i instanceof yn)throw i;bn(t,"network-request-failed",{message:String(i)})}}async function _o(t,e,n,r,i={}){const o=await Ct(t,e,n,r,i);return"mfaPendingCredential"in o&&bn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function QM(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?XT(t.config,i):`${t.config.apiScheme}://${i}`}function Fq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bq{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xt(this.auth,"network-request-failed")),Vq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t){return t!==void 0&&t.getResponse!==void 0}function nO(t){return t!==void 0&&t.enterprise!==void 0}class Uq{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Fq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zq(t){return(await Ct(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Wq(t,e){return Ct(t,"GET","/v2/recaptchaConfig",kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qq(t,e){return Ct(t,"POST","/v1/accounts:delete",e)}async function Gq(t,e){return Ct(t,"POST","/v1/accounts:update",e)}async function XM(t,e){return Ct(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Kq(t,e=!1){const n=pe(t),r=await n.getIdToken(e),i=yv(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Xd(z_(i.auth_time)),issuedAtTime:Xd(z_(i.iat)),expirationTime:Xd(z_(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function z_(t){return Number(t)*1e3}function yv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lm("JWT malformed, contained fewer than 3 sections"),null;try{const i=IM(n);return i?JSON.parse(i):(Lm("Failed to decode base64 JWT payload"),null)}catch(i){return Lm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function rO(t){const e=yv(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yn&&Hq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Hq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xd(this.lastLoginAt),this.creationTime=Xd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await uo(t,XM(n,{idToken:r}));te(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?JM(o.providerUserInfo):[],s=Xq(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),d=l?u:!1,c={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Nw(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,c)}async function Qq(t){const e=pe(t);await Mf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Xq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JM(t){return t.map(e=>{var{providerId:n}=e,r=KT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jq(t,e){const n=await YM(t,{},async()=>{const r=yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=QM(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",HM.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Zq(t,e){return Ct(t,"POST","/v2/accounts:revokeToken",kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");const n=rO(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Jq(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new iu;return r&&(te(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(te(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new iu,this.toJSON())}_performRefresh(){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=KT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Nw(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await uo(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Kq(this,e)}reload(){return Qq(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(At(this.auth.app))return Promise.reject(sn(this.auth));const e=await this.getIdToken();return await uo(this,qq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,d;const c=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(a=n.photoURL)!==null&&a!==void 0?a:void 0,g=(s=n.tenantId)!==null&&s!==void 0?s:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:P,isAnonymous:E,providerData:A,stsTokenManager:T}=n;te(x&&T,e,"internal-error");const I=iu.fromJSON(this.name,T);te(typeof x=="string",e,"internal-error"),Do(c,e.name),Do(h,e.name),te(typeof P=="boolean",e,"internal-error"),te(typeof E=="boolean",e,"internal-error"),Do(p,e.name),Do(y,e.name),Do(g,e.name),Do(v,e.name),Do(b,e.name),Do(_,e.name);const O=new Gi({uid:x,auth:e,email:h,emailVerified:P,displayName:c,isAnonymous:E,photoURL:y,phoneNumber:p,tenantId:g,stsTokenManager:I,createdAt:b,lastLoginAt:_});return A&&Array.isArray(A)&&(O.providerData=A.map(C=>Object.assign({},C))),v&&(O._redirectEventId=v),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new iu;i.updateFromServerResponse(n);const o=new Gi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mf(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];te(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?JM(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new iu;s.updateFromIdToken(r);const l=new Gi({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Nw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=new Map;function gr(t){oi(t instanceof Function,"Expected a class definition");let e=iO.get(t);return e?(oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iO.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZM.type="NONE";const Iu=ZM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t,e,n){return`firebase:${t}:${e}:${n}`}class ou{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=xs(this.userKey,i.apiKey,o),this.fullPersistenceKey=xs("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ou(gr(Iu),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||gr(Iu);const a=xs(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const d=await u._get(a);if(d){const c=Gi._fromJSON(e,d);u!==o&&(s=c),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ou(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new ou(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(r$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(i$(e))return"Blackberry";if(o$(e))return"Webos";if(t$(e))return"Safari";if((e.includes("chrome/")||n$(e))&&!e.includes("edge/"))return"Chrome";if(Gh(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function e$(t=Et()){return/firefox\//i.test(t)}function t$(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n$(t=Et()){return/crios\//i.test(t)}function r$(t=Et()){return/iemobile/i.test(t)}function Gh(t=Et()){return/android/i.test(t)}function i$(t=Et()){return/blackberry/i.test(t)}function o$(t=Et()){return/webos/i.test(t)}function Kh(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function e8(t=Et()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function t8(t=Et()){var e;return Kh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function n8(){return OM()&&document.documentMode===10}function a$(t=Et()){return Kh(t)||Gh(t)||o$(t)||i$(t)||/windows phone/i.test(t)||r$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(t,e=[]){let n;switch(t){case"Browser":n=oO(Et());break;case"Worker":n=`${oO(Et())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i8(t,e={}){return Ct(t,"GET","/v2/passwordPolicy",kt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=6;class a8{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:o8,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aO(this),this.idTokenSubscription=new aO(this),this.beforeStateQueue=new r8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ou.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await XM(this,{idToken:e}),r=await Gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(At(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$q()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(At(this.app))return Promise.reject(sn(this));const n=e?pe(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return At(this.app)?Promise.reject(sn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return At(this.app)?Promise.reject(sn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await i8(this),n=new a8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Zq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await ou.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Pt(t){return pe(t)}class aO{constructor(e){this.auth=e,this.observer=null,this.addObserver=RM(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l8(t){Hh=t}function JT(t){return Hh.loadJS(t)}function u8(){return Hh.recaptchaV2Script}function c8(){return Hh.recaptchaEnterpriseScript}function d8(){return Hh.gapiScript}function l$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const f8="recaptcha-enterprise",h8="NO_RECAPTCHA";class p8{constructor(e){this.type=f8,this.auth=Pt(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{Wq(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new Uq(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;nO(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(h8)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&nO(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=c8();l.length!==0&&(l+=s),JT(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function sO(t,e,n,r=!1){const i=new p8(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function $f(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await sO(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await sO(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}function m8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function g8(t,e,n){const r=Pt(t);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=u$(e),{host:a,port:s}=y8(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||v8()}function u$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function y8(t){const e=u$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:lO(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:lO(a)}}}function lO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function v8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,n){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c$(t,e){return Ct(t,"POST","/v1/accounts:resetPassword",kt(t,e))}async function _8(t,e){return Ct(t,"POST","/v1/accounts:update",e)}async function b8(t,e){return Ct(t,"POST","/v1/accounts:signUp",e)}async function w8(t,e){return Ct(t,"POST","/v1/accounts:update",kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x8(t,e){return _o(t,"POST","/v1/accounts:signInWithPassword",kt(t,e))}async function vv(t,e){return Ct(t,"POST","/v1/accounts:sendOobCode",kt(t,e))}async function E8(t,e){return vv(t,e)}async function T8(t,e){return vv(t,e)}async function I8(t,e){return vv(t,e)}async function S8(t,e){return vv(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A8(t,e){return _o(t,"POST","/v1/accounts:signInWithEmailLink",kt(t,e))}async function P8(t,e){return _o(t,"POST","/v1/accounts:signInWithEmailLink",kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends _c{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Lf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Lf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $f(e,n,"signInWithPassword",x8);case"emailLink":return A8(e,{email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $f(e,r,"signUpPassword",b8);case"emailLink":return P8(e,{idToken:n,email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ji(t,e){return _o(t,"POST","/v1/accounts:signInWithIdp",kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8="http://localhost";class Ai extends _c{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ai(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=KT(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Ai(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ji(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ji(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ji(e,n)}buildRequest(){const e={requestUri:O8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k8(t,e){return Ct(t,"POST","/v1/accounts:sendVerificationCode",kt(t,e))}async function C8(t,e){return _o(t,"POST","/v1/accounts:signInWithPhoneNumber",kt(t,e))}async function R8(t,e){const n=await _o(t,"POST","/v1/accounts:signInWithPhoneNumber",kt(t,e));if(n.temporaryProof)throw jd(t,"account-exists-with-different-credential",n);return n}const N8={USER_NOT_FOUND:"user-not-found"};async function D8(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return _o(t,"POST","/v1/accounts:signInWithPhoneNumber",kt(t,n),N8)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends _c{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Es({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Es({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return C8(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return R8(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return D8(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!n&&!i&&!o?null:new Es({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M8(t){const e=Gl(Dd(t)).link,n=e?Gl(Dd(e)).deep_link_id:null,r=Gl(Dd(t)).deep_link_id;return(r?Gl(Dd(r)).link:null)||r||n||e||t}class _v{constructor(e){var n,r,i,o,a,s;const l=Gl(Dd(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,c=j8((i=l.mode)!==null&&i!==void 0?i:null);te(u&&d&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=M8(e);try{return new _v(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.providerId=Oa.PROVIDER_ID}static credential(e,n){return Lf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=_v.parseLink(n);return te(r,"argument-error"),Lf._fromEmailAndCode(e,r.code,r.tenantId)}}Oa.PROVIDER_ID="password";Oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends bo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class au extends bc{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return te("providerId"in n&&"signInMethod"in n,"argument-error"),Ai._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return te(e.idToken||e.accessToken,"argument-error"),Ai._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return au.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return au.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:a,providerId:s}=e;if(!r&&!i&&!n&&!o||!s)return null;try{return new au(s)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends bc{constructor(){super("facebook.com")}static credential(e){return Ai._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ai._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hi.credential(n,r)}catch{return null}}}hi.GOOGLE_SIGN_IN_METHOD="google.com";hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends bc{constructor(){super("github.com")}static credential(e){return Ai._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.GITHUB_SIGN_IN_METHOD="github.com";pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8="http://localhost";class Su extends _c{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Ji(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ji(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ji(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=n;return!r||!i||!o||r!==i?null:new Su(r,o)}static _create(e,n){return new Su(e,n)}buildRequest(){return{requestUri:$8,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8="saml.";class kg extends bo{constructor(e){te(e.startsWith(L8),"argument-error"),super(e)}static credentialFromResult(e){return kg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return kg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Su.fromJSON(e);return te(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Su._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends bc{constructor(){super("twitter.com")}static credential(e,n){return Ai._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mi.credential(n,r)}catch{return null}}}mi.TWITTER_SIGN_IN_METHOD="twitter.com";mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d$(t,e){return _o(t,"POST","/v1/accounts:signUp",kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Gi._fromIdTokenResponse(e,r,i),a=uO(r);return new Br({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=uO(r);return new Br({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function uO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V8(t){var e;if(At(t.app))return Promise.reject(sn(t));const n=Pt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Br({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await d$(n,{returnSecureToken:!0}),i=await Br._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends yn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cg.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cg(e,n,r,i)}}function f$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cg._fromErrorAndOperation(t,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F8(t,e){const n=pe(t);await bv(!0,n,e);const{providerUserInfo:r}=await Gq(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=h$(r||[]);return n.providerData=n.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function ZT(t,e,n=!1){const r=await uo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Br._forOperation(t,"link",r)}async function bv(t,e,n){await Mf(e);const r=h$(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";te(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p$(t,e,n=!1){const{auth:r}=t;if(At(r.app))return Promise.reject(sn(r));const i="reauthenticate";try{const o=await uo(t,f$(r,i,e,t),n);te(o.idToken,r,"internal-error");const a=yv(o.idToken);te(a,r,"internal-error");const{sub:s}=a;return te(t.uid===s,r,"user-mismatch"),Br._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&bn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m$(t,e,n=!1){if(At(t.app))return Promise.reject(sn(t));const r="signIn",i=await f$(t,r,e),o=await Br._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function wv(t,e){return m$(Pt(t),e)}async function g$(t,e){const n=pe(t);return await bv(!1,n,e.providerId),ZT(n,e)}async function y$(t,e){return p$(pe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B8(t,e){return _o(t,"POST","/v1/accounts:signInWithCustomToken",kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U8(t,e){if(At(t.app))return Promise.reject(sn(t));const n=Pt(t),r=await B8(n,{token:e,returnSecureToken:!0}),i=await Br._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?e1._fromServerResponse(e,n):"totpInfo"in n?t1._fromServerResponse(e,n):bn(e,"internal-error")}}class e1 extends Yh{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new e1(n)}}class t1 extends Yh{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new t1(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t,e,n){var r;te(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),te(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(te(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(te(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(t){const e=Pt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function z8(t,e,n){const r=Pt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&xv(r,i,n),await $f(r,i,"getOobCode",T8)}async function W8(t,e,n){await c$(pe(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&n1(t),r})}async function q8(t,e){await w8(pe(t),{oobCode:e})}async function v$(t,e){const n=pe(t),r=await c$(n,{oobCode:e}),i=r.requestType;switch(te(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(r.mfaInfo,n,"internal-error");default:te(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Yh._fromServerResponse(Pt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function G8(t,e){const{data:n}=await v$(pe(t),e);return n.email}async function K8(t,e,n){if(At(t.app))return Promise.reject(sn(t));const r=Pt(t),a=await $f(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d$).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&n1(t),l}),s=await Br._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function H8(t,e,n){return At(t.app)?Promise.reject(sn(t)):wv(pe(t),Oa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&n1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y8(t,e,n){const r=Pt(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,s){te(s.handleCodeInApp,r,"argument-error"),s&&xv(r,a,s)}o(i,n),await $f(r,i,"getOobCode",I8)}function Q8(t,e){const n=_v.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function X8(t,e,n){if(At(t.app))return Promise.reject(sn(t));const r=pe(t),i=Oa.credentialWithLink(e,n||jf());return te(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),wv(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(t,e){return Ct(t,"POST","/v1/accounts:createAuthUri",kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z8(t,e){const n=QT()?jf():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await J8(pe(t),r);return i||[]}async function eG(t,e){const n=pe(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&xv(n.auth,i,e);const{email:o}=await E8(n.auth,i);o!==t.email&&await t.reload()}async function tG(t,e,n){const r=pe(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&xv(r.auth,o,n);const{email:a}=await S8(r.auth,o);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nG(t,e){return Ct(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rG(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=pe(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await uo(r,nG(r.auth,o));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const s=r.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function iG(t,e){const n=pe(t);return At(n.auth.app)?Promise.reject(sn(n.auth)):_$(n,e,null)}function oG(t,e){return _$(pe(t),null,e)}async function _$(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const a=await uo(t,_8(r,o));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aG(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const a=(n=(e=yv(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(a){const s=a!=="anonymous"&&a!=="custom"?a:null;return new su(o,s)}}if(!r)return null;switch(r){case"facebook.com":return new sG(o,i);case"github.com":return new lG(o,i);case"google.com":return new uG(o,i);case"twitter.com":return new cG(o,i,t.screenName||null);case"custom":case"anonymous":return new su(o,null);default:return new su(o,r,i)}}class su{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class b$ extends su{constructor(e,n,r,i){super(e,n,r),this.username=i}}class sG extends su{constructor(e,n){super(e,"facebook.com",n)}}class lG extends b${constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class uG extends su{constructor(e,n){super(e,"google.com",n)}}class cG extends b${constructor(e,n,r){super(e,"twitter.com",n,r)}}function dG(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:aG(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new ds("enroll",e,n)}static _fromMfaPendingCredential(e){return new ds("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return ds._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return ds._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Pt(e),i=n.customData._serverResponse,o=(i.mfaInfo||[]).map(s=>Yh._fromServerResponse(r,s));te(i.mfaPendingCredential,r,"internal-error");const a=ds._fromMfaPendingCredential(i.mfaPendingCredential);return new r1(a,o,async s=>{const l=await s._process(r,a);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const d=await Br._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return te(n.user,r,"internal-error"),Br._forOperation(n.user,n.operationType,u);default:bn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function fG(t,e){var n;const r=pe(t),i=e;return te(e.customData.operationType,r,"argument-error"),te((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),r1._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hG(t,e){return Ct(t,"POST","/v2/accounts/mfaEnrollment:start",kt(t,e))}function pG(t,e){return Ct(t,"POST","/v2/accounts/mfaEnrollment:finalize",kt(t,e))}function mG(t,e){return Ct(t,"POST","/v2/accounts/mfaEnrollment:withdraw",kt(t,e))}class i1{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Yh._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new i1(e)}async getSession(){return ds._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),o=await uo(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await uo(this.user,mG(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const W_=new WeakMap;function gG(t){const e=pe(t);return W_.has(e)||W_.set(e,i1._fromUser(e)),W_.get(e)}const Rg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rg,"1"),this.storage.removeItem(Rg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yG=1e3,vG=10;class x$ extends w${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);n8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,vG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},yG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}x$.type="LOCAL";const o1=x$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E$ extends w${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}E$.type="SESSION";const Ns=E$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _G(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ev(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await _G(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ev.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=Qh("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(c){const h=c;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return window}function wG(t){Ft().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){return typeof Ft().WorkerGlobalScope<"u"&&typeof Ft().importScripts=="function"}async function xG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TG(){return a1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$="firebaseLocalStorageDb",IG=1,Ng="firebaseLocalStorage",I$="fbase_key";class Xh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tv(t,e){return t.transaction([Ng],e?"readwrite":"readonly").objectStore(Ng)}function SG(){const t=indexedDB.deleteDatabase(T$);return new Xh(t).toPromise()}function Dw(){const t=indexedDB.open(T$,IG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ng,{keyPath:I$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ng)?e(r):(r.close(),await SG(),e(await Dw()))})})}async function cO(t,e,n){const r=Tv(t,!0).put({[I$]:e,value:n});return new Xh(r).toPromise()}async function AG(t,e){const n=Tv(t,!1).get(e),r=await new Xh(n).toPromise();return r===void 0?null:r.value}function dO(t,e){const n=Tv(t,!0).delete(e);return new Xh(n).toPromise()}const PG=800,OG=3;class S${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>OG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return a1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ev._getInstance(TG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xG(),!this.activeServiceWorker)return;this.sender=new bG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dw();return await cO(e,Rg,"1"),await dO(e,Rg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>cO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>AG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Tv(i,!1).getAll();return new Xh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S$.type="LOCAL";const Vf=S$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kG(t,e){return Ct(t,"POST","/v2/accounts/mfaSignIn:start",kt(t,e))}function CG(t,e){return Ct(t,"POST","/v2/accounts/mfaSignIn:finalize",kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG=500,NG=6e4,em=1e12;class DG{constructor(e){this.auth=e,this.counter=em,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new jG(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||em;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||em;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||em;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class jG{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;te(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=MG(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},NG)},RG))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function MG(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=l$("rcb"),$G=new qh(3e4,6e4);class LG{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Ft().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return te(VG(n),e,"argument-error"),this.shouldResolveImmediately(n)&&tO(Ft().grecaptcha)?Promise.resolve(Ft().grecaptcha):new Promise((r,i)=>{const o=Ft().setTimeout(()=>{i(Xt(e,"network-request-failed"))},$G.get());Ft()[q_]=()=>{Ft().clearTimeout(o),delete Ft()[q_];const s=Ft().grecaptcha;if(!s||!tO(s)){i(Xt(e,"internal-error"));return}const l=s.render;s.render=(u,d)=>{const c=l(u,d);return this.counter++,c},this.hostLanguage=n,r(s)};const a=`${u8()}?${yc({onload:q_,render:"explicit",hl:n})}`;JT(a).catch(()=>{clearTimeout(o),i(Xt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Ft().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function VG(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class FG{async load(e){return new DG(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$="recaptcha",BG={theme:"light",type:"image"};let UG=class{constructor(e,n,r=Object.assign({},BG)){this.parameters=r,this.type=A$,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pt(e),this.isInvisible=this.parameters.size==="invisible",te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;te(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new FG:new LG,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const o=a=>{a&&(this.tokenChangeListeners.delete(o),i(a))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Ft()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){te(QT()&&!a1(),this.auth,"internal-error"),await zG(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await zq(this.auth);te(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function zG(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Es._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function WG(t,e,n){if(At(t.app))return Promise.reject(sn(t));const r=Pt(t),i=await Iv(r,e,pe(n));return new s1(i,o=>wv(r,o))}async function qG(t,e,n){const r=pe(t);await bv(!1,r,"phone");const i=await Iv(r.auth,e,pe(n));return new s1(i,o=>g$(r,o))}async function GG(t,e,n){const r=pe(t);if(At(r.auth.app))return Promise.reject(sn(r.auth));const i=await Iv(r.auth,e,pe(n));return new s1(i,o=>y$(r,o))}async function Iv(t,e,n){var r;const i=await n.verify();try{te(typeof i=="string",t,"argument-error"),te(n.type===A$,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){const a=o.session;if("phoneNumber"in o)return te(a.type==="enroll",t,"internal-error"),(await hG(t,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{te(a.type==="signin",t,"internal-error");const s=((r=o.multiFactorHint)===null||r===void 0?void 0:r.uid)||o.multiFactorUid;return te(s,t,"missing-multi-factor-info"),(await kG(t,{mfaPendingCredential:a.credential,mfaEnrollmentId:s,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:a}=await k8(t,{phoneNumber:o.phoneNumber,recaptchaToken:i});return a}}finally{n._reset()}}async function KG(t,e){const n=pe(t);if(At(n.auth.app))return Promise.reject(sn(n.auth));await ZT(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ds=class Vm{constructor(e){this.providerId=Vm.PROVIDER_ID,this.auth=Pt(e)}verifyPhoneNumber(e,n){return Iv(this.auth,e,pe(n))}static credential(e,n){return Es._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Vm.credentialFromTaggedObject(n)}static credentialFromError(e){return Vm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Es._fromTokenResponse(n,r):null}};Ds.PROVIDER_ID="phone";Ds.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(t,e){return e?gr(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1 extends _c{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ji(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ji(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ji(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HG(t){return m$(t.auth,new l1(t),t.bypassAuthState)}function YG(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),p$(n,new l1(t),t.bypassAuthState)}async function QG(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),ZT(n,new l1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HG;case"linkViaPopup":case"linkViaRedirect":return QG;case"reauthViaPopup":case"reauthViaRedirect":return YG;default:bn(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG=new qh(2e3,1e4);async function JG(t,e,n){if(At(t.app))return Promise.reject(Xt(t,"operation-not-supported-in-this-environment"));const r=Pt(t);vc(t,e,bo);const i=rl(r,n);return new Ki(r,"signInViaPopup",e,i).executeNotNull()}async function ZG(t,e,n){const r=pe(t);if(At(r.auth.app))return Promise.reject(Xt(r.auth,"operation-not-supported-in-this-environment"));vc(r.auth,e,bo);const i=rl(r.auth,n);return new Ki(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function e7(t,e,n){const r=pe(t);vc(r.auth,e,bo);const i=rl(r.auth,n);return new Ki(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ki extends P${constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ki.currentPopupAction&&Ki.currentPopupAction.cancel(),Ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=Qh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XG.get())};e()}}Ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7="pendingRedirect",Jd=new Map;class n7 extends P${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jd.get(this.auth._key());if(!e){try{const r=await r7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jd.set(this.auth._key(),e)}return this.bypassAuthState||Jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r7(t,e){const n=k$(e),r=O$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function u1(t,e){return O$(t)._set(k$(e),"true")}function i7(){Jd.clear()}function c1(t,e){Jd.set(t._key(),e)}function O$(t){return gr(t._redirectPersistence)}function k$(t){return xs(t7,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(t,e,n){return a7(t,e,n)}async function a7(t,e,n){if(At(t.app))return Promise.reject(sn(t));const r=Pt(t);vc(t,e,bo),await r._initializationPromise;const i=rl(r,n);return await u1(i,r),i._openRedirect(r,e,"signInViaRedirect")}function s7(t,e,n){return l7(t,e,n)}async function l7(t,e,n){const r=pe(t);if(vc(r.auth,e,bo),At(r.auth.app))return Promise.reject(sn(r.auth));await r.auth._initializationPromise;const i=rl(r.auth,n);await u1(i,r.auth);const o=await C$(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function u7(t,e,n){return c7(t,e,n)}async function c7(t,e,n){const r=pe(t);vc(r.auth,e,bo),await r.auth._initializationPromise;const i=rl(r.auth,n);await bv(!1,r,e.providerId),await u1(i,r.auth);const o=await C$(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function d7(t,e){return await Pt(t)._initializationPromise,Sv(t,e,!1)}async function Sv(t,e,n=!1){if(At(t.app))return Promise.reject(sn(t));const r=Pt(t),i=rl(r,e),a=await new n7(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}async function C$(t){const e=Qh(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=10*60*1e3;class R${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!N$(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f7&&this.cachedEventUids.clear(),this.cachedEventUids.has(fO(e))}saveEventToCache(e){this.cachedEventUids.add(fO(e)),this.lastProcessedEventTime=Date.now()}}function fO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function N$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D$(t,e={}){return Ct(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m7=/^https?/;async function g7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await D$(t);for(const n of e)try{if(y7(n))return}catch{}bn(t,"unauthorized-domain")}function y7(t){const e=jf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!m7.test(n))return!1;if(p7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7=new qh(3e4,6e4);function hO(){const t=Ft().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _7(t){return new Promise((e,n)=>{var r,i,o;function a(){hO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hO(),n(Xt(t,"network-request-failed"))},timeout:v7.get()})}if(!((i=(r=Ft().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ft().gapi)===null||o===void 0)&&o.load)a();else{const s=l$("iframefcb");return Ft()[s]=()=>{gapi.load?a():n(Xt(t,"network-request-failed"))},JT(`${d8()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Fm=null,e})}let Fm=null;function b7(t){return Fm=Fm||_7(t),Fm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=new qh(5e3,15e3),x7="__/auth/iframe",E7="emulator/auth/iframe",T7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S7(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?XT(e,E7):`https://${t.config.authDomain}/${x7}`,r={apiKey:e.apiKey,appName:t.name,v:Pa},i=I7.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${yc(r).slice(1)}`}async function A7(t){const e=await b7(t),n=Ft().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:S7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T7,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Xt(t,"network-request-failed"),s=Ft().setTimeout(()=>{o(a)},w7.get());function l(){Ft().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O7=500,k7=600,C7="_blank",R7="http://localhost";class pO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N7(t,e,n,r=O7,i=k7){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},P7),{width:r.toString(),height:i.toString(),top:o,left:a}),u=Et().toLowerCase();n&&(s=n$(u)?C7:n),e$(u)&&(e=e||R7,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(t8(u)&&s!=="_self")return D7(e||"",s),new pO(null);const c=window.open(e||"",s,d);te(c,t,"popup-blocked");try{c.focus()}catch{}return new pO(c)}function D7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7="__/auth/handler",M7="emulator/auth/handler",$7=encodeURIComponent("fac");async function jw(t,e,n,r,i,o){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pa,eventId:i};if(e instanceof bo){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",oW(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,c]of Object.entries(o||{}))a[d]=c}if(e instanceof bc){const d=e.getScopes().filter(c=>c!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const d of Object.keys(s))s[d]===void 0&&delete s[d];const l=await t._getAppCheckToken(),u=l?`#${$7}=${encodeURIComponent(l)}`:"";return`${L7(t)}?${yc(s).slice(1)}${u}`}function L7({config:t}){return t.emulator?XT(t,M7):`https://${t.authDomain}/${j7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="webStorageSupport";class V7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ns,this._completeRedirectFn=Sv,this._overrideRedirectResult=c1}async _openPopup(e,n,r,i){var o;oi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await jw(e,n,r,jf(),i);return N7(e,a,Qh())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await jw(e,n,r,jf(),i);return wG(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(oi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await A7(e),r=new R$(e);return n.register("authEvent",i=>(te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(G_,{type:G_},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[G_];a!==void 0&&n(!!a),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=g7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return a$()||t$()||Kh()}}const F7=V7;class B7{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return gi("unexpected MultiFactorSessionType")}}}class d1 extends B7{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new d1(e)}_finalizeEnroll(e,n,r){return pG(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return CG(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class j${constructor(){}static assertion(e){return d1._fromCredential(e)}}j$.FACTOR_ID="phone";var mO="@firebase/auth",gO="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W7(t){Vr(new zn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;te(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s$(t)},u=new s8(r,i,o,l);return m8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vr(new zn("auth-internal",e=>{const n=Pt(e.getProvider("auth").getImmediate());return(r=>new U7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fn(mO,gO,z7(t)),Fn(mO,gO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=5*60;Q9("authIdTokenMaxAge");function G7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}l8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Xt("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",G7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W7("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7=2e3;async function H7(t,e,n){var r;const{BuildInfo:i}=js();oi(e.sessionId,"AuthEvent did not contain a session ID");const o=await Z7(e.sessionId),a={};return Kh()?a.ibi=i.packageName:Gh()?a.apn=i.packageName:bn(t,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=o,jw(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,a)}async function Y7(t){const{BuildInfo:e}=js(),n={};Kh()?n.iosBundleId=e.packageName:Gh()?n.androidPackageName=e.packageName:bn(t,"operation-not-supported-in-this-environment"),await D$(t,n)}function Q7(t){const{cordova:e}=js();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,e8()?"_blank":"_system","location=yes"),n(i)})})}async function X7(t,e,n){const{cordova:r}=js();let i=()=>{};try{await new Promise((o,a)=>{let s=null;function l(){var c;o();const h=(c=r.plugins.browsertab)===null||c===void 0?void 0:c.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){s||(s=window.setTimeout(()=>{a(Xt(t,"redirect-cancelled-by-user"))},K7))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),Gh()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",d,!1),s&&window.clearTimeout(s)}})}finally{i()}}function J7(t){var e,n,r,i,o,a,s,l,u,d;const c=js();te(typeof((e=c==null?void 0:c.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(typeof((n=c==null?void 0:c.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te(typeof((o=(i=(r=c==null?void 0:c.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te(typeof((l=(s=(a=c==null?void 0:c.cordova)===null||a===void 0?void 0:a.plugins)===null||s===void 0?void 0:s.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te(typeof((d=(u=c==null?void 0:c.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Z7(t){const e=eK(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function eK(t){if(oi(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK=20;class nK extends R${constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function rK(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:aK(),postBody:null,tenantId:t.tenantId,error:Xt(t,"no-auth-event")}}function iK(t,e){return Mw()._set($w(t),e)}async function yO(t){const e=await Mw()._get($w(t));return e&&await Mw()._remove($w(t)),e}function oK(t,e){var n,r;const i=lK(e);if(i.includes("/__/auth/callback")){const o=Bm(i),a=o.firebaseError?sK(decodeURIComponent(o.firebaseError)):null,s=(r=(n=a==null?void 0:a.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=s?Xt(s):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function aK(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<tK;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function Mw(){return gr(o1)}function $w(t){return xs("authEvent",t.config.apiKey,t.name)}function sK(t){try{return JSON.parse(t)}catch{return null}}function lK(t){const e=Bm(t),n=e.link?decodeURIComponent(e.link):void 0,r=Bm(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Bm(i).link||i||r||n||t}function Bm(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Gl(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uK=500;class cK{constructor(){this._redirectPersistence=Ns,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Sv,this._overrideRedirectResult=c1}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new nK(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){bn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){J7(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),i7(),await this._originValidation(e);const a=rK(e,r,i);await iK(e,a);const s=await H7(e,a,n),l=await Q7(s);return X7(e,o,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Y7(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=js(),a=setTimeout(async()=>{await yO(e),n.onEvent(vO())},uK),s=async d=>{clearTimeout(a);const c=await yO(e);let h=null;c&&(d!=null&&d.url)&&(h=oK(c,d.url)),n.onEvent(h||vO())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,s);const l=i,u=`${o.packageName.toLowerCase()}://`;js().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(u)&&s({url:d}),typeof l=="function")try{l(d)}catch(c){console.error(c)}}}}const dK=cK;function vO(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Xt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fK(t,e){Pt(t)._logFramework(e)}var hK="@firebase/auth-compat",pK="0.5.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mK=1e3;function Zd(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function gK(){return Zd()==="http:"||Zd()==="https:"}function M$(t=Et()){return!!((Zd()==="file:"||Zd()==="ionic:"||Zd()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yK(){return BT()||FT()}function vK(){return OM()&&(document==null?void 0:document.documentMode)===11}function _K(t=Et()){return/Edge\/\d+/.test(t)}function bK(t=Et()){return vK()||_K(t)}function $$(){try{const t=self.localStorage,e=Qh();if(t)return t.setItem(e,"1"),t.removeItem(e),bK()?Rs():!0}catch{return f1()&&Rs()}return!1}function f1(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function K_(){return(gK()||mv()||M$())&&!yK()&&$$()&&!f1()}function L$(){return M$()&&typeof document<"u"}async function wK(){return L$()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},mK);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function xK(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr={LOCAL:"local",NONE:"none",SESSION:"session"},cd=te,V$="persistence";function EK(t,e){if(cd(Object.values(hr).includes(e),t,"invalid-persistence-type"),BT()){cd(e!==hr.SESSION,t,"unsupported-persistence-type");return}if(FT()){cd(e===hr.NONE,t,"unsupported-persistence-type");return}if(f1()){cd(e===hr.NONE||e===hr.LOCAL&&Rs(),t,"unsupported-persistence-type");return}cd(e===hr.NONE||$$(),t,"unsupported-persistence-type")}async function Lw(t){await t._initializationPromise;const e=F$(),n=xs(V$,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function TK(t,e){const n=F$();if(!n)return[];const r=xs(V$,t,e);switch(n.getItem(r)){case hr.NONE:return[Iu];case hr.LOCAL:return[Vf,Ns];case hr.SESSION:return[Ns];default:return[]}}function F$(){var t;try{return((t=xK())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK=te;class Qo{constructor(){this.browserResolver=gr(F7),this.cordovaResolver=gr(dK),this.underlyingResolver=null,this._redirectPersistence=Ns,this._completeRedirectFn=Sv,this._overrideRedirectResult=c1}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return L$()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return IK(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await wK();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t){return t.unwrap()}function SK(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AK(t){return U$(t)}function PK(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new OK(t,fG(t,e))}else if(r){const i=U$(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function U$(t){const{_tokenResponse:e}=t instanceof yn?t.customData:t;if(!e)return null;if(!(t instanceof yn)&&"temporaryProof"in e&&"phoneNumber"in e)return Ds.credentialFromResult(t);const n=e.providerId;if(!n||n===ud.PASSWORD)return null;let r;switch(n){case ud.GOOGLE:r=hi;break;case ud.FACEBOOK:r=fi;break;case ud.GITHUB:r=pi;break;case ud.TWITTER:r=mi;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:a,pendingToken:s,nonce:l}=e;return!o&&!a&&!i&&!s?null:s?n.startsWith("saml.")?Su._create(n,s):Ai._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:i,accessToken:o}):new au(n).credential({idToken:i,accessToken:o,rawNonce:l})}return t instanceof yn?r.credentialFromError(t):r.credentialFromResult(t)}function Hn(t,e){return e.catch(n=>{throw n instanceof yn&&PK(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:AK(n),additionalUserInfo:dG(n),user:Av.getOrCreate(i)}})}async function Vw(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Hn(t,n.confirm(r))}}class OK{constructor(e,n){this.resolver=n,this.auth=SK(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Hn(B$(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Av=class Md{constructor(e){this._delegate=e,this.multiFactor=gG(e)}static getOrCreate(e){return Md.USER_MAP.has(e)||Md.USER_MAP.set(e,new Md(e)),Md.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Hn(this.auth,g$(this._delegate,e))}async linkWithPhoneNumber(e,n){return Vw(this.auth,qG(this._delegate,e,n))}async linkWithPopup(e){return Hn(this.auth,e7(this._delegate,e,Qo))}async linkWithRedirect(e){return await Lw(Pt(this.auth)),u7(this._delegate,e,Qo)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Hn(this.auth,y$(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Vw(this.auth,GG(this._delegate,e,n))}reauthenticateWithPopup(e){return Hn(this.auth,ZG(this._delegate,e,Qo))}async reauthenticateWithRedirect(e){return await Lw(Pt(this.auth)),s7(this._delegate,e,Qo)}sendEmailVerification(e){return eG(this._delegate,e)}async unlink(e){return await F8(this._delegate,e),this}updateEmail(e){return iG(this._delegate,e)}updatePassword(e){return oG(this._delegate,e)}updatePhoneNumber(e){return KG(this._delegate,e)}updateProfile(e){return rG(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return tG(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Av.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=te;class Fw{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;dd(r,"invalid-api-key",{appName:e.name}),dd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Qo:void 0;this._delegate=n.initialize({options:{persistence:kK(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Nq),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Av.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){g8(this._delegate,e,n)}applyActionCode(e){return q8(this._delegate,e)}checkActionCode(e){return v$(this._delegate,e)}confirmPasswordReset(e,n){return W8(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Hn(this._delegate,K8(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Z8(this._delegate,e)}isSignInWithEmailLink(e){return Q8(this._delegate,e)}async getRedirectResult(){dd(K_(),this._delegate,"operation-not-supported-in-this-environment");const e=await d7(this._delegate,Qo);return e?Hn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){fK(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:o,complete:a}=_O(e,n,r);return this._delegate.onAuthStateChanged(i,o,a)}onIdTokenChanged(e,n,r){const{next:i,error:o,complete:a}=_O(e,n,r);return this._delegate.onIdTokenChanged(i,o,a)}sendSignInLinkToEmail(e,n){return Y8(this._delegate,e,n)}sendPasswordResetEmail(e,n){return z8(this._delegate,e,n||void 0)}async setPersistence(e){EK(this._delegate,e);let n;switch(e){case hr.SESSION:n=Ns;break;case hr.LOCAL:n=await gr(Vf)._isAvailable()?Vf:o1;break;case hr.NONE:n=Iu;break;default:return bn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Hn(this._delegate,V8(this._delegate))}signInWithCredential(e){return Hn(this._delegate,wv(this._delegate,e))}signInWithCustomToken(e){return Hn(this._delegate,U8(this._delegate,e))}signInWithEmailAndPassword(e,n){return Hn(this._delegate,H8(this._delegate,e,n))}signInWithEmailLink(e,n){return Hn(this._delegate,X8(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Vw(this._delegate,WG(this._delegate,e,n))}async signInWithPopup(e){return dd(K_(),this._delegate,"operation-not-supported-in-this-environment"),Hn(this._delegate,JG(this._delegate,e,Qo))}async signInWithRedirect(e){return dd(K_(),this._delegate,"operation-not-supported-in-this-environment"),await Lw(this._delegate),o7(this._delegate,e,Qo)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return G8(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Fw.Persistence=hr;function _O(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:a=>i(a&&Av.getOrCreate(a)),error:e,complete:n}}function kK(t,e){const n=TK(t,e);if(typeof self<"u"&&!n.includes(Vf)&&n.push(Vf),typeof window<"u")for(const r of[o1,Ns])n.includes(r)||n.push(r);return n.includes(Iu)||n.push(Iu),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.providerId="phone",this._delegate=new Ds(B$(Fr.auth()))}static credential(e,n){return Ds.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}h1.PHONE_SIGN_IN_METHOD=Ds.PHONE_SIGN_IN_METHOD;h1.PROVIDER_ID=Ds.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CK=te;class RK{constructor(e,n,r=Fr.app()){var i;CK((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new UG(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NK="auth-compat";function DK(t){t.INTERNAL.registerComponent(new zn(NK,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Fw(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:bl.EMAIL_SIGNIN,PASSWORD_RESET:bl.PASSWORD_RESET,RECOVER_EMAIL:bl.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:bl.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:bl.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:bl.VERIFY_EMAIL}},EmailAuthProvider:Oa,FacebookAuthProvider:fi,GithubAuthProvider:pi,GoogleAuthProvider:hi,OAuthProvider:au,SAMLAuthProvider:kg,PhoneAuthProvider:h1,PhoneMultiFactorGenerator:j$,RecaptchaVerifier:RK,TwitterAuthProvider:mi,Auth:Fw,AuthCredential:_c,Error:yn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(hK,pK)}DK(Fr);var bO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,z$;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,I){function O(){}O.prototype=I.prototype,T.D=I.prototype,T.prototype=new O,T.prototype.constructor=T,T.C=function(C,R,k){for(var N=Array(arguments.length-2),U=2;U<arguments.length;U++)N[U-2]=arguments[U];return I.prototype[R].apply(C,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,I,O){O||(O=0);var C=Array(16);if(typeof I=="string")for(var R=0;16>R;++R)C[R]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(R=0;16>R;++R)C[R]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=T.g[0],O=T.g[1],R=T.g[2];var k=T.g[3],N=I+(k^O&(R^k))+C[0]+3614090360&4294967295;I=O+(N<<7&4294967295|N>>>25),N=k+(R^I&(O^R))+C[1]+3905402710&4294967295,k=I+(N<<12&4294967295|N>>>20),N=R+(O^k&(I^O))+C[2]+606105819&4294967295,R=k+(N<<17&4294967295|N>>>15),N=O+(I^R&(k^I))+C[3]+3250441966&4294967295,O=R+(N<<22&4294967295|N>>>10),N=I+(k^O&(R^k))+C[4]+4118548399&4294967295,I=O+(N<<7&4294967295|N>>>25),N=k+(R^I&(O^R))+C[5]+1200080426&4294967295,k=I+(N<<12&4294967295|N>>>20),N=R+(O^k&(I^O))+C[6]+2821735955&4294967295,R=k+(N<<17&4294967295|N>>>15),N=O+(I^R&(k^I))+C[7]+4249261313&4294967295,O=R+(N<<22&4294967295|N>>>10),N=I+(k^O&(R^k))+C[8]+1770035416&4294967295,I=O+(N<<7&4294967295|N>>>25),N=k+(R^I&(O^R))+C[9]+2336552879&4294967295,k=I+(N<<12&4294967295|N>>>20),N=R+(O^k&(I^O))+C[10]+4294925233&4294967295,R=k+(N<<17&4294967295|N>>>15),N=O+(I^R&(k^I))+C[11]+2304563134&4294967295,O=R+(N<<22&4294967295|N>>>10),N=I+(k^O&(R^k))+C[12]+1804603682&4294967295,I=O+(N<<7&4294967295|N>>>25),N=k+(R^I&(O^R))+C[13]+4254626195&4294967295,k=I+(N<<12&4294967295|N>>>20),N=R+(O^k&(I^O))+C[14]+2792965006&4294967295,R=k+(N<<17&4294967295|N>>>15),N=O+(I^R&(k^I))+C[15]+1236535329&4294967295,O=R+(N<<22&4294967295|N>>>10),N=I+(R^k&(O^R))+C[1]+4129170786&4294967295,I=O+(N<<5&4294967295|N>>>27),N=k+(O^R&(I^O))+C[6]+3225465664&4294967295,k=I+(N<<9&4294967295|N>>>23),N=R+(I^O&(k^I))+C[11]+643717713&4294967295,R=k+(N<<14&4294967295|N>>>18),N=O+(k^I&(R^k))+C[0]+3921069994&4294967295,O=R+(N<<20&4294967295|N>>>12),N=I+(R^k&(O^R))+C[5]+3593408605&4294967295,I=O+(N<<5&4294967295|N>>>27),N=k+(O^R&(I^O))+C[10]+38016083&4294967295,k=I+(N<<9&4294967295|N>>>23),N=R+(I^O&(k^I))+C[15]+3634488961&4294967295,R=k+(N<<14&4294967295|N>>>18),N=O+(k^I&(R^k))+C[4]+3889429448&4294967295,O=R+(N<<20&4294967295|N>>>12),N=I+(R^k&(O^R))+C[9]+568446438&4294967295,I=O+(N<<5&4294967295|N>>>27),N=k+(O^R&(I^O))+C[14]+3275163606&4294967295,k=I+(N<<9&4294967295|N>>>23),N=R+(I^O&(k^I))+C[3]+4107603335&4294967295,R=k+(N<<14&4294967295|N>>>18),N=O+(k^I&(R^k))+C[8]+1163531501&4294967295,O=R+(N<<20&4294967295|N>>>12),N=I+(R^k&(O^R))+C[13]+2850285829&4294967295,I=O+(N<<5&4294967295|N>>>27),N=k+(O^R&(I^O))+C[2]+4243563512&4294967295,k=I+(N<<9&4294967295|N>>>23),N=R+(I^O&(k^I))+C[7]+1735328473&4294967295,R=k+(N<<14&4294967295|N>>>18),N=O+(k^I&(R^k))+C[12]+2368359562&4294967295,O=R+(N<<20&4294967295|N>>>12),N=I+(O^R^k)+C[5]+4294588738&4294967295,I=O+(N<<4&4294967295|N>>>28),N=k+(I^O^R)+C[8]+2272392833&4294967295,k=I+(N<<11&4294967295|N>>>21),N=R+(k^I^O)+C[11]+1839030562&4294967295,R=k+(N<<16&4294967295|N>>>16),N=O+(R^k^I)+C[14]+4259657740&4294967295,O=R+(N<<23&4294967295|N>>>9),N=I+(O^R^k)+C[1]+2763975236&4294967295,I=O+(N<<4&4294967295|N>>>28),N=k+(I^O^R)+C[4]+1272893353&4294967295,k=I+(N<<11&4294967295|N>>>21),N=R+(k^I^O)+C[7]+4139469664&4294967295,R=k+(N<<16&4294967295|N>>>16),N=O+(R^k^I)+C[10]+3200236656&4294967295,O=R+(N<<23&4294967295|N>>>9),N=I+(O^R^k)+C[13]+681279174&4294967295,I=O+(N<<4&4294967295|N>>>28),N=k+(I^O^R)+C[0]+3936430074&4294967295,k=I+(N<<11&4294967295|N>>>21),N=R+(k^I^O)+C[3]+3572445317&4294967295,R=k+(N<<16&4294967295|N>>>16),N=O+(R^k^I)+C[6]+76029189&4294967295,O=R+(N<<23&4294967295|N>>>9),N=I+(O^R^k)+C[9]+3654602809&4294967295,I=O+(N<<4&4294967295|N>>>28),N=k+(I^O^R)+C[12]+3873151461&4294967295,k=I+(N<<11&4294967295|N>>>21),N=R+(k^I^O)+C[15]+530742520&4294967295,R=k+(N<<16&4294967295|N>>>16),N=O+(R^k^I)+C[2]+3299628645&4294967295,O=R+(N<<23&4294967295|N>>>9),N=I+(R^(O|~k))+C[0]+4096336452&4294967295,I=O+(N<<6&4294967295|N>>>26),N=k+(O^(I|~R))+C[7]+1126891415&4294967295,k=I+(N<<10&4294967295|N>>>22),N=R+(I^(k|~O))+C[14]+2878612391&4294967295,R=k+(N<<15&4294967295|N>>>17),N=O+(k^(R|~I))+C[5]+4237533241&4294967295,O=R+(N<<21&4294967295|N>>>11),N=I+(R^(O|~k))+C[12]+1700485571&4294967295,I=O+(N<<6&4294967295|N>>>26),N=k+(O^(I|~R))+C[3]+2399980690&4294967295,k=I+(N<<10&4294967295|N>>>22),N=R+(I^(k|~O))+C[10]+4293915773&4294967295,R=k+(N<<15&4294967295|N>>>17),N=O+(k^(R|~I))+C[1]+2240044497&4294967295,O=R+(N<<21&4294967295|N>>>11),N=I+(R^(O|~k))+C[8]+1873313359&4294967295,I=O+(N<<6&4294967295|N>>>26),N=k+(O^(I|~R))+C[15]+4264355552&4294967295,k=I+(N<<10&4294967295|N>>>22),N=R+(I^(k|~O))+C[6]+2734768916&4294967295,R=k+(N<<15&4294967295|N>>>17),N=O+(k^(R|~I))+C[13]+1309151649&4294967295,O=R+(N<<21&4294967295|N>>>11),N=I+(R^(O|~k))+C[4]+4149444226&4294967295,I=O+(N<<6&4294967295|N>>>26),N=k+(O^(I|~R))+C[11]+3174756917&4294967295,k=I+(N<<10&4294967295|N>>>22),N=R+(I^(k|~O))+C[2]+718787259&4294967295,R=k+(N<<15&4294967295|N>>>17),N=O+(k^(R|~I))+C[9]+3951481745&4294967295,T.g[0]=T.g[0]+I&4294967295,T.g[1]=T.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+k&4294967295}r.prototype.u=function(T,I){I===void 0&&(I=T.length);for(var O=I-this.blockSize,C=this.B,R=this.h,k=0;k<I;){if(R==0)for(;k<=O;)i(this,T,k),k+=this.blockSize;if(typeof T=="string"){for(;k<I;)if(C[R++]=T.charCodeAt(k++),R==this.blockSize){i(this,C),R=0;break}}else for(;k<I;)if(C[R++]=T[k++],R==this.blockSize){i(this,C),R=0;break}}this.h=R,this.o+=I},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var I=1;I<T.length-8;++I)T[I]=0;var O=8*this.o;for(I=T.length-8;I<T.length;++I)T[I]=O&255,O/=256;for(this.u(T),T=Array(16),I=O=0;4>I;++I)for(var C=0;32>C;C+=8)T[O++]=this.g[I]>>>C&255;return T};function o(T,I){var O=s;return Object.prototype.hasOwnProperty.call(O,T)?O[T]:O[T]=I(T)}function a(T,I){this.h=I;for(var O=[],C=!0,R=T.length-1;0<=R;R--){var k=T[R]|0;C&&k==I||(O[R]=k,C=!1)}this.g=O}var s={};function l(T){return-128<=T&&128>T?o(T,function(I){return new a([I|0],0>I?-1:0)}):new a([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return c;if(0>T)return v(u(-T));for(var I=[],O=1,C=0;T>=O;C++)I[C]=T/O|0,O*=4294967296;return new a(I,0)}function d(T,I){if(T.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T.charAt(0)=="-")return v(d(T.substring(1),I));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=u(Math.pow(I,8)),C=c,R=0;R<T.length;R+=8){var k=Math.min(8,T.length-R),N=parseInt(T.substring(R,R+k),I);8>k?(k=u(Math.pow(I,k)),C=C.j(k).add(u(N))):(C=C.j(O),C=C.add(u(N)))}return C}var c=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-v(this).m();for(var T=0,I=1,O=0;O<this.g.length;O++){var C=this.i(O);T+=(0<=C?C:4294967296+C)*I,I*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(y(this))return"0";if(g(this))return"-"+v(this).toString(T);for(var I=u(Math.pow(T,6)),O=this,C="";;){var R=P(O,I).g;O=b(O,R.j(I));var k=((0<O.g.length?O.g[0]:O.h)>>>0).toString(T);if(O=R,y(O))return k+C;for(;6>k.length;)k="0"+k;C=k+C}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function y(T){if(T.h!=0)return!1;for(var I=0;I<T.g.length;I++)if(T.g[I]!=0)return!1;return!0}function g(T){return T.h==-1}t.l=function(T){return T=b(this,T),g(T)?-1:y(T)?0:1};function v(T){for(var I=T.g.length,O=[],C=0;C<I;C++)O[C]=~T.g[C];return new a(O,~T.h).add(h)}t.abs=function(){return g(this)?v(this):this},t.add=function(T){for(var I=Math.max(this.g.length,T.g.length),O=[],C=0,R=0;R<=I;R++){var k=C+(this.i(R)&65535)+(T.i(R)&65535),N=(k>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);C=N>>>16,k&=65535,N&=65535,O[R]=N<<16|k}return new a(O,O[O.length-1]&-2147483648?-1:0)};function b(T,I){return T.add(v(I))}t.j=function(T){if(y(this)||y(T))return c;if(g(this))return g(T)?v(this).j(v(T)):v(v(this).j(T));if(g(T))return v(this.j(v(T)));if(0>this.l(p)&&0>T.l(p))return u(this.m()*T.m());for(var I=this.g.length+T.g.length,O=[],C=0;C<2*I;C++)O[C]=0;for(C=0;C<this.g.length;C++)for(var R=0;R<T.g.length;R++){var k=this.i(C)>>>16,N=this.i(C)&65535,U=T.i(R)>>>16,z=T.i(R)&65535;O[2*C+2*R]+=N*z,_(O,2*C+2*R),O[2*C+2*R+1]+=k*z,_(O,2*C+2*R+1),O[2*C+2*R+1]+=N*U,_(O,2*C+2*R+1),O[2*C+2*R+2]+=k*U,_(O,2*C+2*R+2)}for(C=0;C<I;C++)O[C]=O[2*C+1]<<16|O[2*C];for(C=I;C<2*I;C++)O[C]=0;return new a(O,0)};function _(T,I){for(;(T[I]&65535)!=T[I];)T[I+1]+=T[I]>>>16,T[I]&=65535,I++}function x(T,I){this.g=T,this.h=I}function P(T,I){if(y(I))throw Error("division by zero");if(y(T))return new x(c,c);if(g(T))return I=P(v(T),I),new x(v(I.g),v(I.h));if(g(I))return I=P(T,v(I)),new x(v(I.g),I.h);if(30<T.g.length){if(g(T)||g(I))throw Error("slowDivide_ only works with positive integers.");for(var O=h,C=I;0>=C.l(T);)O=E(O),C=E(C);var R=A(O,1),k=A(C,1);for(C=A(C,2),O=A(O,2);!y(C);){var N=k.add(C);0>=N.l(T)&&(R=R.add(O),k=N),C=A(C,1),O=A(O,1)}return I=b(T,R.j(I)),new x(R,I)}for(R=c;0<=T.l(I);){for(O=Math.max(1,Math.floor(T.m()/I.m())),C=Math.ceil(Math.log(O)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),k=u(O),N=k.j(I);g(N)||0<N.l(T);)O-=C,k=u(O),N=k.j(I);y(k)&&(k=h),R=R.add(k),T=b(T,N)}return new x(R,T)}t.A=function(T){return P(this,T).h},t.and=function(T){for(var I=Math.max(this.g.length,T.g.length),O=[],C=0;C<I;C++)O[C]=this.i(C)&T.i(C);return new a(O,this.h&T.h)},t.or=function(T){for(var I=Math.max(this.g.length,T.g.length),O=[],C=0;C<I;C++)O[C]=this.i(C)|T.i(C);return new a(O,this.h|T.h)},t.xor=function(T){for(var I=Math.max(this.g.length,T.g.length),O=[],C=0;C<I;C++)O[C]=this.i(C)^T.i(C);return new a(O,this.h^T.h)};function E(T){for(var I=T.g.length+1,O=[],C=0;C<I;C++)O[C]=T.i(C)<<1|T.i(C-1)>>>31;return new a(O,T.h)}function A(T,I){var O=I>>5;I%=32;for(var C=T.g.length-O,R=[],k=0;k<C;k++)R[k]=0<I?T.i(k+O)>>>I|T.i(k+O+1)<<32-I:T.i(k+O);return new a(R,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,z$=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Ts=a}).apply(typeof bO<"u"?bO:typeof self<"u"?self:typeof window<"u"?window:{});var tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var W$,$d,q$,Um,Bw,G$,K$,H$;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,S){return f==Array.prototype||f==Object.prototype||(f[w]=S.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof tm=="object"&&tm];for(var w=0;w<f.length;++w){var S=f[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(f,w){if(w)e:{var S=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var $=f[D];if(!($ in S))break e;S=S[$]}f=f[f.length-1],D=S[f],w=w(D),w!=D&&w!=null&&e(S,f,{configurable:!0,writable:!0,value:w})}}function o(f,w){f instanceof String&&(f+="");var S=0,D=!1,$={next:function(){if(!D&&S<f.length){var B=S++;return{value:w(B,f[B]),done:!1}}return D=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(f){return f||function(){return o(this,function(w,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function u(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function d(f,w,S){return f.call.apply(f.bind,arguments)}function c(f,w,S){if(!f)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,D),f.apply(w,$)}}return function(){return f.apply(w,arguments)}}function h(f,w,S){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:c,h.apply(null,arguments)}function p(f,w){var S=Array.prototype.slice.call(arguments,1);return function(){var D=S.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function y(f,w){function S(){}S.prototype=w.prototype,f.aa=w.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(D,$,B){for(var re=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)re[Ke-2]=arguments[Ke];return w.prototype[$].apply(D,re)}}function g(f){const w=f.length;if(0<w){const S=Array(w);for(let D=0;D<w;D++)S[D]=f[D];return S}return[]}function v(f,w){for(let S=1;S<arguments.length;S++){const D=arguments[S];if(l(D)){const $=f.length||0,B=D.length||0;f.length=$+B;for(let re=0;re<B;re++)f[$+re]=D[re]}else f.push(D)}}class b{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function _(f){return/^[\s\xa0]*$/.test(f)}function x(){var f=s.navigator;return f&&(f=f.userAgent)?f:""}function P(f){return P[" "](f),f}P[" "]=function(){};var E=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function A(f,w,S){for(const D in f)w.call(S,f[D],D,f)}function T(f,w){for(const S in f)w.call(void 0,f[S],S,f)}function I(f){const w={};for(const S in f)w[S]=f[S];return w}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(f,w){let S,D;for(let $=1;$<arguments.length;$++){D=arguments[$];for(S in D)f[S]=D[S];for(let B=0;B<O.length;B++)S=O[B],Object.prototype.hasOwnProperty.call(D,S)&&(f[S]=D[S])}}function R(f){var w=1;f=f.split(":");const S=[];for(;0<w&&f.length;)S.push(f.shift()),w--;return f.length&&S.push(f.join(":")),S}function k(f){s.setTimeout(()=>{throw f},0)}function N(){var f=q;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class U{constructor(){this.h=this.g=null}add(w,S){const D=z.get();D.set(w,S),this.h?this.h.next=D:this.g=D,this.h=D}}var z=new b(()=>new G,f=>f.reset());class G{constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let H,V=!1,q=new U,J=()=>{const f=s.Promise.resolve(void 0);H=()=>{f.then(se)}};var se=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(S){k(S)}var w=z;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}V=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};s.addEventListener("test",S,w),s.removeEventListener("test",S,w)}catch{}return f}();function Ie(f,w){if(Y.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(E){e:{try{P(w.nodeName);var $=!0;break e}catch{}$=!1}$||(w=null)}}else S=="mouseover"?w=f.fromElement:S=="mouseout"&&(w=f.toElement);this.relatedTarget=w,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Le[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ie.aa.h.call(this)}}y(Ie,Y);var Le={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),yt=0;function ie(f,w,S,D,$){this.listener=f,this.proxy=null,this.src=w,this.type=S,this.capture=!!D,this.ha=$,this.key=++yt,this.da=this.fa=!1}function me(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function de(f){this.src=f,this.g={},this.h=0}de.prototype.add=function(f,w,S,D,$){var B=f.toString();f=this.g[B],f||(f=this.g[B]=[],this.h++);var re=De(f,w,D,$);return-1<re?(w=f[re],S||(w.fa=!1)):(w=new ie(w,this.src,B,!!D,$),w.fa=S,f.push(w)),w};function K(f,w){var S=w.type;if(S in f.g){var D=f.g[S],$=Array.prototype.indexOf.call(D,w,void 0),B;(B=0<=$)&&Array.prototype.splice.call(D,$,1),B&&(me(w),f.g[S].length==0&&(delete f.g[S],f.h--))}}function De(f,w,S,D){for(var $=0;$<f.length;++$){var B=f[$];if(!B.da&&B.listener==w&&B.capture==!!S&&B.ha==D)return $}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),Qe={};function Xe(f,w,S,D,$){if(Array.isArray(w)){for(var B=0;B<w.length;B++)Xe(f,w[B],S,D,$);return null}return S=cn(S),f&&f[gt]?f.K(w,S,u(D)?!!D.capture:!1,$):Wt(f,w,S,!1,D,$)}function Wt(f,w,S,D,$,B){if(!w)throw Error("Invalid event type");var re=u($)?!!$.capture:!!$,Ke=ji(f);if(Ke||(f[Se]=Ke=new de(f)),S=Ke.add(w,S,D,re,B),S.proxy)return S;if(D=Kn(),S.proxy=D,D.src=f,D.listener=S,f.addEventListener)ge||($=re),$===void 0&&($=!1),f.addEventListener(w.toString(),D,$);else if(f.attachEvent)f.attachEvent(lr(w.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Kn(){function f(S){return w.call(f.src,f.listener,S)}const w=Gr;return f}function Tr(f,w,S,D,$){if(Array.isArray(w))for(var B=0;B<w.length;B++)Tr(f,w[B],S,D,$);else D=u(D)?!!D.capture:!!D,S=cn(S),f&&f[gt]?(f=f.i,w=String(w).toString(),w in f.g&&(B=f.g[w],S=De(B,S,D,$),-1<S&&(me(B[S]),Array.prototype.splice.call(B,S,1),B.length==0&&(delete f.g[w],f.h--)))):f&&(f=ji(f))&&(w=f.g[w.toString()],f=-1,w&&(f=De(w,S,D,$)),(S=-1<f?w[f]:null)&&qr(S))}function qr(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[gt])K(w.i,f);else{var S=f.type,D=f.proxy;w.removeEventListener?w.removeEventListener(S,D,f.capture):w.detachEvent?w.detachEvent(lr(S),D):w.addListener&&w.removeListener&&w.removeListener(D),(S=ji(w))?(K(S,f),S.h==0&&(S.src=null,w[Se]=null)):me(f)}}}function lr(f){return f in Qe?Qe[f]:Qe[f]="on"+f}function Gr(f,w){if(f.da)f=!0;else{w=new Ie(w,this);var S=f.listener,D=f.ha||f.src;f.fa&&qr(f),f=S.call(D,w)}return f}function ji(f){return f=f[Se],f instanceof de?f:null}var Oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function cn(f){return typeof f=="function"?f:(f[Oo]||(f[Oo]=function(w){return f.handleEvent(w)}),f[Oo])}function Rt(){Z.call(this),this.i=new de(this),this.M=this,this.F=null}y(Rt,Z),Rt.prototype[gt]=!0,Rt.prototype.removeEventListener=function(f,w,S,D){Tr(this,f,w,S,D)};function Cn(f,w){var S,D=f.F;if(D)for(S=[];D;D=D.F)S.push(D);if(f=f.M,D=w.type||w,typeof w=="string")w=new Y(w,f);else if(w instanceof Y)w.target=w.target||f;else{var $=w;w=new Y(D,f),C(w,$)}if($=!0,S)for(var B=S.length-1;0<=B;B--){var re=w.g=S[B];$=bp(re,D,!0,w)&&$}if(re=w.g=f,$=bp(re,D,!0,w)&&$,$=bp(re,D,!1,w)&&$,S)for(B=0;B<S.length;B++)re=w.g=S[B],$=bp(re,D,!1,w)&&$}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var S=f.g[w],D=0;D<S.length;D++)me(S[D]);delete f.g[w],f.h--}}this.F=null},Rt.prototype.K=function(f,w,S,D){return this.i.add(String(f),w,!1,S,D)},Rt.prototype.L=function(f,w,S,D){return this.i.add(String(f),w,!0,S,D)};function bp(f,w,S,D){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var $=!0,B=0;B<w.length;++B){var re=w[B];if(re&&!re.da&&re.capture==S){var Ke=re.listener,dn=re.ha||re.src;re.fa&&K(f.i,re),$=Ke.call(dn,D)!==!1&&$}}return $&&!D.defaultPrevented}function OS(f,w,S){if(typeof f=="function")S&&(f=h(f,S));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:s.setTimeout(f,w||0)}function kS(f){f.g=OS(()=>{f.g=null,f.i&&(f.i=!1,kS(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class M3 extends Z{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:kS(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uc(f){Z.call(this),this.h=f,this.g={}}y(Uc,Z);var CS=[];function RS(f){A(f.g,function(w,S){this.g.hasOwnProperty(S)&&qr(w)},f),f.g={}}Uc.prototype.N=function(){Uc.aa.N.call(this),RS(this)},Uc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Y0=s.JSON.stringify,$3=s.JSON.parse,L3=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function Q0(){}Q0.prototype.h=null;function NS(f){return f.h||(f.h=f.i())}function DS(){}var zc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function X0(){Y.call(this,"d")}y(X0,Y);function J0(){Y.call(this,"c")}y(J0,Y);var Fa={},jS=null;function wp(){return jS=jS||new Rt}Fa.La="serverreachability";function MS(f){Y.call(this,Fa.La,f)}y(MS,Y);function Wc(f){const w=wp();Cn(w,new MS(w))}Fa.STAT_EVENT="statevent";function $S(f,w){Y.call(this,Fa.STAT_EVENT,f),this.stat=w}y($S,Y);function Rn(f){const w=wp();Cn(w,new $S(w,f))}Fa.Ma="timingevent";function LS(f,w){Y.call(this,Fa.Ma,f),this.size=w}y(LS,Y);function qc(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},w)}function Gc(){this.g=!0}Gc.prototype.xa=function(){this.g=!1};function V3(f,w,S,D,$,B){f.info(function(){if(f.g)if(B)for(var re="",Ke=B.split("&"),dn=0;dn<Ke.length;dn++){var je=Ke[dn].split("=");if(1<je.length){var wn=je[0];je=je[1];var xn=wn.split("_");re=2<=xn.length&&xn[1]=="type"?re+(wn+"="+je+"&"):re+(wn+"=redacted&")}}else re=null;else re=B;return"XMLHTTP REQ ("+D+") [attempt "+$+"]: "+w+`
`+S+`
`+re})}function F3(f,w,S,D,$,B,re){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+$+"]: "+w+`
`+S+`
`+B+" "+re})}function ml(f,w,S,D){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+U3(f,S)+(D?" "+D:"")})}function B3(f,w){f.info(function(){return"TIMEOUT: "+w})}Gc.prototype.info=function(){};function U3(f,w){if(!f.g)return w;if(!w)return null;try{var S=JSON.parse(w);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var D=S[f];if(!(2>D.length)){var $=D[1];if(Array.isArray($)&&!(1>$.length)){var B=$[0];if(B!="noop"&&B!="stop"&&B!="close")for(var re=1;re<$.length;re++)$[re]=""}}}}return Y0(S)}catch{return w}}var xp={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},VS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Z0;function Ep(){}y(Ep,Q0),Ep.prototype.g=function(){return new XMLHttpRequest},Ep.prototype.i=function(){return{}},Z0=new Ep;function ko(f,w,S,D){this.j=f,this.i=w,this.l=S,this.R=D||1,this.U=new Uc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new FS}function FS(){this.i=null,this.g="",this.h=!1}var BS={},e_={};function t_(f,w,S){f.L=1,f.v=Ap(Mi(w)),f.m=S,f.P=!0,US(f,null)}function US(f,w){f.F=Date.now(),Tp(f),f.A=Mi(f.v);var S=f.A,D=f.R;Array.isArray(D)||(D=[String(D)]),nA(S.i,"t",D),f.C=0,S=f.j.J,f.h=new FS,f.g=bA(f.j,S?w:null,!f.m),0<f.O&&(f.M=new M3(h(f.Y,f,f.g),f.O)),w=f.U,S=f.g,D=f.ca;var $="readystatechange";Array.isArray($)||($&&(CS[0]=$.toString()),$=CS);for(var B=0;B<$.length;B++){var re=Xe(S,$[B],D||w.handleEvent,!1,w.h||w);if(!re)break;w.g[re.key]=re}w=f.H?I(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),Wc(),V3(f.i,f.u,f.A,f.l,f.R,f.m)}ko.prototype.ca=function(f){f=f.target;const w=this.M;w&&$i(f)==3?w.j():this.Y(f)},ko.prototype.Y=function(f){try{if(f==this.g)e:{const xn=$i(this.g);var w=this.g.Ba();const vl=this.g.Z();if(!(3>xn)&&(xn!=3||this.g&&(this.h.h||this.g.oa()||uA(this.g)))){this.J||xn!=4||w==7||(w==8||0>=vl?Wc(3):Wc(2)),n_(this);var S=this.g.Z();this.X=S;t:if(zS(this)){var D=uA(this.g);f="";var $=D.length,B=$i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ba(this),Kc(this);var re="";break t}this.h.i=new s.TextDecoder}for(w=0;w<$;w++)this.h.h=!0,f+=this.h.i.decode(D[w],{stream:!(B&&w==$-1)});D.length=0,this.h.g+=f,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=S==200,F3(this.i,this.u,this.A,this.l,this.R,xn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,dn=this.g;if((Ke=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ke)){var je=Ke;break t}}je=null}if(S=je)ml(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,r_(this,S);else{this.o=!1,this.s=3,Rn(12),Ba(this),Kc(this);break e}}if(this.P){S=!0;let Kr;for(;!this.J&&this.C<re.length;)if(Kr=z3(this,re),Kr==e_){xn==4&&(this.s=4,Rn(14),S=!1),ml(this.i,this.l,null,"[Incomplete Response]");break}else if(Kr==BS){this.s=4,Rn(15),ml(this.i,this.l,re,"[Invalid Chunk]"),S=!1;break}else ml(this.i,this.l,Kr,null),r_(this,Kr);if(zS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xn!=4||re.length!=0||this.h.h||(this.s=1,Rn(16),S=!1),this.o=this.o&&S,!S)ml(this.i,this.l,re,"[Invalid Chunked Response]"),Ba(this),Kc(this);else if(0<re.length&&!this.W){this.W=!0;var wn=this.j;wn.g==this&&wn.ba&&!wn.M&&(wn.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),u_(wn),wn.M=!0,Rn(11))}}else ml(this.i,this.l,re,null),r_(this,re);xn==4&&Ba(this),this.o&&!this.J&&(xn==4?gA(this.j,this):(this.o=!1,Tp(this)))}else a5(this.g),S==400&&0<re.indexOf("Unknown SID")?(this.s=3,Rn(12)):(this.s=0,Rn(13)),Ba(this),Kc(this)}}}catch{}finally{}};function zS(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function z3(f,w){var S=f.C,D=w.indexOf(`
`,S);return D==-1?e_:(S=Number(w.substring(S,D)),isNaN(S)?BS:(D+=1,D+S>w.length?e_:(w=w.slice(D,D+S),f.C=D+S,w)))}ko.prototype.cancel=function(){this.J=!0,Ba(this)};function Tp(f){f.S=Date.now()+f.I,WS(f,f.I)}function WS(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=qc(h(f.ba,f),w)}function n_(f){f.B&&(s.clearTimeout(f.B),f.B=null)}ko.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(B3(this.i,this.A),this.L!=2&&(Wc(),Rn(17)),Ba(this),this.s=2,Kc(this)):WS(this,this.S-f)};function Kc(f){f.j.G==0||f.J||gA(f.j,f)}function Ba(f){n_(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,RS(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function r_(f,w){try{var S=f.j;if(S.G!=0&&(S.g==f||i_(S.h,f))){if(!f.K&&i_(S.h,f)&&S.G==3){try{var D=S.Da.g.parse(w)}catch{D=null}if(Array.isArray(D)&&D.length==3){var $=D;if($[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)Np(S),Cp(S);else break e;l_(S),Rn(18)}}else S.za=$[1],0<S.za-S.T&&37500>$[2]&&S.F&&S.v==0&&!S.C&&(S.C=qc(h(S.Za,S),6e3));if(1>=KS(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else za(S,11)}else if((f.K||S.g==f)&&Np(S),!_(w))for($=S.Da.g.parse(w),w=0;w<$.length;w++){let je=$[w];if(S.T=je[0],je=je[1],S.G==2)if(je[0]=="c"){S.K=je[1],S.ia=je[2];const wn=je[3];wn!=null&&(S.la=wn,S.j.info("VER="+S.la));const xn=je[4];xn!=null&&(S.Aa=xn,S.j.info("SVER="+S.Aa));const vl=je[5];vl!=null&&typeof vl=="number"&&0<vl&&(D=1.5*vl,S.L=D,S.j.info("backChannelRequestTimeoutMs_="+D)),D=S;const Kr=f.g;if(Kr){const jp=Kr.g?Kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jp){var B=D.h;B.g||jp.indexOf("spdy")==-1&&jp.indexOf("quic")==-1&&jp.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(o_(B,B.h),B.h=null))}if(D.D){const c_=Kr.g?Kr.g.getResponseHeader("X-HTTP-Session-Id"):null;c_&&(D.ya=c_,rt(D.I,D.D,c_))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),D=S;var re=f;if(D.qa=_A(D,D.J?D.ia:null,D.W),re.K){HS(D.h,re);var Ke=re,dn=D.L;dn&&(Ke.I=dn),Ke.B&&(n_(Ke),Tp(Ke)),D.g=re}else pA(D);0<S.i.length&&Rp(S)}else je[0]!="stop"&&je[0]!="close"||za(S,7);else S.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?za(S,7):s_(S):je[0]!="noop"&&S.l&&S.l.ta(je),S.v=0)}}Wc(4)}catch{}}var W3=class{constructor(f,w){this.g=f,this.map=w}};function qS(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function GS(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function KS(f){return f.h?1:f.g?f.g.size:0}function i_(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function o_(f,w){f.g?f.g.add(w):f.h=w}function HS(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}qS.prototype.cancel=function(){if(this.i=YS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function YS(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const S of f.g.values())w=w.concat(S.D);return w}return g(f.i)}function q3(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var w=[],S=f.length,D=0;D<S;D++)w.push(f[D]);return w}w=[],S=0;for(D in f)w[S++]=f[D];return w}function G3(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var w=[];f=f.length;for(var S=0;S<f;S++)w.push(S);return w}w=[],S=0;for(const D in f)w[S++]=D;return w}}}function QS(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var S=G3(f),D=q3(f),$=D.length,B=0;B<$;B++)w.call(void 0,D[B],S&&S[B],f)}var XS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function K3(f,w){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var D=f[S].indexOf("="),$=null;if(0<=D){var B=f[S].substring(0,D);$=f[S].substring(D+1)}else B=f[S];w(B,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Ua(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ua){this.h=f.h,Ip(this,f.j),this.o=f.o,this.g=f.g,Sp(this,f.s),this.l=f.l;var w=f.i,S=new Qc;S.i=w.i,w.g&&(S.g=new Map(w.g),S.h=w.h),JS(this,S),this.m=f.m}else f&&(w=String(f).match(XS))?(this.h=!1,Ip(this,w[1]||"",!0),this.o=Hc(w[2]||""),this.g=Hc(w[3]||"",!0),Sp(this,w[4]),this.l=Hc(w[5]||"",!0),JS(this,w[6]||"",!0),this.m=Hc(w[7]||"")):(this.h=!1,this.i=new Qc(null,this.h))}Ua.prototype.toString=function(){var f=[],w=this.j;w&&f.push(Yc(w,ZS,!0),":");var S=this.g;return(S||w=="file")&&(f.push("//"),(w=this.o)&&f.push(Yc(w,ZS,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Yc(S,S.charAt(0)=="/"?Q3:Y3,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Yc(S,J3)),f.join("")};function Mi(f){return new Ua(f)}function Ip(f,w,S){f.j=S?Hc(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Sp(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function JS(f,w,S){w instanceof Qc?(f.i=w,Z3(f.i,f.h)):(S||(w=Yc(w,X3)),f.i=new Qc(w,f.h))}function rt(f,w,S){f.i.set(w,S)}function Ap(f){return rt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Hc(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Yc(f,w,S){return typeof f=="string"?(f=encodeURI(f).replace(w,H3),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function H3(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ZS=/[#\/\?@]/g,Y3=/[#\?:]/g,Q3=/[#\?]/g,X3=/[#\?@]/g,J3=/#/g;function Qc(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Co(f){f.g||(f.g=new Map,f.h=0,f.i&&K3(f.i,function(w,S){f.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}t=Qc.prototype,t.add=function(f,w){Co(this),this.i=null,f=gl(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(w),this.h+=1,this};function eA(f,w){Co(f),w=gl(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function tA(f,w){return Co(f),w=gl(f,w),f.g.has(w)}t.forEach=function(f,w){Co(this),this.g.forEach(function(S,D){S.forEach(function($){f.call(w,$,D,this)},this)},this)},t.na=function(){Co(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),S=[];for(let D=0;D<w.length;D++){const $=f[D];for(let B=0;B<$.length;B++)S.push(w[D])}return S},t.V=function(f){Co(this);let w=[];if(typeof f=="string")tA(this,f)&&(w=w.concat(this.g.get(gl(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)w=w.concat(f[S])}return w},t.set=function(f,w){return Co(this),this.i=null,f=gl(this,f),tA(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function nA(f,w,S){eA(f,w),0<S.length&&(f.i=null,f.g.set(gl(f,w),g(S)),f.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var S=0;S<w.length;S++){var D=w[S];const B=encodeURIComponent(String(D)),re=this.V(D);for(D=0;D<re.length;D++){var $=B;re[D]!==""&&($+="="+encodeURIComponent(String(re[D]))),f.push($)}}return this.i=f.join("&")};function gl(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function Z3(f,w){w&&!f.j&&(Co(f),f.i=null,f.g.forEach(function(S,D){var $=D.toLowerCase();D!=$&&(eA(this,D),nA(this,$,S))},f)),f.j=w}function e5(f,w){const S=new Gc;if(s.Image){const D=new Image;D.onload=p(Ro,S,"TestLoadImage: loaded",!0,w,D),D.onerror=p(Ro,S,"TestLoadImage: error",!1,w,D),D.onabort=p(Ro,S,"TestLoadImage: abort",!1,w,D),D.ontimeout=p(Ro,S,"TestLoadImage: timeout",!1,w,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else w(!1)}function t5(f,w){const S=new Gc,D=new AbortController,$=setTimeout(()=>{D.abort(),Ro(S,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:D.signal}).then(B=>{clearTimeout($),B.ok?Ro(S,"TestPingServer: ok",!0,w):Ro(S,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout($),Ro(S,"TestPingServer: error",!1,w)})}function Ro(f,w,S,D,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),D(S)}catch{}}function n5(){this.g=new L3}function r5(f,w,S){const D=S||"";try{QS(f,function($,B){let re=$;u($)&&(re=Y0($)),w.push(D+B+"="+encodeURIComponent(re))})}catch($){throw w.push(D+"type="+encodeURIComponent("_badmap")),$}}function Pp(f){this.l=f.Ub||null,this.j=f.eb||!1}y(Pp,Q0),Pp.prototype.g=function(){return new Op(this.l,this.j)},Pp.prototype.i=function(f){return function(){return f}}({});function Op(f,w){Rt.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Op,Rt),t=Op.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,Jc(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||s).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xc(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Jc(this)),this.g&&(this.readyState=3,Jc(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rA(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function rA(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?Xc(this):Jc(this),this.readyState==3&&rA(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Xc(this))},t.Qa=function(f){this.g&&(this.response=f,Xc(this))},t.ga=function(){this.g&&Xc(this)};function Xc(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Jc(f)}t.setRequestHeader=function(f,w){this.u.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var S=w.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=w.next();return f.join(`\r
`)};function Jc(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Op.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function iA(f){let w="";return A(f,function(S,D){w+=D,w+=":",w+=S,w+=`\r
`}),w}function a_(f,w,S){e:{for(D in S){var D=!1;break e}D=!0}D||(S=iA(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):rt(f,w,S))}function Tt(f){Rt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Tt,Rt);var i5=/^https?$/i,o5=["POST","PUT"];t=Tt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,w,S,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Z0.g(),this.v=this.o?NS(this.o):NS(Z0),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(B){oA(this,B);return}if(f=S||"",S=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var $ in D)S.set($,D[$]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const B of D.keys())S.set(B,D.get(B));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(S.keys()).find(B=>B.toLowerCase()=="content-type"),$=s.FormData&&f instanceof s.FormData,!(0<=Array.prototype.indexOf.call(o5,w,void 0))||D||$||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,re]of S)this.g.setRequestHeader(B,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lA(this),this.u=!0,this.g.send(f),this.u=!1}catch(B){oA(this,B)}};function oA(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,aA(f),kp(f)}function aA(f){f.A||(f.A=!0,Cn(f,"complete"),Cn(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Cn(this,"complete"),Cn(this,"abort"),kp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kp(this,!0)),Tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sA(this):this.bb())},t.bb=function(){sA(this)};function sA(f){if(f.h&&typeof a<"u"&&(!f.v[1]||$i(f)!=4||f.Z()!=2)){if(f.u&&$i(f)==4)OS(f.Ea,0,f);else if(Cn(f,"readystatechange"),$i(f)==4){f.h=!1;try{const re=f.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var S;if(!(S=w)){var D;if(D=re===0){var $=String(f.D).match(XS)[1]||null;!$&&s.self&&s.self.location&&($=s.self.location.protocol.slice(0,-1)),D=!i5.test($?$.toLowerCase():"")}S=D}if(S)Cn(f,"complete"),Cn(f,"success");else{f.m=6;try{var B=2<$i(f)?f.g.statusText:""}catch{B=""}f.l=B+" ["+f.Z()+"]",aA(f)}}finally{kp(f)}}}}function kp(f,w){if(f.g){lA(f);const S=f.g,D=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||Cn(f,"ready");try{S.onreadystatechange=D}catch{}}}function lA(f){f.I&&(s.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function $i(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<$i(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),$3(w)}};function uA(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function a5(f){const w={};f=(f.g&&2<=$i(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(_(f[D]))continue;var S=R(f[D]);const $=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const B=w[$]||[];w[$]=B,B.push(S)}T(w,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zc(f,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||w}function cA(f){this.Aa=0,this.i=[],this.j=new Gc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zc("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zc("baseRetryDelayMs",5e3,f),this.cb=Zc("retryDelaySeedMs",1e4,f),this.Wa=Zc("forwardChannelMaxRetries",2,f),this.wa=Zc("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new qS(f&&f.concurrentRequestLimit),this.Da=new n5,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cA.prototype,t.la=8,t.G=1,t.connect=function(f,w,S,D){Rn(0),this.W=f,this.H=w||{},S&&D!==void 0&&(this.H.OSID=S,this.H.OAID=D),this.F=this.X,this.I=_A(this,null,this.W),Rp(this)};function s_(f){if(dA(f),f.G==3){var w=f.U++,S=Mi(f.I);if(rt(S,"SID",f.K),rt(S,"RID",w),rt(S,"TYPE","terminate"),ed(f,S),w=new ko(f,f.j,w),w.L=2,w.v=Ap(Mi(S)),S=!1,s.navigator&&s.navigator.sendBeacon)try{S=s.navigator.sendBeacon(w.v.toString(),"")}catch{}!S&&s.Image&&(new Image().src=w.v,S=!0),S||(w.g=bA(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Tp(w)}vA(f)}function Cp(f){f.g&&(u_(f),f.g.cancel(),f.g=null)}function dA(f){Cp(f),f.u&&(s.clearTimeout(f.u),f.u=null),Np(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&s.clearTimeout(f.s),f.s=null)}function Rp(f){if(!GS(f.h)&&!f.s){f.s=!0;var w=f.Ga;H||J(),V||(H(),V=!0),q.add(w,f),f.B=0}}function s5(f,w){return KS(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=qc(h(f.Ga,f,w),yA(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new ko(this,this.j,f);let B=this.o;if(this.S&&(B?(B=I(B),C(B,this.S)):B=this.S),this.m!==null||this.O||($.H=B,B=null),this.P)e:{for(var w=0,S=0;S<this.i.length;S++){t:{var D=this.i[S];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(w+=D,4096<w){w=S;break e}if(w===4096||S===this.i.length-1){w=S+1;break e}}w=1e3}else w=1e3;w=hA(this,$,w),S=Mi(this.I),rt(S,"RID",f),rt(S,"CVER",22),this.D&&rt(S,"X-HTTP-Session-Id",this.D),ed(this,S),B&&(this.O?w="headers="+encodeURIComponent(String(iA(B)))+"&"+w:this.m&&a_(S,this.m,B)),o_(this.h,$),this.Ua&&rt(S,"TYPE","init"),this.P?(rt(S,"$req",w),rt(S,"SID","null"),$.T=!0,t_($,S,null)):t_($,S,w),this.G=2}}else this.G==3&&(f?fA(this,f):this.i.length==0||GS(this.h)||fA(this))};function fA(f,w){var S;w?S=w.l:S=f.U++;const D=Mi(f.I);rt(D,"SID",f.K),rt(D,"RID",S),rt(D,"AID",f.T),ed(f,D),f.m&&f.o&&a_(D,f.m,f.o),S=new ko(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),w&&(f.i=w.D.concat(f.i)),w=hA(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),o_(f.h,S),t_(S,D,w)}function ed(f,w){f.H&&A(f.H,function(S,D){rt(w,D,S)}),f.l&&QS({},function(S,D){rt(w,D,S)})}function hA(f,w,S){S=Math.min(f.i.length,S);var D=f.l?h(f.l.Na,f.l,f):null;e:{var $=f.i;let B=-1;for(;;){const re=["count="+S];B==-1?0<S?(B=$[0].g,re.push("ofs="+B)):B=0:re.push("ofs="+B);let Ke=!0;for(let dn=0;dn<S;dn++){let je=$[dn].g;const wn=$[dn].map;if(je-=B,0>je)B=Math.max(0,$[dn].g-100),Ke=!1;else try{r5(wn,re,"req"+je+"_")}catch{D&&D(wn)}}if(Ke){D=re.join("&");break e}}}return f=f.i.splice(0,S),w.D=f,D}function pA(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;H||J(),V||(H(),V=!0),q.add(w,f),f.v=0}}function l_(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=qc(h(f.Fa,f),yA(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,mA(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=qc(h(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rn(10),Cp(this),mA(this))};function u_(f){f.A!=null&&(s.clearTimeout(f.A),f.A=null)}function mA(f){f.g=new ko(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=Mi(f.qa);rt(w,"RID","rpc"),rt(w,"SID",f.K),rt(w,"AID",f.T),rt(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&rt(w,"TO",f.ja),rt(w,"TYPE","xmlhttp"),ed(f,w),f.m&&f.o&&a_(w,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=Ap(Mi(w)),S.m=null,S.P=!0,US(S,f)}t.Za=function(){this.C!=null&&(this.C=null,Cp(this),l_(this),Rn(19))};function Np(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function gA(f,w){var S=null;if(f.g==w){Np(f),u_(f),f.g=null;var D=2}else if(i_(f.h,w))S=w.D,HS(f.h,w),D=1;else return;if(f.G!=0){if(w.o)if(D==1){S=w.m?w.m.length:0,w=Date.now()-w.F;var $=f.B;D=wp(),Cn(D,new LS(D,S)),Rp(f)}else pA(f);else if($=w.s,$==3||$==0&&0<w.X||!(D==1&&s5(f,w)||D==2&&l_(f)))switch(S&&0<S.length&&(w=f.h,w.i=w.i.concat(S)),$){case 1:za(f,5);break;case 4:za(f,10);break;case 3:za(f,6);break;default:za(f,2)}}}function yA(f,w){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*w}function za(f,w){if(f.j.info("Error code "+w),w==2){var S=h(f.fb,f),D=f.Xa;const $=!D;D=new Ua(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Ip(D,"https"),Ap(D),$?e5(D.toString(),S):t5(D.toString(),S)}else Rn(2);f.G=0,f.l&&f.l.sa(w),vA(f),dA(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Rn(2)):(this.j.info("Failed to ping google.com"),Rn(1))};function vA(f){if(f.G=0,f.ka=[],f.l){const w=YS(f.h);(w.length!=0||f.i.length!=0)&&(v(f.ka,w),v(f.ka,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.ra()}}function _A(f,w,S){var D=S instanceof Ua?Mi(S):new Ua(S);if(D.g!="")w&&(D.g=w+"."+D.g),Sp(D,D.s);else{var $=s.location;D=$.protocol,w=w?w+"."+$.hostname:$.hostname,$=+$.port;var B=new Ua(null);D&&Ip(B,D),w&&(B.g=w),$&&Sp(B,$),S&&(B.l=S),D=B}return S=f.D,w=f.ya,S&&w&&rt(D,S,w),rt(D,"VER",f.la),ed(f,D),D}function bA(f,w,S){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new Tt(new Pp({eb:S})):new Tt(f.pa),w.Ha(f.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wA(){}t=wA.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Dp(){}Dp.prototype.g=function(f,w){return new ur(f,w)};function ur(f,w){Rt.call(this),this.g=new cA(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!_(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!_(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new yl(this)}y(ur,Rt),ur.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ur.prototype.close=function(){s_(this.g)},ur.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=Y0(f),f=S);w.i.push(new W3(w.Ya++,f)),w.G==3&&Rp(w)},ur.prototype.N=function(){this.g.l=null,delete this.j,s_(this.g),delete this.g,ur.aa.N.call(this)};function xA(f){X0.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const S in w){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}y(xA,X0);function EA(){J0.call(this),this.status=1}y(EA,J0);function yl(f){this.g=f}y(yl,wA),yl.prototype.ua=function(){Cn(this.g,"a")},yl.prototype.ta=function(f){Cn(this.g,new xA(f))},yl.prototype.sa=function(f){Cn(this.g,new EA)},yl.prototype.ra=function(){Cn(this.g,"b")},Dp.prototype.createWebChannel=Dp.prototype.g,ur.prototype.send=ur.prototype.o,ur.prototype.open=ur.prototype.m,ur.prototype.close=ur.prototype.close,H$=function(){return new Dp},K$=function(){return wp()},G$=Fa,Bw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xp.NO_ERROR=0,xp.TIMEOUT=8,xp.HTTP_ERROR=6,Um=xp,VS.COMPLETE="complete",q$=VS,DS.EventType=zc,zc.OPEN="a",zc.CLOSE="b",zc.ERROR="c",zc.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,$d=DS,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,W$=Tt}).apply(typeof tm<"u"?tm:typeof self<"u"?self:typeof window<"u"?window:{});const wO="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Wh("@firebase/firestore");function Pl(){return ga.logLevel}function jK(t){ga.setLogLevel(t)}function X(t,...e){if(ga.logLevel<=Ae.DEBUG){const n=e.map(p1);ga.debug(`Firestore (${wc}): ${t}`,...n)}}function jt(t,...e){if(ga.logLevel<=Ae.ERROR){const n=e.map(p1);ga.error(`Firestore (${wc}): ${t}`,...n)}}function Pi(t,...e){if(ga.logLevel<=Ae.WARN){const n=e.map(p1);ga.warn(`Firestore (${wc}): ${t}`,...n)}}function p1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${wc}) INTERNAL ASSERTION FAILED: `+t;throw jt(e),new Error(e)}function fe(t,e){t||le()}function MK(t,e){t||le()}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $K{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rn.UNAUTHENTICATED))}shutdown(){}}class LK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VK{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new vn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new vn,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new vn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string"),new Y$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string"),new rn(e)}}class FK{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class BK{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new FK(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UK{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zK{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){fe(this.o===void 0);const r=o=>{o.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,X("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string"),this.R=n.token,new UK(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=WK(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function Au(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function X$(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new mt(0,0))}static max(){return new he(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ff.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ff?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Oe extends Ff{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const qK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Ff{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return qK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Oe.fromString(e))}static fromName(e){return new oe(Oe.fromString(e).popFirst(5))}static empty(){return new oe(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Oe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Uw(t){return t.fields.find(e=>e.kind===2)}function Xa(t){return t.fields.filter(e=>e.kind!==2)}Dg.UNKNOWN_ID=-1;class zm{constructor(e,n){this.fieldPath=e,this.kind=n}}class Bf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Bf(0,wr.min())}}function J$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new wr(i,oe.empty(),e)}function Z$(t){return new wr(t.readTime,t.key,-1)}class wr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wr(he.min(),oe.empty(),-1)}static max(){return new wr(he.max(),oe.empty(),-1)}}function m1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==eL)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{a[u]=d,++s,s===o&&r(a)},d=>i(d))}})}static doWhile(e,n){return new L((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new vn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ef(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=g1(r.target.error);this.V.reject(new ef(e,i))}}static open(e,n,r,i){try{return new Pv(n,e.transaction(i,r))}catch(o){throw new ef(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(X("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new KK(n)}}class Ei{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ei.S(Et())===12.2&&jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return X("SimpleDb","Removing database:",e),ns(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Rs())return!1;if(Ei.v())return!0;const e=Et(),n=Ei.S(e),r=0<n&&n<10,i=nL(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(X("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const a=o.target.result;n(a)},i.onblocked=()=>{r(new ef(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const a=o.target.error;a.name==="VersionError"?r(new Q(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Q(F.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new ef(e,a))},i.onupgradeneeded=o=>{X("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const a=o.target.result;this.p.O(a,i.transaction,o.oldVersion,this.version).next(()=>{X("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const s=Pv.open(this.db,e,o?"readonly":"readwrite",r),l=i(s).next(u=>(s.g(),u)).catch(u=>(s.abort(u),L.reject(u))).toPromise();return l.catch(()=>{}),await s.m,l}catch(s){const l=s,u=l.name!=="FirebaseError"&&a<3;if(X("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function nL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class GK{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ns(this.B.delete())}}class ef extends Q{constructor(e,n){super(F.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ca(t){return t.name==="IndexedDbTransactionError"}class KK{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(X("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(X("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ns(r)}add(e){return X("SimpleDb","ADD",this.store.name,e,e),ns(this.store.add(e))}get(e){return ns(this.store.get(e)).next(n=>(n===void 0&&(n=null),X("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return X("SimpleDb","DELETE",this.store.name,e),ns(this.store.delete(e))}count(){return X("SimpleDb","COUNT",this.store.name),ns(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new L((a,s)=>{o.onerror=l=>{s(l.target.error)},o.onsuccess=l=>{a(l.target.result)}})}{const o=this.cursor(r),a=[];return this.W(o,(s,l)=>{a.push(l)}).next(()=>a)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new L((i,o)=>{r.onerror=a=>{o(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}j(e,n){X("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(o,a,s)=>s.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new L((r,i)=>{n.onerror=o=>{const a=g1(o.target.error);i(a)},n.onsuccess=o=>{const a=o.target.result;a?e(a.primaryKey,a.value).next(s=>{s?a.continue():r()}):r()}})}W(e,n){const r=[];return new L((i,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{const s=a.target.result;if(!s)return void i();const l=new GK(s),u=n(s.primaryKey,s.value,l);if(u instanceof L){const d=u.catch(c=>(l.done(),L.reject(c)));r.push(d)}l.isDone?i():l.K===null?s.continue():s.continue(l.K)}}).next(()=>L.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ns(t){return new L((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=g1(r.target.error);n(i)}})}let xO=!1;function g1(t){const e=Ei.S(Et());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xO||(xO=!0,setTimeout(()=>{throw r},0)),r}}return t}class HK{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){X("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{X("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Ca(n)?X("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await ka(n)}await this.X(6e4)})}}class YK{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,o=!0;return L.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!r.has(a))return X("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next(s=>{i-=s,r.add(a)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const a=o.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(i,o)).next(s=>(X("IndexBackfiller",`Updating offset: ${s}`),this.localStore.indexManager.updateCollectionGroup(e,n,s))).next(()=>a.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{const a=Z$(o);m1(a,r)>0&&(r=a)}),new wr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Zn.oe=-1;function Jh(t){return t==null}function Uf(t){return t===0&&1/t==-1/0}function rL(t){return typeof t=="number"&&Number.isInteger(t)&&!Uf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=EO(e)),e=QK(t.get(n),e);return EO(e)}function QK(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function EO(t){return t+""}function yi(t){const e=t.length;if(fe(e>=2),e===2)return fe(t.charAt(0)===""&&t.charAt(1)===""),Oe.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const a=t.indexOf("",o);switch((a<0||a>n)&&le(),t.charAt(a+1)){case"":const s=t.substring(o,a);let l;i.length===0?l=s:(i+=s,l=i,i=""),r.push(l);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:le()}o=a+2}return new Oe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t,e){return[t,Bn(e)]}function iL(t,e,n){return[t,Bn(e),n]}const XK={},JK=["prefixPath","collectionGroup","readTime","documentId"],ZK=["prefixPath","collectionGroup","documentId"],eH=["collectionGroup","readTime","prefixPath","documentId"],tH=["canonicalId","targetId"],nH=["targetId","path"],rH=["path","targetId"],iH=["collectionId","parent"],oH=["indexId","uid"],aH=["uid","sequenceNumber"],sH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lH=["indexId","uid","orderedDocumentKey"],uH=["userId","collectionPath","documentId"],cH=["userId","collectionPath","largestBatchId"],dH=["userId","collectionGroup","largestBatchId"],oL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fH=[...oL,"documentOverlays"],aL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sL=aL,y1=[...sL,"indexConfiguration","indexState","indexEntries"],hH=y1,pH=[...y1,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw extends tL{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Jt(t,e){const n=ae(t);return Ei.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function il(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nm(this.root,e,this.comparator,!1)}getReverseIterator(){return new nm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nm(this.root,e,this.comparator,!0)}}class nm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??pn.RED,this.left=i??pn.EMPTY,this.right=o??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new pn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,o){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SO(this.data.getIterator())}getIteratorFrom(e){return new SO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qe(this.comparator);return n.data=e,n}}class SO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new er([])}unionWith(e){let n=new qe(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Au(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mH(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new uL("Invalid base64 string: "+o):o}}(e);return new Ot(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const gH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function co(t){if(fe(!!t),typeof t=="string"){let e=0;const n=gH.exec(t);if(fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ya(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function v1(t){const e=t.mapValue.fields.__previous_value__;return Ov(e)?v1(e):e}function zf(t){const e=co(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class va{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new va("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof va&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qm={nullValue:"NULL_VALUE"};function Ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ov(t)?4:cL(t)?9007199254740991:kv(t)?10:11:le()}function Oi(t,e){if(t===e)return!0;const n=Ms(t);if(n!==Ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zf(t).isEqual(zf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=co(i.timestampValue),s=co(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ya(i.bytesValue).isEqual(ya(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ct(i.geoPointValue.latitude)===ct(o.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ct(i.integerValue)===ct(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=ct(i.doubleValue),s=ct(o.doubleValue);return a===s?Uf(a)===Uf(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return Au(t.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(IO(a)!==IO(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Oi(a[l],s[l])))return!1;return!0}(t,e);default:return le()}}function Wf(t,e){return(t.values||[]).find(n=>Oi(n,e))!==void 0}function _a(t,e){if(t===e)return 0;const n=Ms(t),r=Ms(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=ct(o.integerValue||o.doubleValue),l=ct(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return AO(t.timestampValue,e.timestampValue);case 4:return AO(zf(t),zf(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(o,a){const s=ya(o),l=ya(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const d=be(s[u],l[u]);if(d!==0)return d}return be(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=be(ct(o.latitude),ct(a.latitude));return s!==0?s:be(ct(o.longitude),ct(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return PO(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,d;const c=o.fields||{},h=a.fields||{},p=(s=c.value)===null||s===void 0?void 0:s.arrayValue,y=(l=h.value)===null||l===void 0?void 0:l.arrayValue,g=be(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return g!==0?g:PO(p,y)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Xo.mapValue&&a===Xo.mapValue)return 0;if(o===Xo.mapValue)return 1;if(a===Xo.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let c=0;c<l.length&&c<d.length;++c){const h=be(l[c],d[c]);if(h!==0)return h;const p=_a(s[l[c]],u[d[c]]);if(p!==0)return p}return be(l.length,d.length)}(t.mapValue,e.mapValue);default:throw le()}}function AO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=co(t),r=co(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function PO(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=_a(n[i],r[i]);if(o)return o}return be(n.length,r.length)}function Pu(t){return Ww(t)}function Ww(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=co(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ya(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Ww(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Ww(n.fields[a])}`;return i+"}"}(t.mapValue):le()}function $s(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qw(t){return!!t&&"integerValue"in t}function qf(t){return!!t&&"arrayValue"in t}function OO(t){return!!t&&"nullValue"in t}function kO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gm(t){return!!t&&"mapValue"in t}function kv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function tf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return il(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const dL={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function vH(t){return"nullValue"in t?qm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?$s(va.empty(),oe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?kv(t)?dL:{mapValue:{}}:le()}function _H(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?$s(va.empty(),oe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?dL:"mapValue"in t?kv(t)?{mapValue:{}}:Xo:le()}function CO(t,e){const n=_a(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function RO(t,e){const n=_a(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tf(n)}setAll(e){let n=ft.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=tf(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Gm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){il(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new mn(tf(this.value))}}function fL(t){const e=[];return il(t.fields,(n,r)=>{const i=new ft([n]);if(Gm(r)){const o=fL(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new st(e,0,he.min(),he.min(),he.min(),mn.empty(),0)}static newFoundDocument(e,n,r,i){return new st(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new st(e,2,n,he.min(),he.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new st(e,3,n,he.min(),he.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof st&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new st(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.position=e,this.inclusive=n}}function NO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=oe.comparator(oe.fromName(a.referenceValue),n.key):r=_a(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function DO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Oi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n="asc"){this.field=e,this.dir=n}}function bH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hL=class{};class ke extends hL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wH(e,n,r):n==="array-contains"?new TH(e,r):n==="in"?new _L(e,r):n==="not-in"?new IH(e,r):n==="array-contains-any"?new SH(e,r):new ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xH(e,r):new EH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_a(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison(_a(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Be extends hL{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Be(e,n)}matches(e){return Ou(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ou(t){return t.op==="and"}function Gw(t){return t.op==="or"}function _1(t){return pL(t)&&Ou(t)}function pL(t){for(const e of t.filters)if(e instanceof Be)return!1;return!0}function Kw(t){if(t instanceof ke)return t.field.canonicalString()+t.op.toString()+Pu(t.value);if(_1(t))return t.filters.map(e=>Kw(e)).join(",");{const e=t.filters.map(n=>Kw(n)).join(",");return`${t.op}(${e})`}}function mL(t,e){return t instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.field.isEqual(i.field)&&Oi(r.value,i.value)}(t,e):t instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&mL(a,i.filters[s]),!0):!1}(t,e):void le()}function gL(t,e){const n=t.filters.concat(e);return Be.create(n,t.op)}function yL(t){return t instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${Pu(n.value)}`}(t):t instanceof Be?function(n){return n.op.toString()+" {"+n.getFilters().map(yL).join(" ,")+"}"}(t):"Filter"}class wH extends ke{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class xH extends ke{constructor(e,n){super(e,"in",n),this.keys=vL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class EH extends ke{constructor(e,n){super(e,"not-in",n),this.keys=vL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class TH extends ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qf(n)&&Wf(n.arrayValue,this.value)}}class _L extends ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wf(this.value.arrayValue,n)}}class IH extends ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wf(this.value.arrayValue,n)}}class SH extends ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function Hw(t,e=null,n=[],r=[],i=null,o=null,a=null){return new AH(t,e,n,r,i,o,a)}function Ls(t){const e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Kw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Pu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Pu(r)).join(",")),e.ue=n}return e.ue}function Zh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DO(t.startAt,e.startAt)&&DO(t.endAt,e.endAt)}function jg(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Mg(t,e){return t.filters.filter(n=>n instanceof ke&&n.field.isEqual(e))}function jO(t,e,n){let r=qm,i=!0;for(const o of Mg(t,e)){let a=qm,s=!0;switch(o.op){case"<":case"<=":a=vH(o.value);break;case"==":case"in":case">=":a=o.value;break;case">":a=o.value,s=!1;break;case"!=":case"not-in":a=qm}CO({value:r,inclusive:i},{value:a,inclusive:s})<0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];CO({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function MO(t,e,n){let r=Xo,i=!0;for(const o of Mg(t,e)){let a=Xo,s=!0;switch(o.op){case">=":case">":a=_H(o.value),s=!1;break;case"==":case"in":case"<=":a=o.value;break;case"<":a=o.value,s=!1;break;case"!=":case"not-in":a=Xo}RO({value:r,inclusive:i},{value:a,inclusive:s})>0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];RO({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function bL(t,e,n,r,i,o,a,s){return new wo(t,e,n,r,i,o,a,s)}function xc(t){return new wo(t)}function $O(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function b1(t){return t.collectionGroup!==null}function lu(t){const e=ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new qe(ft.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Gf(o,r))}),n.has(ft.keyField().canonicalString())||e.ce.push(new Gf(ft.keyField(),r))}return e.ce}function Un(t){const e=ae(t);return e.le||(e.le=PH(e,lu(t))),e.le}function PH(t,e){if(t.limitType==="F")return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Gf(i.field,o)});const n=t.endAt?new ba(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ba(t.startAt.position,t.startAt.inclusive):null;return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yw(t,e){const n=t.filters.concat([e]);return new wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $g(t,e,n){return new wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ep(t,e){return Zh(Un(t),Un(e))&&t.limitType===e.limitType}function wL(t){return`${Ls(Un(t))}|lt:${t.limitType}`}function Ol(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yL(i)).join(", ")}]`),Jh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Pu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Pu(i)).join(",")),`Target(${r})`}(Un(t))}; limitType=${t.limitType})`}function tp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):oe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of lu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=NO(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,lu(r),i)||r.endAt&&!function(a,s,l){const u=NO(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,lu(r),i))}(t,e)}function xL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EL(t){return(e,n)=>{let r=!1;for(const i of lu(t)){const o=OH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function OH(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?_a(l,u):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){il(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return lL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH=new nt(oe.comparator);function tr(){return kH}const TL=new nt(oe.comparator);function Ld(...t){let e=TL;for(const n of t)e=e.insert(n.key,n);return e}function IL(t){let e=TL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vi(){return nf()}function SL(){return nf()}function nf(){return new Ra(t=>t.toString(),(t,e)=>t.isEqual(e))}const CH=new nt(oe.comparator),RH=new qe(oe.comparator);function xe(...t){let e=RH;for(const n of t)e=e.add(n);return e}const NH=new qe(be);function w1(){return NH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uf(e)?"-0":e}}function AL(t){return{integerValue:""+t}}function PL(t,e){return rL(e)?AL(e):x1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this._=void 0}}function DH(t,e,n){return t instanceof ku?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ov(o)&&(o=v1(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof Vs?kL(t,e):t instanceof Fs?CL(t,e):function(i,o){const a=OL(i,o),s=LO(a)+LO(i.Pe);return qw(a)&&qw(i.Pe)?AL(s):x1(i.serializer,s)}(t,e)}function jH(t,e,n){return t instanceof Vs?kL(t,e):t instanceof Fs?CL(t,e):n}function OL(t,e){return t instanceof Cu?function(r){return qw(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ku extends Cv{}class Vs extends Cv{constructor(e){super(),this.elements=e}}function kL(t,e){const n=RL(e);for(const r of t.elements)n.some(i=>Oi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fs extends Cv{constructor(e){super(),this.elements=e}}function CL(t,e){let n=RL(e);for(const r of t.elements)n=n.filter(i=>!Oi(i,r));return{arrayValue:{values:n}}}class Cu extends Cv{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function LO(t){return ct(t.integerValue||t.doubleValue)}function RL(t){return qf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n){this.field=e,this.transform=n}}function MH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vs&&i instanceof Vs||r instanceof Fs&&i instanceof Fs?Au(r.elements,i.elements,Oi):r instanceof Cu&&i instanceof Cu?Oi(r.Pe,i.Pe):r instanceof ku&&i instanceof ku}(t.transform,e.transform)}class $H{constructor(e,n){this.version=e,this.transformResults=n}}class ht{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ht}static exists(e){return new ht(void 0,e)}static updateTime(e){return new ht(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Km(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rv{}function NL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tc(t.key,ht.none()):new Ec(t.key,t.data,ht.none());{const n=t.data,r=mn.empty();let i=new qe(ft.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new xo(t.key,r,new er(i.toArray()),ht.none())}}function LH(t,e,n){t instanceof Ec?function(i,o,a){const s=i.value.clone(),l=FO(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof xo?function(i,o,a){if(!Km(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=FO(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(DL(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function rf(t,e,n,r){return t instanceof Ec?function(o,a,s,l){if(!Km(o.precondition,a))return s;const u=o.value.clone(),d=BO(o.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof xo?function(o,a,s,l){if(!Km(o.precondition,a))return s;const u=BO(o.fieldTransforms,l,a),d=a.data;return d.setAll(DL(o)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(o,a,s){return Km(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function VH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=OL(r.transform,i||null);o!=null&&(n===null&&(n=mn.empty()),n.set(r.field,o))}return n||null}function VO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Au(r,i,(o,a)=>MH(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ec extends Rv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xo extends Rv{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function DL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function FO(t,e,n){const r=new Map;fe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,jH(a,s,n[i]))}return r}function BO(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,DH(o,a,e))}return r}class Tc extends Rv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E1 extends Rv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&LH(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SL();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=NL(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Au(this.mutations,e.mutations,(n,r)=>VO(n,r))&&Au(this.baseMutations,e.baseMutations,(n,r)=>VO(n,r))}}class I1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){fe(e.mutations.length===r.length);let i=function(){return CH}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new I1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Ce;function jL(t){switch(t){default:return le();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function ML(t){if(t===void 0)return jt("GRPC error has no .code"),F.UNKNOWN;switch(t){case Lt.OK:return F.OK;case Lt.CANCELLED:return F.CANCELLED;case Lt.UNKNOWN:return F.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return F.INTERNAL;case Lt.UNAVAILABLE:return F.UNAVAILABLE;case Lt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Lt.NOT_FOUND:return F.NOT_FOUND;case Lt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Lt.ABORTED:return F.ABORTED;case Lt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Lt.DATA_LOSS:return F.DATA_LOSS;default:return le()}}(Ce=Lt||(Lt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH=new Ts([4294967295,4294967295],0);function UO(t){const e=$L().encode(t),n=new z$;return n.update(e),new Uint8Array(n.digest())}function zO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ts([n,r],0),new Ts([i,o],0)]}class A1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vd(`Invalid padding: ${n}`);if(r<0)throw new Vd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ts.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ts.fromNumber(r)));return i.compare(BH)===1&&(i=new Ts([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=UO(e),[r,i]=zO(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new A1(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=UO(e),[r,i]=zO(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ip.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rp(he.min(),i,new nt(be),tr(),xe())}}class ip{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ip(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class LL{constructor(e,n){this.targetId=e,this.me=n}}class VL{constructor(e,n,r=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class WO{constructor(){this.fe=0,this.ge=GO(),this.pe=Ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new ip(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=GO()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class UH{constructor(e){this.Le=e,this.Be=new Map,this.ke=tr(),this.qe=qO(),this.Qe=new nt(be)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(jg(o))if(r===0){const a=new oe(o.path);this.Ue(n,a,st.newNoDocument(a,he.min()))}else fe(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=ya(r).toUint8Array()}catch(l){if(l instanceof uL)return Pi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new A1(a,i,o)}catch(l){return Pi(l instanceof Vd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&jg(s.target)){const l=new oe(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,st.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=xe();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new rp(e,n,this.Qe,this.ke,r);return this.ke=tr(),this.qe=qO(),this.Qe=new nt(be),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new WO,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new qe(be),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new WO),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function qO(){return new nt(oe.comparator)}function GO(){return new nt(oe.comparator)}const zH={asc:"ASCENDING",desc:"DESCENDING"},WH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qH={and:"AND",or:"OR"};class GH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qw(t,e){return t.useProto3Json||Jh(e)?e:{value:e}}function Ru(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KH(t,e){return Ru(t,e.toTimestamp())}function Mt(t){return fe(!!t),he.fromTimestamp(function(n){const r=co(n);return new mt(r.seconds,r.nanos)}(t))}function P1(t,e){return Xw(t,e).canonicalString()}function Xw(t,e){const n=function(i){return new Oe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function BL(t){const e=Oe.fromString(t);return fe(XL(e)),e}function Kf(t,e){return P1(t.databaseId,e.path)}function Ti(t,e){const n=BL(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(WL(n))}function UL(t,e){return P1(t.databaseId,e)}function zL(t){const e=BL(t);return e.length===4?Oe.emptyPath():WL(e)}function Jw(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WL(t){return fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function KO(t,e,n){return{name:Kf(t,e),fields:n.value.mapValue.fields}}function qL(t,e,n){const r=Ti(t,e.name),i=Mt(e.updateTime),o=e.createTime?Mt(e.createTime):he.min(),a=new mn({mapValue:{fields:e.fields}}),s=st.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function HH(t,e){return"found"in e?function(r,i){fe(!!i.found),i.found.name,i.found.updateTime;const o=Ti(r,i.found.name),a=Mt(i.found.updateTime),s=i.found.createTime?Mt(i.found.createTime):he.min(),l=new mn({mapValue:{fields:i.found.fields}});return st.newFoundDocument(o,a,s,l)}(t,e):"missing"in e?function(r,i){fe(!!i.missing),fe(!!i.readTime);const o=Ti(r,i.missing),a=Mt(i.readTime);return st.newNoDocument(o,a)}(t,e):le()}function YH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(fe(d===void 0||typeof d=="string"),Ot.fromBase64String(d||"")):(fe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ot.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const d=u.code===void 0?F.UNKNOWN:ML(u.code);return new Q(d,u.message||"")}(a);n=new VL(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ti(t,r.document.name),o=Mt(r.document.updateTime),a=r.document.createTime?Mt(r.document.createTime):he.min(),s=new mn({mapValue:{fields:r.document.fields}}),l=st.newFoundDocument(i,o,a,s),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Hm(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ti(t,r.document),o=r.readTime?Mt(r.readTime):he.min(),a=st.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Hm([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ti(t,r.document),o=r.removedTargetIds||[];n=new Hm([],o,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new FH(i,o),s=r.targetId;n=new LL(s,a)}}return n}function Hf(t,e){let n;if(e instanceof Ec)n={update:KO(t,e.key,e.value)};else if(e instanceof Tc)n={delete:Kf(t,e.key)};else if(e instanceof xo)n={update:KO(t,e.key,e.data),updateMask:tY(e.fieldMask)};else{if(!(e instanceof E1))return le();n={verify:Kf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof ku)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Vs)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Fs)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Cu)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:KH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:le()}(t,e.precondition)),n}function Zw(t,e){const n=e.currentDocument?function(o){return o.updateTime!==void 0?ht.updateTime(Mt(o.updateTime)):o.exists!==void 0?ht.exists(o.exists):ht.none()}(e.currentDocument):ht.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,s){let l=null;if("setToServerValue"in s)fe(s.setToServerValue==="REQUEST_TIME"),l=new ku;else if("appendMissingElements"in s){const d=s.appendMissingElements.values||[];l=new Vs(d)}else if("removeAllFromArray"in s){const d=s.removeAllFromArray.values||[];l=new Fs(d)}else"increment"in s?l=new Cu(a,s.increment):le();const u=ft.fromServerFormat(s.fieldPath);return new np(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Ti(t,e.update.name),o=new mn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(l){const u=l.fieldPaths||[];return new er(u.map(d=>ft.fromServerFormat(d)))}(e.updateMask);return new xo(i,o,a,n,r)}return new Ec(i,o,n,r)}if(e.delete){const i=Ti(t,e.delete);return new Tc(i,n)}if(e.verify){const i=Ti(t,e.verify);return new E1(i,n)}return le()}function QH(t,e){return t&&t.length>0?(fe(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Mt(i.updateTime):Mt(o);return a.isEqual(he.min())&&(a=Mt(o)),new $H(a,i.transformResults||[])}(n,e))):[]}function GL(t,e){return{documents:[UL(t,e.path)]}}function KL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UL(t,i);const o=function(u){if(u.length!==0)return QL(Be.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:kl(h.field),direction:JH(h.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Qw(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function HL(t){let e=zL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){fe(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(c){const h=YL(c);return h instanceof Be&&_1(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(c){return c.map(h=>function(y){return new Gf(Cl(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(c){let h;return h=typeof c=="object"?c.value:c,Jh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,p=c.values||[];return new ba(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,p=c.values||[];return new ba(p,h)}(n.endAt)),bL(e,i,a,o,s,"F",l,u)}function XH(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cl(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cl(n.unaryFilter.field);return ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cl(n.unaryFilter.field);return ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Cl(n.unaryFilter.field);return ke.create(a,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return ke.create(Cl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Be.create(n.compositeFilter.filters.map(r=>YL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function JH(t){return zH[t]}function ZH(t){return WH[t]}function eY(t){return qH[t]}function kl(t){return{fieldPath:t.canonicalString()}}function Cl(t){return ft.fromServerFormat(t.fieldPath)}function QL(t){return t instanceof ke?function(n){if(n.op==="=="){if(kO(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NAN"}};if(OO(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kO(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NOT_NAN"}};if(OO(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kl(n.field),op:ZH(n.op),value:n.value}}}(t):t instanceof Be?function(n){const r=n.getFilters().map(i=>QL(i));return r.length===1?r[0]:{compositeFilter:{op:eY(n.op),filters:r}}}(t):le()}function tY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,r,i,o=he.min(),a=he.min(),s=Ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e){this.ct=e}}function nY(t,e){let n;if(e.document)n=qL(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=oe.fromSegments(e.noDocument.path),i=Us(e.noDocument.readTime);n=st.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return le();{const r=oe.fromSegments(e.unknownDocument.path),i=Us(e.unknownDocument.version);n=st.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new mt(i[0],i[1]);return he.fromTimestamp(o)}(e.readTime)),n}function HO(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Lg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,a){return{name:Kf(o,a.key),fields:a.data.value.mapValue.fields,updateTime:Ru(o,a.version.toTimestamp()),createTime:Ru(o,a.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Bs(e.version)};else{if(!e.isUnknownDocument())return le();r.unknownDocument={path:n.path.toArray(),version:Bs(e.version)}}return r}function Lg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Bs(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Us(t){const e=new mt(t.seconds,t.nanoseconds);return he.fromTimestamp(e)}function rs(t,e){const n=(e.baseMutations||[]).map(o=>Zw(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){const a=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const s=e.mutations[o+1];a.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>Zw(t.ct,o)),i=mt.fromMillis(e.localWriteTimeMs);return new T1(e.batchId,i,n,r)}function Fd(t){const e=Us(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Us(t.lastLimboFreeSnapshotVersion):he.min();let r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return fe(o.documents.length===1),Un(xc(zL(o.documents[0])))}(t.query):function(o){return Un(HL(o))}(t.query),new Hi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ot.fromBase64String(t.resumeToken))}function ZL(t,e){const n=Bs(e.snapshotVersion),r=Bs(e.lastLimboFreeSnapshotVersion);let i;i=jg(e.target)?GL(t.ct,e.target):KL(t.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ls(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function O1(t){const e=HL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$g(e,e.limit,"L"):e}function H_(t,e){return new S1(e.largestBatchId,Zw(t.ct,e.overlayMutation))}function YO(t,e){const n=e.path.lastSegment();return[t,Bn(e.path.popLast()),n]}function QO(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Bs(r.readTime),documentKey:Bn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{getBundleMetadata(e,n){return XO(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Us(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return XO(e).put(function(i){return{bundleId:i.id,createTime:Bs(Mt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return JO(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:O1(o.bundledQuery),readTime:Us(o.readTime)}}(r)})}saveNamedQuery(e,n){return JO(e).put(function(i){return{name:i.name,readTime:Bs(Mt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function XO(t){return Jt(t,"bundles")}function JO(t){return Jt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Nv(e,r)}getOverlay(e,n){return fd(e).get(YO(this.userId,n)).next(r=>r?H_(this.serializer,r):null)}getOverlays(e,n){const r=vi();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,a)=>{const s=new S1(n,a);i.push(this.ht(e,s))}),L.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(a=>i.add(Bn(a.getCollectionPath())));const o=[];return i.forEach(a=>{const s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);o.push(fd(e).j("collectionPathOverlayIndex",s))}),L.waitFor(o)}getOverlaysForCollection(e,n,r){const i=vi(),o=Bn(n),a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return fd(e).U("collectionPathOverlayIndex",a).next(s=>{for(const l of s){const u=H_(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=vi();let a;const s=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return fd(e).J({index:"collectionGroupOverlayIndex",range:s},(l,u,d)=>{const c=H_(this.serializer,u);o.size()<i||c.largestBatchId===a?(o.set(c.getKey(),c),a=c.largestBatchId):d.done()}).next(()=>o)}ht(e,n){return fd(e).put(function(i,o,a){const[s,l,u]=YO(o,a.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Hf(i.ct,a.mutation)}}(this.serializer,this.userId,n))}}function fd(t){return Jt(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{Pt(e){return Jt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Ot.fromUint8Array(r):Ot.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ct(e.integerValue));else if("doubleValue"in e){const r=ct(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Uf(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=co(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ya(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?cL(e)?this.dt(n,Number.MAX_SAFE_INTEGER):kv(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):le()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const o=e.fields||{};this.dt(n,53);const a="value",s=((i=(r=o[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ct(s)),this.Vt(a,n),this.Tt(o[a],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),oe.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}is.vt=new is;function oY(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function ZO(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const a=oY(255&r[o]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class aY{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=ZO(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=ZO(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(o){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,o,!1),new Uint8Array(a.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class sY{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class lY{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class hd{constructor(){this.jt=new aY,this.Ht=new sY(this.jt),this.Jt=new lY(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new os(this.indexId,this.documentKey,this.arrayValue,r)}}function jo(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=ek(t.arrayValue,e.arrayValue),n!==0?n:(n=ek(t.directionalValue,e.directionalValue),n!==0?n:oe.comparator(t.documentKey,e.documentKey)))}function ek(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.Xt=new qe((n,r)=>ft.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(fe(e.collectionGroup===this.collectionId),this.nn)return!1;const n=Uw(e);if(n!==void 0&&!this.sn(n))return!1;const r=Xa(e);let i=new Set,o=0,a=0;for(;o<r.length&&this.sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Xt.size>0){const s=this.Xt.getIterator().getNext();if(!i.has(s.field.canonicalString())){const l=r[o];if(!this.on(s,l)||!this._n(this.en[a++],l))return!1}++o}for(;o<r.length;++o){const s=r[o];if(a>=this.en.length||!this._n(this.en[a++],s))return!1}return!0}an(){if(this.nn)return null;let e=new qe(ft.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new zm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new zm(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new zm(r.field,r.dir==="asc"?0:1)));return new Dg(Dg.UNKNOWN_ID,this.collectionId,n,Bf.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){var e,n;if(fe(t instanceof ke||t instanceof Be),t instanceof ke){if(t instanceof _L){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>ke.create(t.field,"==",o)))||[];return Be.create(i,"or")}return t}const r=t.filters.map(i=>eV(i));return Be.create(r,t.op)}function uY(t){if(t.getFilters().length===0)return[];const e=nx(eV(t));return fe(tV(e)),ex(e)||tx(e)?[e]:e.getFilters()}function ex(t){return t instanceof ke}function tx(t){return t instanceof Be&&_1(t)}function tV(t){return ex(t)||tx(t)||function(n){if(n instanceof Be&&Gw(n)){for(const r of n.getFilters())if(!ex(r)&&!tx(r))return!1;return!0}return!1}(t)}function nx(t){if(fe(t instanceof ke||t instanceof Be),t instanceof ke)return t;if(t.filters.length===1)return nx(t.filters[0]);const e=t.filters.map(r=>nx(r));let n=Be.create(e,t.op);return n=Vg(n),tV(n)?n:(fe(n instanceof Be),fe(Ou(n)),fe(n.filters.length>1),n.filters.reduce((r,i)=>k1(r,i)))}function k1(t,e){let n;return fe(t instanceof ke||t instanceof Be),fe(e instanceof ke||e instanceof Be),n=t instanceof ke?e instanceof ke?function(i,o){return Be.create([i,o],"and")}(t,e):nk(t,e):e instanceof ke?nk(e,t):function(i,o){if(fe(i.filters.length>0&&o.filters.length>0),Ou(i)&&Ou(o))return gL(i,o.getFilters());const a=Gw(i)?i:o,s=Gw(i)?o:i,l=a.filters.map(u=>k1(u,s));return Be.create(l,"or")}(t,e),Vg(n)}function nk(t,e){if(Ou(e))return gL(e,t.getFilters());{const n=e.filters.map(r=>k1(t,r));return Be.create(n,"or")}}function Vg(t){if(fe(t instanceof ke||t instanceof Be),t instanceof ke)return t;const e=t.getFilters();if(e.length===1)return Vg(e[0]);if(pL(t))return t;const n=e.map(i=>Vg(i)),r=[];return n.forEach(i=>{i instanceof ke?r.push(i):i instanceof Be&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Be.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(){this.un=new C1}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(wr.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class C1{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qe(Oe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qe(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new Uint8Array(0);class dY{constructor(e,n){this.databaseId=n,this.cn=new C1,this.ln=new Ra(r=>Ls(r),(r,i)=>Zh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const o={collectionId:r,parent:Bn(i)};return rk(e).put(o)}return L.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[X$(n),""],!1,!0);return rk(e).U(i).next(o=>{for(const a of o){if(a.collectionId!==n)break;r.push(yi(a.parent))}return r})}addFieldIndex(e,n){const r=pd(e),i=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const a=El(e);return o.next(s=>{a.put(QO(s,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=pd(e),i=El(e),o=xl(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=pd(e),r=xl(e),i=El(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return L.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new tk(r).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=xl(e);let i=!0;const o=new Map;return L.forEach(this.hn(n),a=>this.Pn(e,a).next(s=>{i&&(i=!!s),o.set(a,s)})).next(()=>{if(i){let a=xe();const s=[];return L.forEach(o,(l,u)=>{X("IndexedDbIndexManager",`Using index ${function(x){return`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(P=>`${P.fieldPath}:${P.kind}`).join(",")}`}(l)} to execute ${Ls(n)}`);const d=function(x,P){const E=Uw(P);if(E===void 0)return null;for(const A of Mg(x,E.fieldPath))switch(A.op){case"array-contains-any":return A.value.arrayValue.values||[];case"array-contains":return[A.value]}return null}(u,l),c=function(x,P){const E=new Map;for(const A of Xa(P))for(const T of Mg(x,A.fieldPath))switch(T.op){case"==":case"in":E.set(A.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return E.set(A.fieldPath.canonicalString(),T.value),Array.from(E.values())}return null}(u,l),h=function(x,P){const E=[];let A=!0;for(const T of Xa(P)){const I=T.kind===0?jO(x,T.fieldPath,x.startAt):MO(x,T.fieldPath,x.startAt);E.push(I.value),A&&(A=I.inclusive)}return new ba(E,A)}(u,l),p=function(x,P){const E=[];let A=!0;for(const T of Xa(P)){const I=T.kind===0?MO(x,T.fieldPath,x.endAt):jO(x,T.fieldPath,x.endAt);E.push(I.value),A&&(A=I.inclusive)}return new ba(E,A)}(u,l),y=this.In(l,u,h),g=this.In(l,u,p),v=this.Tn(l,u,c),b=this.En(l.indexId,d,y,h.inclusive,g,p.inclusive,v);return L.forEach(b,_=>r.G(_,n.limit).next(x=>{x.forEach(P=>{const E=oe.fromSegments(P.documentKey);a.has(E)||(a=a.add(E),s.push(E))})}))}).next(()=>s)}return L.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=uY(Be.create(e.filters,"and")).map(r=>Hw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,o,a,s){const l=(n!=null?n.length:1)*Math.max(r.length,o.length),u=l/(n!=null?n.length:1),d=[];for(let c=0;c<l;++c){const h=n?this.dn(n[c/u]):rm,p=this.An(e,h,r[c%u],i),y=this.Rn(e,h,o[c%u],a),g=s.map(v=>this.An(e,h,v,!0));d.push(...this.createRange(p,y,g))}return d}An(e,n,r,i){const o=new os(e,oe.empty(),n,r);return i?o:o.Zt()}Rn(e,n,r,i){const o=new os(e,oe.empty(),n,r);return i?o.Zt():o}Pn(e,n){const r=new tk(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let a=null;for(const s of o)r.rn(s)&&(!a||s.fields.length>a.fields.length)&&(a=s);return a})}getIndexType(e,n){let r=2;const i=this.hn(n);return L.forEach(i,o=>this.Pn(e,o).next(a=>{a?r!==0&&a.fields.length<function(l){let u=new qe(ft.comparator),d=!1;for(const c of l.filters)for(const h of c.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?d=!0:u=u.add(h.field));for(const c of l.orderBy)c.field.isKeyField()||(u=u.add(c.field));return u.size+(d?1:0)}(o)&&(r=1):r=0})).next(()=>function(a){return a.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new hd;for(const i of Xa(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const a=r.Yt(i.kind);is.vt.It(o,a)}return r.zt()}dn(e){const n=new hd;return is.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new hd;return is.vt.It($s(this.databaseId,n),r.Yt(function(o){const a=Xa(o);return a.length===0?0:a[a.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new hd);let o=0;for(const a of Xa(e)){const s=r[o++];for(const l of i)if(this.fn(n,a.fieldPath)&&qf(s))i=this.gn(i,a,s);else{const u=l.Yt(a.kind);is.vt.It(s,u)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],o=[];for(const a of r.arrayValue.values||[])for(const s of i){const l=new hd;l.seed(s.zt()),is.vt.It(a,l.Yt(n.kind)),o.push(l)}return o}fn(e,n){return!!e.filters.find(r=>r instanceof ke&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=pd(e),i=El(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{const a=[];return L.forEach(o,s=>i.get([s.indexId,this.uid]).next(l=>{a.push(function(d,c){const h=c?new Bf(c.sequenceNumber,new wr(Us(c.readTime),new oe(yi(c.documentKey)),c.largestBatchId)):Bf.empty(),p=d.fields.map(([y,g])=>new zm(ft.fromServerFormat(y),g));return new Dg(d.indexId,d.collectionGroup,p,h)}(s,l))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:be(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=pd(e),o=El(e);return this.yn(e).next(a=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(s=>L.forEach(s,l=>o.put(QO(l.indexId,this.uid,a,r)))))}updateIndexEntries(e,n){const r=new Map;return L.forEach(n,(i,o)=>{const a=r.get(i.collectionGroup);return(a?L.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(s=>(r.set(i.collectionGroup,s),L.forEach(s,l=>this.wn(e,i,l).next(u=>{const d=this.Sn(o,l);return u.isEqual(d)?L.resolve():this.bn(e,o,l,u,d)}))))})}Dn(e,n,r,i){return xl(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return xl(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=xl(e);let o=new qe(jo);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(a,s)=>{o=o.add(new os(r.indexId,n,s.arrayValue,s.directionalValue))}).next(()=>o)}Sn(e,n){let r=new qe(jo);const i=this.Vn(n,e);if(i==null)return r;const o=Uw(n);if(o!=null){const a=e.data.field(o.fieldPath);if(qf(a))for(const s of a.arrayValue.values||[])r=r.add(new os(n.indexId,e.key,this.dn(s),i))}else r=r.add(new os(n.indexId,e.key,rm,i));return r}bn(e,n,r,i,o){X("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const a=[];return function(l,u,d,c,h){const p=l.getIterator(),y=u.getIterator();let g=wl(p),v=wl(y);for(;g||v;){let b=!1,_=!1;if(g&&v){const x=d(g,v);x<0?_=!0:x>0&&(b=!0)}else g!=null?_=!0:b=!0;b?(c(v),v=wl(y)):_?(h(g),g=wl(p)):(g=wl(p),v=wl(y))}}(i,o,jo,s=>{a.push(this.Dn(e,n,r,s))},s=>{a.push(this.vn(e,n,r,s))}),L.waitFor(a)}yn(e){let n=1;return El(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((a,s)=>jo(a,s)).filter((a,s,l)=>!s||jo(a,l[s-1])!==0);const i=[];i.push(e);for(const a of r){const s=jo(a,e),l=jo(a,n);if(s===0)i[0]=e.Zt();else if(s>0&&l<0)i.push(a),i.push(a.Zt());else if(l>0)break}i.push(n);const o=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const s=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,rm,[]],l=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,rm,[]];o.push(IDBKeyRange.bound(s,l))}return o}Cn(e,n){return jo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(ik)}getMinOffset(e,n){return L.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||le())).next(ik)}}function rk(t){return Jt(t,"collectionParents")}function xl(t){return Jt(t,"indexEntries")}function pd(t){return Jt(t,"indexConfiguration")}function El(t){return Jt(t,"indexState")}function ik(t){fe(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;m1(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new wr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const l=r.J({range:a},(d,c,h)=>(s++,h.delete()));o.push(l.next(()=>{fe(s===1)}));const u=[];for(const d of n.mutations){const c=iL(e,d.key.path,n.batchId);o.push(i.delete(c)),u.push(d.key)}return L.waitFor(o).next(()=>u)}function Fg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw le();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(41943040,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);class Dv{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){fe(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new Dv(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mo(e).J({index:"userMutationsIndex",range:r},(i,o,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=Rl(e),a=Mo(e);return a.add({}).next(s=>{fe(typeof s=="number");const l=new T1(s,n,r,i),u=function(p,y,g){const v=g.baseMutations.map(_=>Hf(p.ct,_)),b=g.mutations.map(_=>Hf(p.ct,_));return{userId:y,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:v,mutations:b}}(this.serializer,this.userId,l),d=[];let c=new qe((h,p)=>be(h.canonicalString(),p.canonicalString()));for(const h of i){const p=iL(this.userId,h.key.path,s);c=c.add(h.key.path.popLast()),d.push(a.put(u)),d.push(o.put(p,XK))}return c.forEach(h=>{d.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Fn[s]=l.keys()}),L.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return Mo(e).get(n).next(r=>r?(fe(r.userId===this.userId),rs(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?L.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Mo(e).J({index:"userMutationsIndex",range:i},(a,s,l)=>{s.userId===this.userId&&(fe(s.batchId>=r),o=rs(this.serializer,s)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Mo(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,a)=>{r=o.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mo(e).U("userMutationsIndex",n).next(r=>r.map(i=>rs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Wm(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Rl(e).J({range:i},(a,s,l)=>{const[u,d,c]=a,h=yi(d);if(u===this.userId&&n.path.isEqual(h))return Mo(e).get(c).next(p=>{if(!p)throw le();fe(p.userId===this.userId),o.push(rs(this.serializer,p))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qe(be);const i=[];return n.forEach(o=>{const a=Wm(this.userId,o.path),s=IDBKeyRange.lowerBound(a),l=Rl(e).J({range:s},(u,d,c)=>{const[h,p,y]=u,g=yi(p);h===this.userId&&o.path.isEqual(g)?r=r.add(y):c.done()});i.push(l)}),L.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=Wm(this.userId,r),a=IDBKeyRange.lowerBound(o);let s=new qe(be);return Rl(e).J({range:a},(l,u,d)=>{const[c,h,p]=l,y=yi(h);c===this.userId&&r.isPrefixOf(y)?y.length===i&&(s=s.add(p)):d.done()}).next(()=>this.xn(e,s))}xn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(Mo(e).get(o).next(a=>{if(a===null)throw le();fe(a.userId===this.userId),r.push(rs(this.serializer,a))}))}),L.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return nV(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),L.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return L.resolve();const r=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return Rl(e).J({range:r},(o,a,s)=>{if(o[0]===this.userId){const l=yi(o[1]);i.push(l)}else s.done()}).next(()=>{fe(i.length===0)})})}containsKey(e,n){return rV(e,this.userId,n)}Nn(e){return iV(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function rV(t,e,n){const r=Wm(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return Rl(t).J({range:o,H:!0},(s,l,u)=>{const[d,c,h]=s;d===e&&c===i&&(a=!0),u.done()}).next(()=>a)}function Mo(t){return Jt(t,"mutations")}function Rl(t){return Jt(t,"documentMutations")}function iV(t){return Jt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new zs(0)}static kn(){return new zs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new zs(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>he.fromTimestamp(new mt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Tl(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(fe(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return Tl(e).J((a,s)=>{const l=Fd(s);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>L.waitFor(o)).next(()=>i)}forEachTarget(e,n){return Tl(e).J((r,i)=>{const o=Fd(i);n(o)})}qn(e){return ak(e).get("targetGlobalKey").next(n=>(fe(n!==null),n))}Qn(e,n){return ak(e).put("targetGlobalKey",n)}Kn(e,n){return Tl(e).put(ZL(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Ls(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Tl(e).J({range:i,index:"queryTargetsIndex"},(a,s,l)=>{const u=Fd(s);Zh(n,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=qo(e);return n.forEach(a=>{const s=Bn(a.path);i.push(o.put({targetId:r,path:s})),i.push(this.referenceDelegate.addReference(e,r,a))}),L.waitFor(i)}removeMatchingKeys(e,n,r){const i=qo(e);return L.forEach(n,o=>{const a=Bn(o.path);return L.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=qo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=qo(e);let o=xe();return i.J({range:r,H:!0},(a,s,l)=>{const u=yi(a[1]),d=new oe(u);o=o.add(d)}).next(()=>o)}containsKey(e,n){const r=Bn(n.path),i=IDBKeyRange.bound([r],[X$(r)],!1,!0);let o=0;return qo(e).J({index:"documentTargetsIndex",H:!0,range:i},([a,s],l,u)=>{a!==0&&(o++,u.done())}).next(()=>o>0)}ot(e,n){return Tl(e).get(n).next(r=>r?Fd(r):null)}}function Tl(t){return Jt(t,"targets")}function ak(t){return Jt(t,"targetGlobal")}function qo(t){return Jt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk([t,e],[n,r]){const i=be(t,n);return i===0?be(e,r):i}class hY{constructor(e){this.Un=e,this.buffer=new qe(sk),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pY{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){X("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ca(n)?X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ka(n)}await this.Hn(3e5)})}}class mY{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(Zn.oe);const r=new hY(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(ok)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ok):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,o,a,s,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(c=>(c>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${c}`),i=this.params.maximumSequenceNumbersToCollect):i=c,a=Date.now(),this.nthSequenceNumber(e,i))).next(c=>(r=c,s=Date.now(),this.removeTargets(e,r,n))).next(c=>(o=c,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(c=>(u=Date.now(),Pl()<=Ae.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(l-s)+`ms
	Removed ${c} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:c})))}}function gY(t,e){return new mY(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(e,n){this.db=e,this.garbageCollector=gY(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return im(e,r)}removeReference(e,n,r){return im(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return im(e,n)}nr(e,n){return function(i,o){let a=!1;return iV(i).Y(s=>rV(i,s,o).next(l=>(l&&(a=!0),L.resolve(!l)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.tr(e,(a,s)=>{if(s<=n){const l=this.nr(e,a).next(u=>{if(!u)return o++,r.getEntry(e,a).next(()=>(r.removeEntry(a,he.min()),qo(e).delete(function(c){return[0,Bn(c.path)]}(a))))});i.push(l)}}).next(()=>L.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return im(e,n)}tr(e,n){const r=qo(e);let i,o=Zn.oe;return r.J({index:"documentTargetsIndex"},([a,s],{path:l,sequenceNumber:u})=>{a===0?(o!==Zn.oe&&n(new oe(yi(i)),o),o=u,i=l):o=Zn.oe}).next(()=>{o!==Zn.oe&&n(new oe(yi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function im(t,e){return qo(t).put(function(r,i){return{targetId:0,path:Bn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.changes=new Ra(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,st.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Wa(e).put(r)}removeEntry(e,n,r){return Wa(e).delete(function(o,a){const s=o.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],Lg(a),s[s.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=st.newInvalidDocument(n);return Wa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(md(n))},(i,o)=>{r=this.ir(n,o)}).next(()=>r)}sr(e,n){let r={size:0,document:st.newInvalidDocument(n)};return Wa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(md(n))},(i,o)=>{r={document:this.ir(n,o),size:Fg(o)}}).next(()=>r)}getEntries(e,n){let r=tr();return this._r(e,n,(i,o)=>{const a=this.ir(i,o);r=r.insert(i,a)}).next(()=>r)}ar(e,n){let r=tr(),i=new nt(oe.comparator);return this._r(e,n,(o,a)=>{const s=this.ir(o,a);r=r.insert(o,s),i=i.insert(o,Fg(a))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return L.resolve();let i=new qe(ck);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(md(i.first()),md(i.last())),a=i.getIterator();let s=a.getNext();return Wa(e).J({index:"documentKeyIndex",range:o},(l,u,d)=>{const c=oe.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;s&&ck(s,c)<0;)r(s,null),s=a.getNext();s&&s.isEqual(c)&&(r(s,u),s=a.hasNext()?a.getNext():null),s?d.$(md(s)):d.done()}).next(()=>{for(;s;)r(s,null),s=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const a=n.path,s=[a.popLast().toArray(),a.lastSegment(),Lg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wa(e).U(IDBKeyRange.bound(s,l,!0)).next(u=>{o==null||o.incrementDocumentReadCount(u.length);let d=tr();for(const c of u){const h=this.ir(oe.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);h.isFoundDocument()&&(tp(n,h)||i.has(h.key))&&(d=d.insert(h.key,h))}return d})}getAllFromCollectionGroup(e,n,r,i){let o=tr();const a=uk(n,r),s=uk(n,wr.max());return Wa(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,s,!0)},(l,u,d)=>{const c=this.ir(oe.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(c.key,c),o.size===i&&d.done()}).next(()=>o)}newChangeBuffer(e){return new _Y(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return lk(e).get("remoteDocumentGlobalKey").next(n=>(fe(!!n),n))}rr(e,n){return lk(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=nY(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(he.min())))return r}return st.newInvalidDocument(e)}}function aV(t){return new vY(t)}class _Y extends oV{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new Ra(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new qe((o,a)=>be(o.canonicalString(),a.canonicalString()));return this.changes.forEach((o,a)=>{const s=this.lr.get(o);if(n.push(this.cr.removeEntry(e,o,s.readTime)),a.isValidDocument()){const l=HO(this.cr.serializer,a);i=i.add(o.path.popLast());const u=Fg(l);r+=u-s.size,n.push(this.cr.addEntry(e,o,l))}else if(r-=s.size,this.trackRemovals){const l=HO(this.cr.serializer,a.convertToNoDocument(he.min()));n.push(this.cr.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.cr.updateMetadata(e,r)),L.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((o,a)=>{this.lr.set(o,{size:a,readTime:r.get(o).readTime})}),r))}}function lk(t){return Jt(t,"remoteDocumentGlobal")}function Wa(t){return Jt(t,"remoteDocumentsV14")}function md(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function uk(t,e){const n=e.documentKey.path.toArray();return[t,Lg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ck(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=be(n[o],r[o]),i)return i;return i=be(n.length,r.length),i||(i=be(n[n.length-2],r[r.length-2]),i||be(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&rf(r.mutation,i,er.empty(),mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const i=vi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Ld();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=tr();const a=nf(),s=function(){return nf()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof xo)?o=o.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),rf(d.mutation,u,d.mutation.getFieldMask(),mt.now())):a.set(u.key,er.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var c;return s.set(u,new bY(d,(c=a.get(u))!==null&&c!==void 0?c:null))}),s))}recalculateAndSaveOverlays(e,n){const r=nf();let i=new nt((a,s)=>a-s),o=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||er.empty();d=s.applyToLocalView(u,d),r.set(l,d);const c=(i.get(s.batchId)||xe()).add(l);i=i.insert(s.batchId,c)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,d=l.value,c=SL();d.forEach(h=>{if(!o.has(h)){const p=NL(n.get(h),r.get(h));p!==null&&c.set(h,p),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,c))}return L.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return oe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):b1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):L.resolve(vi());let s=-1,l=o;return a.next(u=>L.forEach(u,(d,c)=>(s<c.largestBatchId&&(s=c.largestBatchId),o.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,xe())).next(d=>({batchId:s,changes:IL(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=Ld();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Ld();return this.indexManager.getCollectionParents(e,o).next(s=>L.forEach(s,l=>{const u=function(c,h){return new wo(h,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((c,h)=>{a=a.insert(c,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,st.newInvalidDocument(d)))});let s=Ld();return a.forEach((l,u)=>{const d=o.get(l);d!==void 0&&rf(d.mutation,u,er.empty(),mt.now()),tp(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Mt(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:O1(i.bundledQuery),readTime:Mt(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xY{constructor(){this.overlays=new nt(oe.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vi();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=vi(),o=n.length+1,a=new oe(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new nt((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=vi(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const s=vi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>s.set(u,d)),!(s.size()>=i)););return L.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new S1(n,r));let o=this.Ir.get(n);o===void 0&&(o=xe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.Tr=new qe(en.Er),this.dr=new qe(en.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new en(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new en(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new oe(new Oe([])),r=new en(n,e),i=new en(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new oe(new Oe([])),r=new en(n,e),i=new en(n,e+1);let o=xe();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new en(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return oe.comparator(e.key,n.key)||be(e.wr,n.wr)}static Ar(e,n){return be(e.wr,n.wr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new qe(en.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new T1(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new en(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return L.resolve(a)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new en(n,0),i=new en(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qe(be);return n.forEach(i=>{const o=new en(i,0),a=new en(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;oe.isDocumentKey(o)||(o=o.child(""));const a=new en(new oe(o),0);let s=new qe(be);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),L.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{const o=new en(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new en(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(e){this.Mr=e,this.docs=function(){return new nt(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():st.newInvalidDocument(n))}getEntries(e,n){let r=tr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():st.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=tr();const a=n.path,s=new oe(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||m1(Z$(d),r)<=0||(i.has(d.key)||tp(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,n,r,i){le()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SY(this)}getSize(e){return L.resolve(this.size)}}class SY extends oV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(e){this.persistence=e,this.Nr=new Ra(n=>Ls(n),Zh),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Lr=0,this.Br=new R1,this.targetCount=0,this.kr=zs.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new zs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Zn(0),this.Kr=!1,this.Kr=!0,this.$r=new EY,this.referenceDelegate=e(this),this.Ur=new AY(this),this.indexManager=new cY,this.remoteDocumentCache=function(i){return new IY(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new JL(n),this.Gr=new wY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new TY(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new PY(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class PY extends tL{constructor(e){super(),this.currentSequenceNumber=e}}class jv{constructor(e){this.persistence=e,this.Jr=new R1,this.Yr=null}static Zr(e){return new jv(e)}get Xr(){if(this.Yr)return this.Yr;throw le()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{const i=oe.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,he.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{constructor(e){this.serializer=e}O(e,n,r,i){const o=new Pv("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TO,{unique:!0}),l.createObjectStore("documentMutations")}(e),dk(e),function(l){l.createObjectStore("remoteDocuments")}(e));let a=L.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),dk(e)),a=a.next(()=>function(l){const u=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:he.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(o))),r<4&&i>=4&&(r!==0&&(a=a.next(()=>function(l,u){return u.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TO,{unique:!0});const c=u.store("mutations"),h=d.map(p=>c.put(p));return L.waitFor(h)})}(e,o))),a=a.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(a=a.next(()=>this.ni(o))),r<6&&i>=6&&(a=a.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),r<7&&i>=7&&(a=a.next(()=>this.ii(o))),r<8&&i>=8&&(a=a.next(()=>this.si(e,o))),r<9&&i>=9&&(a=a.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(a=a.next(()=>this.oi(o))),r<11&&i>=11&&(a=a.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(a=a.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:uH});u.createIndex("collectionPathOverlayIndex",cH,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",dH,{unique:!1})})(e)})),r<13&&i>=13&&(a=a.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:JK});u.createIndex("documentKeyIndex",ZK),u.createIndex("collectionGroupIndex",eH)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(a=a.next(()=>this.ai(e,o))),r<15&&i>=15&&(a=a.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:oH}).createIndex("sequenceNumberIndex",aH,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:sH}).createIndex("documentKeyIndex",lH,{unique:!1})}(e))),r<16&&i>=16&&(a=a.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(a=a.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),a}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Fg(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>L.forEach(i,o=>{const a=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",a).next(s=>L.forEach(s,l=>{fe(l.userId===o.userId);const u=rs(this.serializer,l);return nV(e,o.userId,u).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((a,s)=>{const l=new Oe(a),u=function(c){return[0,Bn(c)]}(l);o.push(n.get(u).next(d=>d?L.resolve():(c=>n.put({targetId:0,path:Bn(c),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>L.waitFor(o))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:iH});const r=n.store("collectionParents"),i=new C1,o=a=>{if(i.add(a)){const s=a.lastSegment(),l=a.popLast();return r.put({collectionId:s,parent:Bn(l)})}};return n.store("remoteDocuments").J({H:!0},(a,s)=>{const l=new Oe(a);return o(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([a,s,l],u)=>{const d=yi(s);return o(d.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const o=Fd(i),a=ZL(this.serializer,o);return n.put(a)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((o,a)=>{const s=n.store("remoteDocumentsV14"),l=function(c){return c.document?new oe(Oe.fromString(c.document.name).popFirst(5)):c.noDocument?oe.fromSegments(c.noDocument.path):c.unknownDocument?oe.fromSegments(c.unknownDocument.path):le()}(a).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(s.put(u))}).next(()=>L.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=aV(this.serializer),o=new lV(jv.Zr,this.serializer.ct);return r.U().next(a=>{const s=new Map;return a.forEach(l=>{var u;let d=(u=s.get(l.userId))!==null&&u!==void 0?u:xe();rs(this.serializer,l).keys().forEach(c=>d=d.add(c)),s.set(l.userId,d)}),L.forEach(s,(l,u)=>{const d=new rn(u),c=Nv.lt(this.serializer,d),h=o.getIndexManager(d),p=Dv.lt(d,this.serializer,h,o.referenceDelegate);return new sV(i,p,c,h).recalculateAndSaveOverlaysForDocumentKeys(new zw(n,Zn.oe),l).next()})})}}function dk(t){t.createObjectStore("targetDocuments",{keyPath:nH}).createIndex("documentTargetsIndex",rH,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",tH,{unique:!0}),t.createObjectStore("targetGlobal")}const Y_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class N1{constructor(e,n,r,i,o,a,s,l,u,d,c=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=o,this.window=a,this.document=s,this.ci=u,this.li=d,this.hi=c,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=h=>Promise.resolve(),!N1.D())throw new Q(F.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yY(this,i),this.Ai=n+"main",this.serializer=new JL(l),this.Ri=new Ei(this.Ai,this.hi,new OY(this.serializer)),this.$r=new iY,this.Ur=new fY(this.referenceDelegate,this.serializer),this.remoteDocumentCache=aV(this.serializer),this.Gr=new rY,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&jt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Q(F.FAILED_PRECONDITION,Y_);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Zn(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>om(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(Ca(e))return X("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return X("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return gd(e).get("owner").next(n=>L.resolve(this.vi(n)))}Ci(e){return om(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Jt(n,"clientMetadata");return r.U().next(i=>{const o=this.xi(i,18e5),a=i.filter(s=>o.indexOf(s)===-1);return L.forEach(a,s=>r.delete(s.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?L.resolve(!0):gd(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new Q(F.FAILED_PRECONDITION,Y_);return!1}}return!(!this.networkEnabled||!this.inForeground)||om(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,s=this.networkEnabled===i.networkEnabled;if(o||a&&s)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&X("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new zw(e,Zn.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>om(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return Dv.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new dY(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Nv.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=function(l){return l===17?pH:l===16?hH:l===15?y1:l===14?sL:l===13?aL:l===12?fH:l===11?oL:void le()}(this.hi);let a;return this.Ri.runTransaction(e,i,o,s=>(a=new zw(s,this.Qr?this.Qr.next():Zn.oe),n==="readwrite-primary"?this.wi(a).next(l=>!!l||this.Si(a)).next(l=>{if(!l)throw jt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Q(F.FAILED_PRECONDITION,eL);return r(a)}).next(l=>this.Di(a).next(()=>l)):this.Ki(a).next(()=>r(a)))).then(s=>(a.raiseOnCommittedEvent(),s))}Ki(e){return gd(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Q(F.FAILED_PRECONDITION,Y_)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gd(e).put("owner",n)}static D(){return Ei.D()}bi(e){const n=gd(e);return n.get("owner").next(r=>this.vi(r)?(X("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):L.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(jt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;kM()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return X("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return jt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){jt("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gd(t){return Jt(t,"owner")}function om(t){return Jt(t,"clientMetadata")}function D1(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=xe(),i=xe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new j1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return kM()?8:nL(Et())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new kY;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Pl()<=Ae.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(Pl()<=Ae.DEBUG&&X("QueryEngine","Query:",Ol(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Pl()<=Ae.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(n))):L.resolve())}Yi(e,n){if($O(n))return L.resolve(null);let r=Un(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$g(n,null,"F"),r=Un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=xe(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,$g(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return $O(n)||i.isEqual(he.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?L.resolve(null):(Pl()<=Ae.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ol(n)),this.rs(e,a,n,J$(i,-1)).next(s=>s))})}ts(e,n){let r=new qe(EL(e));return n.forEach((i,o)=>{tp(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Pl()<=Ae.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Ol(n)),this.Ji.getDocumentsMatchingQuery(e,n,wr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new nt(be),this._s=new Ra(o=>Ls(o),Zh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function cV(t,e,n,r){return new CY(t,e,n,r)}async function dV(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=xe();for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function RY(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,d){const c=u.batch,h=c.keys();let p=L.resolve();return h.forEach(y=>{p=p.next(()=>d.getEntry(l,y)).next(g=>{const v=u.docVersions.get(y);fe(v!==null),g.version.compareTo(v)<0&&(c.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,c))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=xe();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fV(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function NY(t,e){const n=ae(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((d,c)=>{const h=i.get(c);if(!h)return;s.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,c).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,c)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(c)!==null?p=p.withResumeToken(Ot.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(c,p),function(g,v,b){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,d)&&s.push(n.Ur.updateTargetData(o,p))});let l=tr(),u=xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),s.push(hV(o,a,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(he.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(c=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(d)}return L.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function hV(t,e,n){let r=xe(),i=xe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=tr();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):X("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function DY(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Nu(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Hi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Du(t,e,n){const r=ae(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Ca(a))throw a;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Bg(t,e,n){const r=ae(t);let i=he.min(),o=xe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,d){const c=ae(l),h=c._s.get(d);return h!==void 0?L.resolve(c.os.get(h)):c.Ur.getTargetData(u,d)}(r,a,Un(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:he.min(),n?o:xe())).next(s=>(gV(r,xL(e),s),{documents:s,Ts:o})))}function pV(t,e){const n=ae(t),r=ae(n.Ur),i=n.os.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(a=>a?a.target:null))}function mV(t,e){const n=ae(t),r=n.us.get(e)||he.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.cs.getAllFromCollectionGroup(i,e,J$(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(gV(n,e,i),i))}function gV(t,e,n){let r=t.us.get(e)||he.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}async function jY(t,e,n,r){const i=ae(t);let o=xe(),a=tr();for(const u of n){const d=e.Es(u.metadata.name);u.document&&(o=o.add(d));const c=e.ds(u);c.setReadTime(e.As(u.metadata.readTime)),a=a.insert(d,c)}const s=i.cs.newChangeBuffer({trackRemovals:!0}),l=await Nu(i,function(d){return Un(xc(Oe.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>hV(u,s,a).next(d=>(s.apply(u),d)).next(d=>i.Ur.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Ur.addMatchingKeys(u,o,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,d.Ps,d.Is)).next(()=>d.Ps)))}async function MY(t,e,n=xe()){const r=await Nu(t,Un(O1(e.bundledQuery))),i=ae(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const a=Mt(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Gr.saveNamedQuery(o,e);const s=r.withResumeToken(Ot.EMPTY_BYTE_STRING,a);return i.os=i.os.insert(s.targetId,s),i.Ur.updateTargetData(o,s).next(()=>i.Ur.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Ur.addMatchingKeys(o,n,r.targetId)).next(()=>i.Gr.saveNamedQuery(o,e))})}function fk(t,e){return`firestore_clients_${t}_${e}`}function hk(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Q_(t,e){return`firestore_targets_${t}_${e}`}class Ug{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Rs(e,n,r){const i=JSON.parse(r);let o,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(o=new Q(i.error.code,i.error.message))),a?new Ug(e,n,i.state,o):(jt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class of{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Rs(e,n){const r=JSON.parse(n);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new Q(r.error.code,r.error.message))),o?new of(e,r.state,i):(jt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zg{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=w1();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=rL(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new zg(e,o):(jt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class M1{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new M1(n.clientId,n.onlineState):(jt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class rx{constructor(){this.activeTargetIds=w1()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X_{constructor(e,n,r,i,o){this.window=e,this.ui=n,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new nt(be),this.started=!1,this.bs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=fk(this.persistenceKey,this.ps),this.vs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new rx),this.Cs=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.xs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const r of e){if(r===this.ps)continue;const i=this.getItem(fk(this.persistenceKey,r));if(i){const o=zg.Rs(r,i);o&&(this.Ss=this.Ss.insert(o.clientId,o))}}this.Ns();const n=this.storage.getItem(this.xs);if(n){const r=this.Ls(n);r&&this.Bs(r)}for(const r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,r){this.qs(e,n,r),this.Qs(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Q_(this.persistenceKey,e));if(i){const o=of.Rs(e,i);o&&(r=o.state)}}return n&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Q_(this.persistenceKey,e))}updateQueryState(e,n,r){this.$s(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return X("SharedClientState","READ",e,n),n}setItem(e,n){X("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){X("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const n=e;if(n.storageArea===this.storage){if(X("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){const r=this.Gs(n.key);return this.zs(r,null)}{const r=this.js(n.key,n.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){const r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(n.key===this.xs){if(n.newValue!==null){const r=this.Ls(n.newValue);if(r)return this.Bs(r)}}else if(n.key===this.vs){const r=function(o){let a=Zn.oe;if(o!=null)try{const s=JSON.parse(o);fe(typeof s=="number"),a=s}catch(s){jt("SharedClientState","Failed to read sequence number from WebStorage",s)}return a}(n.newValue);r!==Zn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Os){const r=this.Xs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(n)})}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,r){const i=new Ug(this.currentUser,e,n,r),o=hk(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Vs())}Qs(e){const n=hk(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){const n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,r){const i=Q_(this.persistenceKey,e),o=new of(e,n,r);this.setItem(i,o.Vs())}Ws(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){const n=this.Cs.exec(e);return n?n[1]:null}js(e,n){const r=this.Gs(e);return zg.Rs(r,n)}Hs(e,n){const r=this.Fs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Ug.Rs(new rn(o),i,n)}Ys(e,n){const r=this.Ms.exec(e),i=Number(r[1]);return of.Rs(i,n)}Ls(e){return M1.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);X("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){const r=n?this.Ss.insert(e,n):this.Ss.remove(e),i=this.ks(this.Ss),o=this.ks(r),a=[],s=[];return o.forEach(l=>{i.has(l)||a.push(l)}),i.forEach(l=>{o.has(l)||s.push(l)}),this.syncEngine.io(a,s).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=w1();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class yV{constructor(){this.so=new rx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new rx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let am=null;function J_(){return am===null?am=function(){return 268435456+Math.round(2147483648*Math.random())}():am++,"0x"+am.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class FY extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=J_(),l=this.xo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(d=>(X("RestConnection",`Received RPC '${n}' ${s}: `,d),d),d=>{throw Pi("RestConnection",`RPC '${n}' ${s} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=LY[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=J_();return new Promise((a,s)=>{const l=new W$;l.setWithCredentials(!0),l.listenOnce(q$.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Um.NO_ERROR:const d=l.getResponseJson();X(In,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Um.TIMEOUT:X(In,`RPC '${e}' ${o} timed out`),s(new Q(F.DEADLINE_EXCEEDED,"Request time out"));break;case Um.HTTP_ERROR:const c=l.getStatus();if(X(In,`RPC '${e}' ${o} failed with status:`,c,"response text:",l.getResponseText()),c>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const y=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(b)>=0?b:F.UNKNOWN}(p.status);s(new Q(y,p.message))}else s(new Q(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new Q(F.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{X(In,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);X(In,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=J_(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=H$(),s=K$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");X(In,`Creating RPC '${e}' stream ${i}: ${d}`,l);const c=a.createWebChannel(d,l);let h=!1,p=!1;const y=new VY({Io:v=>{p?X(In,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(X(In,`Opening RPC '${e}' stream ${i} transport.`),c.open(),h=!0),X(In,`RPC '${e}' stream ${i} sending:`,v),c.send(v))},To:()=>c.close()}),g=(v,b,_)=>{v.listen(b,x=>{try{_(x)}catch(P){setTimeout(()=>{throw P},0)}})};return g(c,$d.EventType.OPEN,()=>{p||(X(In,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),g(c,$d.EventType.CLOSE,()=>{p||(p=!0,X(In,`RPC '${e}' stream ${i} transport closed`),y.So())}),g(c,$d.EventType.ERROR,v=>{p||(p=!0,Pi(In,`RPC '${e}' stream ${i} transport errored:`,v),y.So(new Q(F.UNAVAILABLE,"The operation could not be completed")))}),g(c,$d.EventType.MESSAGE,v=>{var b;if(!p){const _=v.data[0];fe(!!_);const x=_,P=x.error||((b=x[0])===null||b===void 0?void 0:b.error);if(P){X(In,`RPC '${e}' stream ${i} received error:`,P);const E=P.status;let A=function(O){const C=Lt[O];if(C!==void 0)return ML(C)}(E),T=P.message;A===void 0&&(A=F.INTERNAL,T="Unknown error status: "+E+" with message "+P.message),p=!0,y.So(new Q(A,T)),c.close()}else X(In,`RPC '${e}' stream ${i} received:`,_),y.bo(_)}}),g(s,G$.STAT_EVENT,v=>{v.stat===Bw.PROXY?X(In,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Bw.NOPROXY&&X(In,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(){return typeof window<"u"?window:null}function Ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t){return new GH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new $1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(jt(n.toString()),jt("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BY extends _V{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=YH(this.serializer,e),r=function(o){if(!("targetChange"in o))return he.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?he.min():a.readTime?Mt(a.readTime):he.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Jw(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=jg(l)?{documents:GL(o,l)}:{query:KL(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=FL(o,a.resumeToken);const u=Qw(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(he.min())>0){s.readTime=Ru(o,a.snapshotVersion.toTimestamp());const u=Qw(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=XH(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Jw(this.serializer),n.removeTarget=e,this.a_(n)}}class UY extends _V{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return fe(!!e.streamToken),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=QH(e.writeResults,e.commitTime),r=Mt(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Jw(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Hf(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,Xw(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(F.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,Xw(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Q(F.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class WY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(jt(n),this.D_=!1):X("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{Na(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ae(l);u.L_.add(4),await Ic(u),u.q_.set("Unknown"),u.L_.delete(4),await ap(u)}(this))})}),this.q_=new WY(r,i)}}async function ap(t){if(Na(t))for(const e of t.B_)await e(!0)}async function Ic(t){for(const e of t.B_)await e(!1)}function Mv(t,e){const n=ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),F1(n)?V1(n):Ac(n).r_()&&L1(n,e))}function ju(t,e){const n=ae(t),r=Ac(n);n.N_.delete(e),r.r_()&&bV(n,e),n.N_.size===0&&(r.r_()?r.o_():Na(n)&&n.q_.set("Unknown"))}function L1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ac(t).A_(e)}function bV(t,e){t.Q_.xe(e),Ac(t).R_(e)}function V1(t){t.Q_=new UH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ac(t).start(),t.q_.v_()}function F1(t){return Na(t)&&!Ac(t).n_()&&t.N_.size>0}function Na(t){return ae(t).L_.size===0}function wV(t){t.Q_=void 0}async function GY(t){t.q_.set("Online")}async function KY(t){t.N_.forEach((e,n)=>{L1(t,e)})}async function HY(t,e){wV(t),F1(t)?(t.q_.M_(e),V1(t)):t.q_.set("Unknown")}async function YY(t,e,n){if(t.q_.set("Online"),e instanceof VL&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wg(t,r)}else if(e instanceof Hm?t.Q_.Ke(e):e instanceof LL?t.Q_.He(e):t.Q_.We(e),!n.isEqual(he.min()))try{const r=await fV(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const d=o.N_.get(l);if(!d)return;o.N_.set(l,d.withResumeToken(Ot.EMPTY_BYTE_STRING,d.snapshotVersion)),bV(o,l);const c=new Hi(d.target,l,u,d.sequenceNumber);L1(o,c)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await Wg(t,r)}}async function Wg(t,e,n){if(!Ca(e))throw e;t.L_.add(1),await Ic(t),t.q_.set("Offline"),n||(n=()=>fV(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ap(t)})}function xV(t,e){return e().catch(n=>Wg(t,n,e))}async function Sc(t){const e=ae(t),n=wa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;QY(e);)try{const i=await DY(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,XY(e,i)}catch(i){await Wg(e,i)}EV(e)&&TV(e)}function QY(t){return Na(t)&&t.O_.length<10}function XY(t,e){t.O_.push(e);const n=wa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function EV(t){return Na(t)&&!wa(t).n_()&&t.O_.length>0}function TV(t){wa(t).start()}async function JY(t){wa(t).p_()}async function ZY(t){const e=wa(t);for(const n of t.O_)e.m_(n.mutations)}async function eQ(t,e,n){const r=t.O_.shift(),i=I1.from(r,e,n);await xV(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sc(t)}async function tQ(t,e){e&&wa(t).V_&&await async function(r,i){if(function(a){return jL(a)&&a!==F.ABORTED}(i.code)){const o=r.O_.shift();wa(r).s_(),await xV(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Sc(r)}}(t,e),EV(t)&&TV(t)}async function mk(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Na(n);n.L_.add(3),await Ic(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ap(n)}async function ix(t,e){const n=ae(t);e?(n.L_.delete(2),await ap(n)):e||(n.L_.add(2),await Ic(n),n.q_.set("Unknown"))}function Ac(t){return t.K_||(t.K_=function(n,r,i){const o=ae(n);return o.w_(),new BY(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:GY.bind(null,t),Ro:KY.bind(null,t),mo:HY.bind(null,t),d_:YY.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),F1(t)?V1(t):t.q_.set("Unknown")):(await t.K_.stop(),wV(t))})),t.K_}function wa(t){return t.U_||(t.U_=function(n,r,i){const o=ae(n);return o.w_(),new UY(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:JY.bind(null,t),mo:tQ.bind(null,t),f_:ZY.bind(null,t),g_:eQ.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Sc(t)):(await t.U_.stop(),t.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new B1(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pc(t,e){if(jt("AsyncQueue",`${e}: ${t}`),Ca(t))return new Q(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Ld(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new uu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new uu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.W_=new nt(oe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):le():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Mu{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Mu(e,n,uu.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class rQ{constructor(){this.queries=yk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ae(n),o=i.queries;i.queries=yk(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new Q(F.ABORTED,"Firestore shutting down"))}}function yk(){return new Ra(t=>wL(t),ep)}async function U1(t,e){const n=ae(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new nQ,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=Pc(a,`Initialization of query '${Ol(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&W1(n)}async function z1(t,e){const n=ae(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iQ(t,e){const n=ae(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&W1(n)}function oQ(t,e,n){const r=ae(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function W1(t){t.Y_.forEach(e=>{e.next()})}var ox,vk;(vk=ox||(ox={})).ea="default",vk.Cache="cache";class q1{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Mu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Mu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ox.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(e,n){this.aa=e,this.byteLength=n}ua(){return"metadata"in this.aa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.serializer=e}Es(e){return Ti(this.serializer,e)}ds(e){return e.metadata.exists?qL(this.serializer,e.document,!1):st.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Mt(e)}}class sQ{constructor(e,n,r){this.ca=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=IV(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++n;const r=Oe.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ha(e){const n=new Map,r=new _k(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Es(i.metadata.name);for(const a of i.metadata.queries){const s=(n.get(a)||xe()).add(o);n.set(a,s)}}return n}async complete(){const e=await jY(this.localStore,new _k(this.serializer),this.documents,this.ca.id),n=this.ha(this.documents);for(const r of this.queries)await MY(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function IV(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.key=e}}class AV{constructor(e){this.key=e}}class PV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xe(),this.mutatedKeys=xe(),this.Aa=EL(e),this.Ra=new uu(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new gk,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,c)=>{const h=i.get(d),p=tp(this.query,c)?c:null,y=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?y!==g&&(r.track({type:3,doc:p}),v=!0):this.ga(h,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(s=!0)),v&&(p?(a=a.add(p),o=g?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((d,c)=>function(p,y){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return g(p)-g(y)}(d.type,c.type)||this.Aa(d.doc,c.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Mu(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new gk,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=xe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new AV(r))}),this.da.forEach(r=>{e.has(r)||n.push(new SV(r))}),n}ba(e){this.Ta=e.Ts,this.da=xe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Mu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class lQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uQ{constructor(e){this.key=e,this.va=!1}}class cQ{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Ra(s=>wL(s),ep),this.Ma=new Map,this.xa=new Set,this.Oa=new nt(oe.comparator),this.Na=new Map,this.La=new R1,this.Ba={},this.ka=new Map,this.qa=zs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function dQ(t,e,n=!0){const r=$v(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await OV(r,e,n,!0),i}async function fQ(t,e){const n=$v(t);await OV(n,e,!0,!1)}async function OV(t,e,n,r){const i=await Nu(t.localStore,Un(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await G1(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Mv(t.remoteStore,i),s}async function G1(t,e,n,r,i){t.Ka=(c,h,p)=>async function(g,v,b,_){let x=v.view.ma(b);x.ns&&(x=await Bg(g.localStore,v.query,!1).then(({documents:T})=>v.view.ma(T,x)));const P=_&&_.targetChanges.get(v.targetId),E=_&&_.targetMismatches.get(v.targetId)!=null,A=v.view.applyChanges(x,g.isPrimaryClient,P,E);return ax(g,v.targetId,A.wa),A.snapshot}(t,c,h,p);const o=await Bg(t.localStore,e,!0),a=new PV(e,o.Ts),s=a.ma(o.documents),l=ip.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);ax(t,n,u.wa);const d=new lQ(e,n,a);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function hQ(t,e,n){const r=ae(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!ep(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Du(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ju(r.remoteStore,i.targetId),$u(r,i.targetId)}).catch(ka)):($u(r,i.targetId),await Du(r.localStore,i.targetId,!0))}async function pQ(t,e){const n=ae(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ju(n.remoteStore,r.targetId))}async function mQ(t,e,n){const r=Q1(t);try{const i=await function(a,s){const l=ae(a),u=mt.now(),d=s.reduce((p,y)=>p.add(y.key),xe());let c,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=tr(),g=xe();return l.cs.getEntries(p,d).next(v=>{y=v,y.forEach((b,_)=>{_.isValidDocument()||(g=g.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(v=>{c=v;const b=[];for(const _ of s){const x=VH(_,c.get(_.key).overlayedDocument);x!=null&&b.push(new xo(_.key,x,fL(x.value.mapValue),ht.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,b,s)}).next(v=>{h=v;const b=v.applyToLocalDocumentSet(c,g);return l.documentOverlayCache.saveOverlays(p,v.batchId,b)})}).then(()=>({batchId:h.batchId,changes:IL(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new nt(be)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Eo(r,i.changes),await Sc(r.remoteStore)}catch(i){const o=Pc(i,"Failed to persist write");n.reject(o)}}async function kV(t,e){const n=ae(t);try{const r=await NY(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?fe(a.va):i.removedDocuments.size>0&&(fe(a.va),a.va=!1))}),await Eo(n,r,e)}catch(r){await ka(r)}}function bk(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=ae(a);l.onlineState=s;let u=!1;l.queries.forEach((d,c)=>{for(const h of c.j_)h.Z_(s)&&(u=!0)}),u&&W1(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gQ(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new nt(oe.comparator);a=a.insert(o,st.newNoDocument(o,he.min()));const s=xe().add(o),l=new rp(he.min(),new Map,new nt(be),a,s);await kV(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),Y1(r)}else await Du(r.localStore,e,!1).then(()=>$u(r,e,n)).catch(ka)}async function yQ(t,e){const n=ae(t),r=e.batch.batchId;try{const i=await RY(n.localStore,e);H1(n,r,null),K1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Eo(n,i)}catch(i){await ka(i)}}async function vQ(t,e,n){const r=ae(t);try{const i=await function(a,s){const l=ae(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,s).next(c=>(fe(c!==null),d=c.keys(),l.mutationQueue.removeMutationBatch(u,c))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);H1(r,e,n),K1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Eo(r,i)}catch(i){await ka(i)}}async function _Q(t,e){const n=ae(t);Na(n.remoteStore)||X("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(a){const s=ae(a);return s.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>s.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ka.get(r)||[];i.push(e),n.ka.set(r,i)}catch(r){const i=Pc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function K1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function H1(t,e,n){const r=ae(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function $u(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||CV(t,r)})}function CV(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ju(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Y1(t))}function ax(t,e,n){for(const r of n)r instanceof SV?(t.La.addReference(r.key,e),bQ(t,r)):r instanceof AV?(X("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||CV(t,r.key)):le()}function bQ(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(X("SyncEngine","New document in limbo: "+n),t.xa.add(r),Y1(t))}function Y1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new oe(Oe.fromString(e)),r=t.qa.next();t.Na.set(r,new uQ(n)),t.Oa=t.Oa.insert(n,r),Mv(t.remoteStore,new Hi(Un(xc(n.path)),r,"TargetPurposeLimboResolution",Zn.oe))}}async function Eo(t,e,n){const r=ae(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const c=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,c?"current":"not-current")}if(u){i.push(u);const c=j1.Wi(l.targetId,u);o.push(c)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const d=ae(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>L.forEach(u,h=>L.forEach(h.$i,p=>d.persistence.referenceDelegate.addReference(c,h.targetId,p)).next(()=>L.forEach(h.Ui,p=>d.persistence.referenceDelegate.removeReference(c,h.targetId,p)))))}catch(c){if(!Ca(c))throw c;X("LocalStore","Failed to update sequence numbers: "+c)}for(const c of u){const h=c.targetId;if(!c.fromCache){const p=d.os.get(h),y=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(y);d.os=d.os.insert(h,g)}}}(r.localStore,o))}async function wQ(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await dV(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new Q(F.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Eo(n,r.hs)}}function xQ(t,e){const n=ae(t),r=n.Na.get(e);if(r&&r.va)return xe().add(r.key);{let i=xe();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}async function EQ(t,e){const n=ae(t),r=await Bg(n.localStore,e.query,!0),i=e.view.ba(r);return n.isPrimaryClient&&ax(n,e.targetId,i.wa),i}async function TQ(t,e){const n=ae(t);return mV(n.localStore,e).then(r=>Eo(n,r))}async function IQ(t,e,n,r){const i=ae(t),o=await function(s,l){const u=ae(s),d=ae(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",c=>d.Mn(c,l).next(h=>h?u.localDocuments.getDocuments(c,h):L.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?await Sc(i.remoteStore):n==="acknowledged"||n==="rejected"?(H1(i,e,r||null),K1(i,e),function(s,l){ae(ae(s).mutationQueue).On(l)}(i.localStore,e)):le(),await Eo(i,o)):X("SyncEngine","Cannot apply mutation batch with id: "+e)}async function SQ(t,e){const n=ae(t);if($v(n),Q1(n),e===!0&&n.Qa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await wk(n,r.toArray());n.Qa=!0,await ix(n.remoteStore,!0);for(const o of i)Mv(n.remoteStore,o)}else if(e===!1&&n.Qa!==!1){const r=[];let i=Promise.resolve();n.Ma.forEach((o,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then(()=>($u(n,a),Du(n.localStore,a,!0))),ju(n.remoteStore,a)}),await i,await wk(n,r),function(a){const s=ae(a);s.Na.forEach((l,u)=>{ju(s.remoteStore,u)}),s.La.pr(),s.Na=new Map,s.Oa=new nt(oe.comparator)}(n),n.Qa=!1,await ix(n.remoteStore,!1)}}async function wk(t,e,n){const r=ae(t),i=[],o=[];for(const a of e){let s;const l=r.Ma.get(a);if(l&&l.length!==0){s=await Nu(r.localStore,Un(l[0]));for(const u of l){const d=r.Fa.get(u),c=await EQ(r,d);c.snapshot&&o.push(c.snapshot)}}else{const u=await pV(r.localStore,a);s=await Nu(r.localStore,u),await G1(r,RV(u),a,!1,s.resumeToken)}i.push(s)}return r.Ca.d_(o),i}function RV(t){return bL(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function AQ(t){return function(n){return ae(ae(n).persistence).Qi()}(ae(t).localStore)}async function PQ(t,e,n,r){const i=ae(t);if(i.Qa)return void X("SyncEngine","Ignoring unexpected query state notification.");const o=i.Ma.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const a=await mV(i.localStore,xL(o[0])),s=rp.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ot.EMPTY_BYTE_STRING);await Eo(i,a,s);break}case"rejected":await Du(i.localStore,e,!0),$u(i,e,r);break;default:le()}}async function OQ(t,e,n){const r=$v(t);if(r.Qa){for(const i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){X("SyncEngine","Adding an already active target "+i);continue}const o=await pV(r.localStore,i),a=await Nu(r.localStore,o);await G1(r,RV(o),a.targetId,!1,a.resumeToken),Mv(r.remoteStore,a)}for(const i of n)r.Ma.has(i)&&await Du(r.localStore,i,!1).then(()=>{ju(r.remoteStore,i),$u(r,i)}).catch(ka)}}function $v(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gQ.bind(null,e),e.Ca.d_=iQ.bind(null,e.eventManager),e.Ca.$a=oQ.bind(null,e.eventManager),e}function Q1(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vQ.bind(null,e),e}function kQ(t,e,n){const r=ae(t);(async function(o,a,s){try{const l=await a.getMetadata();if(await function(p,y){const g=ae(p),v=Mt(y.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",b=>g.Gr.getBundleMetadata(b,y.id)).then(b=>!!b&&b.createTime.compareTo(v)>=0)}(o.localStore,l))return await a.close(),s._completeWith(function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}}(l)),Promise.resolve(new Set);s._updateProgress(IV(l));const u=new sQ(l,o.localStore,a.serializer);let d=await a.Ua();for(;d;){const h=await u.la(d);h&&s._updateProgress(h),d=await a.Ua()}const c=await u.complete();return await Eo(o,c.Ia,void 0),await function(p,y){const g=ae(p);return g.persistence.runTransaction("Save bundle","readwrite",v=>g.Gr.saveBundleMetadata(v,y))}(o.localStore,l),s._completeWith(c.progress),Promise.resolve(c.Pa)}catch(l){return Pi("SyncEngine",`Loading bundle failed with ${l}`),s._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Yf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=op(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return cV(this.persistence,new uV,e.initialUser,this.serializer)}Ga(e){return new lV(jv.Zr,this.serializer)}Wa(e){return new yV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yf.provider={build:()=>new Yf};class NV extends Yf{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await Q1(this.Ja.syncEngine),await Sc(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return cV(this.persistence,new uV,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new pY(r,e.asyncQueue,n)}Ha(e,n){const r=new YK(n,this.persistence);return new HK(e.asyncQueue,r)}Ga(e){const n=D1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new N1(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,vV(),Ym(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new yV}}class CQ extends NV{constructor(e,n){super(e,n,!1),this.Ja=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ja.syncEngine;this.sharedClientState instanceof X_&&(this.sharedClientState.syncEngine={no:IQ.bind(null,n),ro:PQ.bind(null,n),io:OQ.bind(null,n),Qi:AQ.bind(null,n),eo:TQ.bind(null,n)},await this.sharedClientState.start()),await this.persistence.yi(async r=>{await SQ(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Wa(e){const n=vV();if(!X_.D(n))throw new Q(F.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=D1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new X_(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Qf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wQ.bind(null,this.syncEngine),await ix(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rQ}()}createDatastore(e){const n=op(e.databaseInfo.databaseId),r=function(o){return new FY(o)}(e.databaseInfo);return function(o,a,s,l){return new zY(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new qY(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>bk(this.syncEngine,n,0),function(){return pk.D()?new pk:new $Y}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,d){const c=new cQ(i,o,a,s,l,u);return d&&(c.Qa=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ae(i);X("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Ic(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qf.provider={build:()=>new Qf};function xk(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):jt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(e,n){this.Xa=e,this.serializer=n,this.metadata=new vn,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.aa)}`))},r=>this.metadata.reject(r))}close(){return this.Xa.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.tu()}async tu(){const e=await this.nu();if(e===null)return null;const n=this.eu.decode(e),r=Number(n);isNaN(r)&&this.ru(`length string (${n}) is not valid number`);const i=await this.iu(r);return new aQ(JSON.parse(i),e.length+r)}su(){return this.buffer.findIndex(e=>e===123)}async nu(){for(;this.su()<0&&!await this.ou(););if(this.buffer.length===0)return null;const e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async iu(e){for(;this.buffer.length<e;)await this.ou()&&this.ru("Reached the end of bundle when more is expected.");const n=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ou(){const e=await this.Xa.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NQ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Q(F.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,o){const a=ae(i),s={documents:o.map(c=>Kf(a.serializer,c))},l=await a.Lo("BatchGetDocuments",a.serializer.databaseId,Oe.emptyPath(),s,o.length),u=new Map;l.forEach(c=>{const h=HH(a.serializer,c);u.set(h.key.toString(),h)});const d=[];return o.forEach(c=>{const h=u.get(c.toString());fe(!!h),d.push(h)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Tc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=oe.fromPath(r);this.mutations.push(new E1(i,this.precondition(i)))}),await async function(r,i){const o=ae(r),a={writes:i.map(s=>Hf(o.serializer,s))};await o.Mo("Commit",o.serializer.databaseId,Oe.emptyPath(),a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw le();n=he.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Q(F.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(he.min())?ht.exists(!1):ht.updateTime(n):ht.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(he.min()))throw new Q(F.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ht.updateTime(n)}return ht.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this._u=r.maxAttempts,this.t_=new $1(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new NQ(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Jh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!jL(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rn.UNAUTHENTICATED,this.clientId=Q$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{X("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(X("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Z_(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dV(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ek(t,e){t.asyncQueue.verifyOperationInProgress();const n=await X1(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mk(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mk(e.remoteStore,i)),t._onlineComponents=e}async function X1(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await Z_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Pi("Error using user provided cache. Falling back to memory cache: "+n),await Z_(t,new Yf)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await Z_(t,new Yf);return t._offlineComponents}async function Vv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await Ek(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await Ek(t,new Qf))),t._onlineComponents}function DV(t){return X1(t).then(e=>e.persistence)}function J1(t){return X1(t).then(e=>e.localStore)}function jV(t){return Vv(t).then(e=>e.remoteStore)}function Z1(t){return Vv(t).then(e=>e.syncEngine)}function MQ(t){return Vv(t).then(e=>e.datastore)}async function Lu(t){const e=await Vv(t),n=e.eventManager;return n.onListen=dQ.bind(null,e.syncEngine),n.onUnlisten=hQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pQ.bind(null,e.syncEngine),n}function $Q(t){return t.asyncQueue.enqueue(async()=>{const e=await DV(t),n=await jV(t);return e.setNetworkEnabled(!0),function(i){const o=ae(i);return o.L_.delete(0),ap(o)}(n)})}function LQ(t){return t.asyncQueue.enqueue(async()=>{const e=await DV(t),n=await jV(t);return e.setNetworkEnabled(!1),async function(i){const o=ae(i);o.L_.add(0),await Ic(o),o.q_.set("Offline")}(n)})}function VQ(t,e){const n=new vn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,o,a){try{const s=await function(u,d){const c=ae(u);return c.persistence.runTransaction("read document","readonly",h=>c.localDocuments.getDocument(h,d))}(i,o);s.isFoundDocument()?a.resolve(s):s.isNoDocument()?a.resolve(null):a.reject(new Q(F.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(s){const l=Pc(s,`Failed to get document '${o} from cache`);a.reject(l)}}(await J1(t),e,n)),n.promise}function MV(t,e,n={}){const r=new vn;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const d=new Lv({next:h=>{d.Za(),a.enqueueAndForget(()=>z1(o,c));const p=h.docs.has(s);!p&&h.fromCache?u.reject(new Q(F.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new Q(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),c=new q1(xc(s.path),d,{includeMetadataChanges:!0,_a:!0});return U1(o,c)}(await Lu(t),t.asyncQueue,e,n,r)),r.promise}function FQ(t,e){const n=new vn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,o,a){try{const s=await Bg(i,o,!0),l=new PV(o,s.Ts),u=l.ma(s.documents),d=l.applyChanges(u,!1);a.resolve(d.snapshot)}catch(s){const l=Pc(s,`Failed to execute query '${o} against cache`);a.reject(l)}}(await J1(t),e,n)),n.promise}function $V(t,e,n={}){const r=new vn;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const d=new Lv({next:h=>{d.Za(),a.enqueueAndForget(()=>z1(o,c)),h.fromCache&&l.source==="server"?u.reject(new Q(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),c=new q1(s,d,{includeMetadataChanges:!0,_a:!0});return U1(o,c)}(await Lu(t),t.asyncQueue,e,n,r)),r.promise}function BQ(t,e){const n=new Lv(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,o){ae(i).Y_.add(o),o.next()}(await Lu(t),n)),()=>{n.Za(),t.asyncQueue.enqueueAndForget(async()=>function(i,o){ae(i).Y_.delete(o)}(await Lu(t),n))}}function UQ(t,e,n,r){const i=function(a,s){let l;return l=typeof a=="string"?$L().encode(a):a,function(d,c){return new RQ(d,c)}(function(d,c){if(d instanceof Uint8Array)return xk(d,c);if(d instanceof ArrayBuffer)return xk(new Uint8Array(d),c);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),s)}(n,op(e));t.asyncQueue.enqueueAndForget(async()=>{kQ(await Z1(t),i,r)})}function zQ(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const o=ae(r);return o.persistence.runTransaction("Get named query","readonly",a=>o.Gr.getNamedQuery(a,i))}(await J1(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t,e,n){if(!n)throw new Q(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VV(t,e,n,r){if(e===!0&&r===!0)throw new Q(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ik(t){if(!oe.isDocumentKey(t))throw new Q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Sk(t){if(oe.isDocumentKey(t))throw new Q(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function Me(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fv(t);throw new Q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function FV(t,e){if(e<=0)throw new Q(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ak({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ak(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $K;switch(r.type){case"firstParty":return new BK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Tk.get(n);r&&(X("ComponentProvider","Removing Datastore"),Tk.delete(n),r.terminate())}(this),Promise.resolve()}}function WQ(t,e,n,r={}){var i;const o=(t=Me(t,sp))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=rn.MOCK_USER;else{s=J9(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new rn(u)}t._authCredentials=new LK(new Y$(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wn=class BV{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new BV(this.firestore,e,this._query)}},wt=class UV{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new UV(this.firestore,e,this._key)}},ca=class zV extends Wn{constructor(e,n,r){super(e,n,xc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new oe(e))}withConverter(e){return new zV(this.firestore,e,this._path)}};function WV(t,e,...n){if(t=pe(t),eI("collection","path",e),t instanceof sp){const r=Oe.fromString(e,...n);return Sk(r),new ca(t,null,r)}{if(!(t instanceof wt||t instanceof ca))throw new Q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return Sk(r),new ca(t.firestore,null,r)}}function qQ(t,e){if(t=Me(t,sp),eI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Q(F.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wn(t,null,function(r){return new wo(Oe.emptyPath(),r)}(e))}function qg(t,e,...n){if(t=pe(t),arguments.length===1&&(e=Q$.newId()),eI("doc","path",e),t instanceof sp){const r=Oe.fromString(e,...n);return Ik(r),new wt(t,null,new oe(r))}{if(!(t instanceof wt||t instanceof ca))throw new Q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return Ik(r),new wt(t.firestore,t instanceof ca?t.converter:null,new oe(r))}}function qV(t,e){return t=pe(t),e=pe(e),(t instanceof wt||t instanceof ca)&&(e instanceof wt||e instanceof ca)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function GV(t,e){return t=pe(t),e=pe(e),t instanceof Wn&&e instanceof Wn&&t.firestore===e.firestore&&ep(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new $1(this,"async_queue_retry"),this.Vu=()=>{const r=Ym();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new vn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ca(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw jt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=B1.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&le()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function sx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class GQ{constructor(){this._progressObserver={},this._taskCompletionResolver=new vn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KQ=-1;let $t=class extends sp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Pk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pk(e),this._firestoreClient=void 0,await e}}};function On(t){if(t._terminated)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||KV(t),t._firestoreClient}function KV(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,d){return new yH(s,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,LV(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new jQ(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}function HQ(t,e){Pi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return HV(t,Qf.provider,{build:r=>new NV(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function YQ(t){Pi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();HV(t,Qf.provider,{build:n=>new CQ(n,e.cacheSizeBytes)})}function HV(t,e,n){if((t=Me(t,$t))._firestoreClient||t._terminated)throw new Q(F.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Q(F.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},KV(t)}function QQ(t){if(t._initialized&&!t._terminated)throw new Q(F.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new vn;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Ei.D())return Promise.resolve();const i=r+"main";await Ei.delete(i)}(D1(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function XQ(t){return function(n){const r=new vn;return n.asyncQueue.enqueueAndForget(async()=>_Q(await Z1(n),r)),r.promise}(On(t=Me(t,$t)))}function JQ(t){return $Q(On(t=Me(t,$t)))}function ZQ(t){return LQ(On(t=Me(t,$t)))}function eX(t,e){const n=On(t=Me(t,$t)),r=new GQ;return UQ(n,t._databaseId,e,r),r}function tX(t,e){return zQ(On(t=Me(t,$t)),e).then(n=>n?new Wn(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ki(Ot.fromBase64String(e))}catch(n){throw new Q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ki(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xa=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nX=/^__.*__$/;class rX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ec(e,this.data,n,this.fieldTransforms)}}class YV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class Uv{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Uv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Gg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(QV(this.Cu)&&nX.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class iX{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||op(e)}Qu(e,n,r,i=!1){return new Uv({Cu:e,methodName:n,qu:r,path:ft.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function al(t){const e=t._freezeSettings(),n=op(t._databaseId);return new iX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zv(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);lI("Data must be an object, but it was:",a,r);const s=ZV(r,a);let l,u;if(o.merge)l=new er(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const d=[];for(const c of o.mergeFields){const h=lx(e,c,n);if(!a.contains(h))throw new Q(F.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);tF(d,h)||d.push(h)}l=new er(d),u=a.fieldTransforms.filter(c=>l.covers(c.field))}else l=null,u=a.fieldTransforms;return new rX(new mn(s),l,u)}class lp extends ol{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lp}}function XV(t,e,n){return new Uv({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class nI extends ol{_toFieldTransform(e){return new np(e.path,new ku)}isEqual(e){return e instanceof nI}}class rI extends ol{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=XV(this,e,!0),r=this.Ku.map(o=>sl(o,n)),i=new Vs(r);return new np(e.path,i)}isEqual(e){return e instanceof rI&&Rf(this.Ku,e.Ku)}}class iI extends ol{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=XV(this,e,!0),r=this.Ku.map(o=>sl(o,n)),i=new Fs(r);return new np(e.path,i)}isEqual(e){return e instanceof iI&&Rf(this.Ku,e.Ku)}}class oI extends ol{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Cu(e.serializer,PL(e.serializer,this.$u));return new np(e.path,n)}isEqual(e){return e instanceof oI&&this.$u===e.$u}}function aI(t,e,n,r){const i=t.Qu(1,e,n);lI("Data must be an object, but it was:",i,r);const o=[],a=mn.empty();il(r,(l,u)=>{const d=uI(e,l,n);u=pe(u);const c=i.Nu(d);if(u instanceof lp)o.push(d);else{const h=sl(u,c);h!=null&&(o.push(d),a.set(d,h))}});const s=new er(o);return new YV(a,s,i.fieldTransforms)}function sI(t,e,n,r,i,o){const a=t.Qu(1,e,n),s=[lx(e,r,n)],l=[i];if(o.length%2!=0)throw new Q(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(lx(e,o[h])),l.push(o[h+1]);const u=[],d=mn.empty();for(let h=s.length-1;h>=0;--h)if(!tF(u,s[h])){const p=s[h];let y=l[h];y=pe(y);const g=a.Nu(p);if(y instanceof lp)u.push(p);else{const v=sl(y,g);v!=null&&(u.push(p),d.set(p,v))}}const c=new er(u);return new YV(d,c,a.fieldTransforms)}function JV(t,e,n,r=!1){return sl(n,t.Qu(r?4:3,e))}function sl(t,e){if(eF(t=pe(t)))return lI("Unsupported field value:",e,t),ZV(t,e);if(t instanceof ol)return function(r,i){if(!QV(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=sl(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=pe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=mt.fromDate(r);return{timestampValue:Ru(i.serializer,o)}}if(r instanceof mt){const o=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ru(i.serializer,o)}}if(r instanceof Bv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ki)return{bytesValue:FL(i.serializer,r._byteString)};if(r instanceof wt){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:P1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof tI)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return x1(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Fv(r)}`)}(t,e)}function ZV(t,e){const n={};return lL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):il(t,(r,i)=>{const o=sl(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function eF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof Bv||t instanceof ki||t instanceof wt||t instanceof ol||t instanceof tI)}function lI(t,e,n){if(!eF(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Fv(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function lx(t,e,n){if((e=pe(e))instanceof xa)return e._internalPath;if(typeof e=="string")return uI(t,e);throw Gg("Field path arguments must be of type string or ",t,!1,void 0,n)}const oX=new RegExp("[~\\*/\\[\\]]");function uI(t,e,n){if(e.search(oX)>=0)throw Gg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xa(...e.split("."))._internalPath}catch{throw Gg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gg(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Q(F.INVALID_ARGUMENT,s+t+l)}function tF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aX extends Xf{data(){return super.data()}}function Wv(t,e){return typeof e=="string"?uI(t,e):e instanceof xa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cI{}class up extends cI{}function $o(t,e,...n){let r=[];e instanceof cI&&r.push(e),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof dI).length,s=o.filter(l=>l instanceof qv).length;if(a>1||a>0&&s>0)throw new Q(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class qv extends up{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qv(e,n,r)}_apply(e){const n=this._parse(e);return iF(e._query,n),new Wn(e.firestore,e.converter,Yw(e._query,n))}_parse(e){const n=al(e.firestore);return function(o,a,s,l,u,d,c){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){kk(c,d);const p=[];for(const y of c)p.push(Ok(l,o,y));h={arrayValue:{values:p}}}else h=Ok(l,o,c)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||kk(c,d),h=JV(s,a,c,d==="in"||d==="not-in");return ke.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sX(t,e,n){const r=e,i=Wv("where",t);return qv._create(i,r,n)}class dI extends cI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dI(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Be.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)iF(a,l),a=Yw(a,l)}(e._query,n),new Wn(e.firestore,e.converter,Yw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fI extends up{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new fI(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new Q(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Q(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gf(o,a)}(e._query,this._field,this._direction);return new Wn(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new wo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function lX(t,e="asc"){const n=e,r=Wv("orderBy",t);return fI._create(r,n)}class Gv extends up{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Gv(e,n,r)}_apply(e){return new Wn(e.firestore,e.converter,$g(e._query,this._limit,this._limitType))}}function uX(t){return FV("limit",t),Gv._create("limit",t,"F")}function cX(t){return FV("limitToLast",t),Gv._create("limitToLast",t,"L")}class Kv extends up{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Kv(e,n,r)}_apply(e){const n=rF(e,this.type,this._docOrFields,this._inclusive);return new Wn(e.firestore,e.converter,function(i,o){return new wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function dX(...t){return Kv._create("startAt",t,!0)}function fX(...t){return Kv._create("startAfter",t,!1)}class Hv extends up{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Hv(e,n,r)}_apply(e){const n=rF(e,this.type,this._docOrFields,this._inclusive);return new Wn(e.firestore,e.converter,function(i,o){return new wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,n))}}function hX(...t){return Hv._create("endBefore",t,!1)}function pX(...t){return Hv._create("endAt",t,!0)}function rF(t,e,n,r){if(n[0]=pe(n[0]),n[0]instanceof Xf)return function(o,a,s,l,u){if(!l)throw new Q(F.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${s}().`);const d=[];for(const c of lu(o))if(c.field.isKeyField())d.push($s(a,l.key));else{const h=l.data.field(c.field);if(Ov(h))throw new Q(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=c.field.canonicalString();throw new Q(F.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}d.push(h)}return new ba(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=al(t.firestore);return function(a,s,l,u,d,c){const h=a.explicitOrderBy;if(d.length>h.length)throw new Q(F.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let y=0;y<d.length;y++){const g=d[y];if(h[y].field.isKeyField()){if(typeof g!="string")throw new Q(F.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof g}`);if(!b1(a)&&g.indexOf("/")!==-1)throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${g}' contains a slash.`);const v=a.path.child(Oe.fromString(g));if(!oe.isDocumentKey(v))throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const b=new oe(v);p.push($s(s,b))}else{const v=JV(l,u,g);p.push(v)}}return new ba(p,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Ok(t,e,n){if(typeof(n=pe(n))=="string"){if(n==="")throw new Q(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b1(e)&&n.indexOf("/")!==-1)throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Oe.fromString(n));if(!oe.isDocumentKey(r))throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $s(t,new oe(r))}if(n instanceof wt)return $s(t,n._key);throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fv(n)}.`)}function kk(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iF(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hI{convertValue(e,n="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return il(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>ct(a.doubleValue));return new tI(o)}convertGeoPoint(e){return new Bv(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=v1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zf(e));default:return null}}convertTimestamp(e){const n=co(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);fe(XL(r));const i=new va(r.get(1),r.get(3)),o=new oe(r.popFirst(5));return i.isEqual(n)||jt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class mX extends hI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let fo=class extends Xf{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},af=class extends fo{data(e={}){return super.data(e)}},Ea=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new af(this._firestore,this._userDataWriter,r.key,r,new fs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new af(i._firestore,i._userDataWriter,s.doc.key,s.doc,new fs(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new af(i._firestore,i._userDataWriter,s.doc.key,s.doc,new fs(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),d=a.indexOf(s.doc.key)),{type:gX(s.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function gX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}function oF(t,e){return t instanceof fo&&e instanceof fo?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ea&&e instanceof Ea&&t._firestore===e._firestore&&GV(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yX(t){t=Me(t,wt);const e=Me(t.firestore,$t);return MV(On(e),t._key).then(n=>pI(e,t,n))}class ll extends hI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function vX(t){t=Me(t,wt);const e=Me(t.firestore,$t),n=On(e),r=new ll(e);return VQ(n,t._key).then(i=>new fo(e,r,t._key,i,new fs(i!==null&&i.hasLocalMutations,!0),t.converter))}function _X(t){t=Me(t,wt);const e=Me(t.firestore,$t);return MV(On(e),t._key,{source:"server"}).then(n=>pI(e,t,n))}function bX(t){t=Me(t,Wn);const e=Me(t.firestore,$t),n=On(e),r=new ll(e);return nF(t._query),$V(n,t._query).then(i=>new Ea(e,r,t,i))}function wX(t){t=Me(t,Wn);const e=Me(t.firestore,$t),n=On(e),r=new ll(e);return FQ(n,t._query).then(i=>new Ea(e,r,t,i))}function xX(t){t=Me(t,Wn);const e=Me(t.firestore,$t),n=On(e),r=new ll(e);return $V(n,t._query,{source:"server"}).then(i=>new Ea(e,r,t,i))}function Ck(t,e,n){t=Me(t,wt);const r=Me(t.firestore,$t),i=Yv(t.converter,e,n);return cp(r,[zv(al(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ht.none())])}function Rk(t,e,n,...r){t=Me(t,wt);const i=Me(t.firestore,$t),o=al(i);let a;return a=typeof(e=pe(e))=="string"||e instanceof xa?sI(o,"updateDoc",t._key,e,n,r):aI(o,"updateDoc",t._key,e),cp(i,[a.toMutation(t._key,ht.exists(!0))])}function EX(t){return cp(Me(t.firestore,$t),[new Tc(t._key,ht.none())])}function TX(t,e){const n=Me(t.firestore,$t),r=qg(t),i=Yv(t.converter,e);return cp(n,[zv(al(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ht.exists(!1))]).then(()=>r)}function aF(t,...e){var n,r,i;t=pe(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||sx(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(sx(e[a])){const c=e[a];e[a]=(n=c.next)===null||n===void 0?void 0:n.bind(c),e[a+1]=(r=c.error)===null||r===void 0?void 0:r.bind(c),e[a+2]=(i=c.complete)===null||i===void 0?void 0:i.bind(c)}let l,u,d;if(t instanceof wt)u=Me(t.firestore,$t),d=xc(t._key.path),l={next:c=>{e[a]&&e[a](pI(u,t,c))},error:e[a+1],complete:e[a+2]};else{const c=Me(t,Wn);u=Me(c.firestore,$t),d=c._query;const h=new ll(u);l={next:p=>{e[a]&&e[a](new Ea(u,h,c,p))},error:e[a+1],complete:e[a+2]},nF(t._query)}return function(h,p,y,g){const v=new Lv(g),b=new q1(p,v,y);return h.asyncQueue.enqueueAndForget(async()=>U1(await Lu(h),b)),()=>{v.Za(),h.asyncQueue.enqueueAndForget(async()=>z1(await Lu(h),b))}}(On(u),d,s,l)}function IX(t,e){return BQ(On(t=Me(t,$t)),sx(e)?e:{next:e})}function cp(t,e){return function(r,i){const o=new vn;return r.asyncQueue.enqueueAndForget(async()=>mQ(await Z1(r),i,o)),o.promise}(On(t),e)}function pI(t,e,n){const r=n.docs.get(e._key),i=new ll(t);return new fo(t,i,e._key,r,new fs(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SX={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AX=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=al(e)}set(e,n,r){this._verifyNotCommitted();const i=Go(e,this._firestore),o=Yv(i.converter,n,r),a=zv(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,ht.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Go(e,this._firestore);let a;return a=typeof(n=pe(n))=="string"||n instanceof xa?sI(this._dataReader,"WriteBatch.update",o._key,n,r,i):aI(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(a.toMutation(o._key,ht.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Go(e,this._firestore);return this._mutations=this._mutations.concat(new Tc(n._key,ht.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Q(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Go(t,e){if((t=pe(t)).firestore!==e)throw new Q(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PX=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=al(n)}get(n){const r=Go(n,this._firestore),i=new mX(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return le();const a=o[0];if(a.isFoundDocument())return new Xf(this._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new Xf(this._firestore,i,r._key,null,r.converter);throw le()})}set(n,r,i){const o=Go(n,this._firestore),a=Yv(o.converter,r,i),s=zv(this._dataReader,"Transaction.set",o._key,a,o.converter!==null,i);return this._transaction.set(o._key,s),this}update(n,r,i,...o){const a=Go(n,this._firestore);let s;return s=typeof(r=pe(r))=="string"||r instanceof xa?sI(this._dataReader,"Transaction.update",a._key,r,i,o):aI(this._dataReader,"Transaction.update",a._key,r),this._transaction.update(a._key,s),this}delete(n){const r=Go(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Go(e,this._firestore),r=new ll(this._firestore);return super.get(e).then(i=>new fo(this._firestore,r,n._key,i._document,new fs(!1,!1),n.converter))}};function OX(t,e,n){t=Me(t,$t);const r=Object.assign(Object.assign({},SX),n);return function(o){if(o.maxAttempts<1)throw new Q(F.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,a,s){const l=new vn;return o.asyncQueue.enqueueAndForget(async()=>{const u=await MQ(o);new DQ(o.asyncQueue,u,s,a,l).au()}),l.promise}(On(t),i=>e(new PX(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kX(){return new lp("deleteField")}function CX(){return new nI("serverTimestamp")}function RX(...t){return new rI("arrayUnion",t)}function NX(...t){return new iI("arrayRemove",t)}function DX(t){return new oI("increment",t)}(function(e,n=!0){(function(i){wc=i})(Pa),Vr(new zn("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new $t(new VK(r.getProvider("auth-internal")),new zK(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new va(u.options.projectId,d)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Fn(wO,"4.7.3",e),Fn(wO,"4.7.3","esm2017")})();const jX="@firebase/firestore-compat",MX="0.3.38";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Q("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(){if(typeof Uint8Array>"u")throw new Q("unimplemented","Uint8Arrays are not available in this environment.")}function Dk(){if(!mH())throw new Q("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Jf{constructor(e){this._delegate=e}static fromBase64String(e){return Dk(),new Jf(ki.fromBase64String(e))}static fromUint8Array(e){return Nk(),new Jf(ki.fromUint8Array(e))}toBase64(){return Dk(),this._delegate.toBase64()}toUint8Array(){return Nk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(t){return $X(t,["next","error","complete"])}function $X(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LX{enableIndexedDbPersistence(e,n){return HQ(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return YQ(e._delegate)}clearIndexedDbPersistence(e){return QQ(e._delegate)}}class sF{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof va||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Pi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){WQ(this._delegate,e,n,r)}enableNetwork(){return JQ(this._delegate)}disableNetwork(){return ZQ(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,VV("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return XQ(this._delegate)}onSnapshotsInSync(e){return IX(this._delegate,e)}get app(){if(!this._appCompat)throw new Q("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Vu(this,WV(this._delegate,e))}catch(n){throw jn(n,"collection()","Firestore.collection()")}}doc(e){try{return new Rr(this,qg(this._delegate,e))}catch(n){throw jn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Dn(this,qQ(this._delegate,e))}catch(n){throw jn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return OX(this._delegate,n=>e(new lF(this,n)))}batch(){return On(this._delegate),new uF(new AX(this._delegate,e=>cp(this._delegate,e)))}loadBundle(e){return eX(this._delegate,e)}namedQuery(e){return tX(this._delegate,e).then(n=>n?new Dn(this,n):null)}}class Qv extends hI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jf(new ki(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Rr.forKey(n,this.firestore,null)}}function VX(t){jK(t)}class lF{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Qv(e)}get(e){const n=hs(e);return this._delegate.get(n).then(r=>new Zf(this._firestore,new fo(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=hs(e);return r?(mI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=hs(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=hs(e);return this._delegate.delete(n),this}}class uF{constructor(e){this._delegate=e}set(e,n,r){const i=hs(e);return r?(mI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=hs(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=hs(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Ws{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new af(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new eh(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Ws.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new Ws(e,new Qv(e),n),i.set(n,o)),o}}Ws.INSTANCES=new WeakMap;class Rr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Qv(e)}static forPath(e,n,r){if(e.length%2!==0)throw new Q("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Rr(n,new wt(n._delegate,r,new oe(e)))}static forKey(e,n,r){return new Rr(n,new wt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Vu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Vu(this.firestore,WV(this._delegate,e))}catch(n){throw jn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=pe(e),e instanceof wt?qV(this._delegate,e):!1}set(e,n){n=mI("DocumentReference.set",n);try{return n?Ck(this._delegate,e,n):Ck(this._delegate,e)}catch(r){throw jn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?Rk(this._delegate,e):Rk(this._delegate,e,n,...r)}catch(i){throw jn(i,"updateDoc()","DocumentReference.update()")}}delete(){return EX(this._delegate)}onSnapshot(...e){const n=cF(e),r=dF(e,i=>new Zf(this.firestore,new fo(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return aF(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=vX(this._delegate):(e==null?void 0:e.source)==="server"?n=_X(this._delegate):n=yX(this._delegate),n.then(r=>new Zf(this.firestore,new fo(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Rr(this.firestore,e?this._delegate.withConverter(Ws.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function jn(t,e,n){return t.message=t.message.replace(e,n),t}function cF(t){for(const e of t)if(typeof e=="object"&&!ux(e))return e;return{}}function dF(t,e){var n,r;let i;return ux(t[0])?i=t[0]:ux(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Zf{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Rr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return oF(this._delegate,e._delegate)}}class eh extends Zf{data(e){const n=this._delegate.data(e);return this._delegate._converter||MK(n!==void 0),n}}class Dn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Qv(e)}where(e,n,r){try{return new Dn(this.firestore,$o(this._delegate,sX(e,n,r)))}catch(i){throw jn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Dn(this.firestore,$o(this._delegate,lX(e,n)))}catch(r){throw jn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Dn(this.firestore,$o(this._delegate,uX(e)))}catch(n){throw jn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Dn(this.firestore,$o(this._delegate,cX(e)))}catch(n){throw jn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Dn(this.firestore,$o(this._delegate,dX(...e)))}catch(n){throw jn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Dn(this.firestore,$o(this._delegate,fX(...e)))}catch(n){throw jn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Dn(this.firestore,$o(this._delegate,hX(...e)))}catch(n){throw jn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Dn(this.firestore,$o(this._delegate,pX(...e)))}catch(n){throw jn(n,"endAt()","Query.endAt()")}}isEqual(e){return GV(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=wX(this._delegate):(e==null?void 0:e.source)==="server"?n=xX(this._delegate):n=bX(this._delegate),n.then(r=>new cx(this.firestore,new Ea(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=cF(e),r=dF(e,i=>new cx(this.firestore,new Ea(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return aF(this._delegate,n,r)}withConverter(e){return new Dn(this.firestore,e?this._delegate.withConverter(Ws.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class FX{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new eh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class cx{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Dn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new eh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new FX(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new eh(this._firestore,r))})}isEqual(e){return oF(this._delegate,e._delegate)}}class Vu extends Dn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Rr(this.firestore,e):null}doc(e){try{return e===void 0?new Rr(this.firestore,qg(this._delegate)):new Rr(this.firestore,qg(this._delegate,e))}catch(n){throw jn(n,"doc()","CollectionReference.doc()")}}add(e){return TX(this._delegate,e).then(n=>new Rr(this.firestore,n))}isEqual(e){return qV(this._delegate,e._delegate)}withConverter(e){return new Vu(this.firestore,e?this._delegate.withConverter(Ws.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function hs(t){return Me(t,wt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(...e){this._delegate=new xa(...e)}static documentId(){return new gI(ft.keyField().canonicalString())}isEqual(e){return e=pe(e),e instanceof xa?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this._delegate=e}static serverTimestamp(){const e=CX();return e._methodName="FieldValue.serverTimestamp",new as(e)}static delete(){const e=kX();return e._methodName="FieldValue.delete",new as(e)}static arrayUnion(...e){const n=RX(...e);return n._methodName="FieldValue.arrayUnion",new as(n)}static arrayRemove(...e){const n=NX(...e);return n._methodName="FieldValue.arrayRemove",new as(n)}static increment(e){const n=DX(e);return n._methodName="FieldValue.increment",new as(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BX={Firestore:sF,GeoPoint:Bv,Timestamp:mt,Blob:Jf,Transaction:lF,WriteBatch:uF,DocumentReference:Rr,DocumentSnapshot:Zf,Query:Dn,QueryDocumentSnapshot:eh,QuerySnapshot:cx,CollectionReference:Vu,FieldPath:gI,FieldValue:as,setLogLevel:VX,CACHE_SIZE_UNLIMITED:KQ};function UX(t,e){t.INTERNAL.registerComponent(new zn("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},BX)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zX(t){UX(t,(e,n)=>new sF(e,n,new LX)),t.registerVersion(jX,MX)}zX(Fr);const fF="@firebase/installations",yI="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=1e4,pF=`w:${yI}`,mF="FIS_v2",WX="https://firebaseinstallations.googleapis.com/v1",qX=60*60*1e3,GX="installations",KX="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HX={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},qs=new vo(GX,KX,HX);function gF(t){return t instanceof yn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF({projectId:t}){return`${WX}/projects/${t}/installations`}function vF(t){return{token:t.token,requestStatus:2,expiresIn:QX(t.expiresIn),creationTime:Date.now()}}async function _F(t,e){const r=(await e.json()).error;return qs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function bF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function YX(t,{refreshToken:e}){const n=bF(t);return n.append("Authorization",XX(e)),n}async function wF(t){const e=await t();return e.status>=500&&e.status<600?t():e}function QX(t){return Number(t.replace("s","000"))}function XX(t){return`${mF} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JX({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=yF(t),i=bF(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:n,authVersion:mF,appId:t.appId,sdkVersion:pF},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await wF(()=>fetch(r,s));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:vF(u.authToken)}}else throw await _F("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZX(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eJ=/^[cdef][\w-]{21}$/,dx="";function tJ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=nJ(t);return eJ.test(n)?n:dx}catch{return dx}}function nJ(t){return ZX(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=new Map;function TF(t,e){const n=Xv(t);IF(n,e),rJ(n,e)}function IF(t,e){const n=EF.get(t);if(n)for(const r of n)r(e)}function rJ(t,e){const n=iJ();n&&n.postMessage({key:t,fid:e}),oJ()}let ps=null;function iJ(){return!ps&&"BroadcastChannel"in self&&(ps=new BroadcastChannel("[Firebase] FID Change"),ps.onmessage=t=>{IF(t.data.key,t.data.fid)}),ps}function oJ(){EF.size===0&&ps&&(ps.close(),ps=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aJ="firebase-installations-database",sJ=1,Gs="firebase-installations-store";let eb=null;function vI(){return eb||(eb=$M(aJ,sJ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Gs)}}})),eb}async function Kg(t,e){const n=Xv(t),i=(await vI()).transaction(Gs,"readwrite"),o=i.objectStore(Gs),a=await o.get(n);return await o.put(e,n),await i.done,(!a||a.fid!==e.fid)&&TF(t,e.fid),e}async function SF(t){const e=Xv(t),r=(await vI()).transaction(Gs,"readwrite");await r.objectStore(Gs).delete(e),await r.done}async function Jv(t,e){const n=Xv(t),i=(await vI()).transaction(Gs,"readwrite"),o=i.objectStore(Gs),a=await o.get(n),s=e(a);return s===void 0?await o.delete(n):await o.put(s,n),await i.done,s&&(!a||a.fid!==s.fid)&&TF(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(t){let e;const n=await Jv(t.appConfig,r=>{const i=lJ(r),o=uJ(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===dx?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function lJ(t){const e=t||{fid:tJ(),registrationStatus:0};return AF(e)}function uJ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(qs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=cJ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:dJ(t)}:{installationEntry:e}}async function cJ(t,e){try{const n=await JX(t,e);return Kg(t.appConfig,n)}catch(n){throw gF(n)&&n.customData.serverCode===409?await SF(t.appConfig):await Kg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function dJ(t){let e=await jk(t.appConfig);for(;e.registrationStatus===1;)await xF(100),e=await jk(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await _I(t);return r||n}return e}function jk(t){return Jv(t,e=>{if(!e)throw qs.create("installation-not-found");return AF(e)})}function AF(t){return fJ(t)?{fid:t.fid,registrationStatus:0}:t}function fJ(t){return t.registrationStatus===1&&t.registrationTime+hF<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hJ({appConfig:t,heartbeatServiceProvider:e},n){const r=pJ(t,n),i=YX(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:pF,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await wF(()=>fetch(r,s));if(l.ok){const u=await l.json();return vF(u)}else throw await _F("Generate Auth Token",l)}function pJ(t,{fid:e}){return`${yF(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(t,e=!1){let n;const r=await Jv(t.appConfig,o=>{if(!PF(o))throw qs.create("not-registered");const a=o.authToken;if(!e&&yJ(a))return o;if(a.requestStatus===1)return n=mJ(t,e),o;{if(!navigator.onLine)throw qs.create("app-offline");const s=_J(o);return n=gJ(t,s),s}});return n?await n:r.authToken}async function mJ(t,e){let n=await Mk(t.appConfig);for(;n.authToken.requestStatus===1;)await xF(100),n=await Mk(t.appConfig);const r=n.authToken;return r.requestStatus===0?bI(t,e):r}function Mk(t){return Jv(t,e=>{if(!PF(e))throw qs.create("not-registered");const n=e.authToken;return bJ(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function gJ(t,e){try{const n=await hJ(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Kg(t.appConfig,r),n}catch(n){if(gF(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await SF(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Kg(t.appConfig,r)}throw n}}function PF(t){return t!==void 0&&t.registrationStatus===2}function yJ(t){return t.requestStatus===2&&!vJ(t)}function vJ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+qX}function _J(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function bJ(t){return t.requestStatus===1&&t.requestTime+hF<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wJ(t){const e=t,{installationEntry:n,registrationPromise:r}=await _I(e);return r?r.catch(console.error):bI(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xJ(t,e=!1){const n=t;return await EJ(n),(await bI(n,e)).token}async function EJ(t){const{registrationPromise:e}=await _I(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TJ(t){if(!t||!t.options)throw tb("App Configuration");if(!t.name)throw tb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw tb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function tb(t){return qs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF="installations",IJ="installations-internal",SJ=t=>{const e=t.getProvider("app").getImmediate(),n=TJ(e),r=gv(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},AJ=t=>{const e=t.getProvider("app").getImmediate(),n=gv(e,OF).getImmediate();return{getId:()=>wJ(n),getToken:i=>xJ(n,i)}};function PJ(){Vr(new zn(OF,SJ,"PUBLIC")),Vr(new zn(IJ,AJ,"PRIVATE"))}PJ();Fn(fF,yI);Fn(fF,yI,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="analytics",OJ="firebase_id",kJ="origin",CJ=60*1e3,RJ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wI="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new Wh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NJ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vr=new vo("analytics","Analytics",NJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DJ(t){if(!t.startsWith(wI)){const e=vr.create("invalid-gtag-resource",{gtagURL:t});return ln.warn(e.message),""}return t}function kF(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function jJ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function MJ(t,e){const n=jJ("firebase-js-sdk-policy",{createScriptURL:DJ}),r=document.createElement("script"),i=`${wI}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function $J(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function LJ(t,e,n,r,i,o){const a=r[i];try{if(a)await e[a];else{const l=(await kF(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(s){ln.error(s)}t("config",i,o)}async function VJ(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const s=await kF(n);for(const l of a){const u=s.find(c=>c.measurementId===l),d=u&&e[u.appId];if(d)o.push(d);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){ln.error(o)}}function FJ(t,e,n,r){async function i(o,...a){try{if(o==="event"){const[s,l]=a;await VJ(t,e,n,s,l)}else if(o==="config"){const[s,l]=a;await LJ(t,e,n,r,s,l)}else if(o==="consent"){const[s,l]=a;t("consent",s,l)}else if(o==="get"){const[s,l,u]=a;t("get",s,l,u)}else if(o==="set"){const[s]=a;t("set",s)}else t(o,...a)}catch(s){ln.error(s)}}return i}function BJ(t,e,n,r,i){let o=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=FJ(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function UJ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(wI)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zJ=30,WJ=1e3;class qJ{constructor(e={},n=WJ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const CF=new qJ;function GJ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function KJ(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:GJ(r)},o=RJ.replace("{app-id}",n),a=await fetch(o,i);if(a.status!==200&&a.status!==304){let s="";try{const l=await a.json();!((e=l.error)===null||e===void 0)&&e.message&&(s=l.error.message)}catch{}throw vr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s})}return a.json()}async function HJ(t,e=CF,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw vr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw vr.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new XJ;return setTimeout(async()=>{s.abort()},CJ),RF({appId:r,apiKey:i,measurementId:o},a,s,e)}async function RF(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=CF){var o;const{appId:a,measurementId:s}=t;try{await YJ(r,e)}catch(l){if(s)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await KJ(t);return i.deleteThrottleMetadata(a),l}catch(l){const u=l;if(!QJ(u)){if(i.deleteThrottleMetadata(a),s)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:s};throw l}const d=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?qP(n,i.intervalMillis,zJ):qP(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(a,c),ln.debug(`Calling attemptFetch again in ${d} millis`),RF(t,c,r,i)}}function YJ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(vr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function QJ(t){if(!(t instanceof yn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class XJ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function JJ(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,a=Object.assign(Object.assign({},r),{send_to:o});t("event",n,a)}}async function ZJ(t,e,n,r){if(r&&r.global)return t("set",{screen_name:n}),Promise.resolve();{const i=await e;t("config",i,{update:!0,screen_name:n})}}async function eZ(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();{const i=await e;t("config",i,{update:!0,user_id:n})}}async function tZ(t,e,n,r){if(r&&r.global){const i={};for(const o of Object.keys(n))i[`user_properties.${o}`]=n[o];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}async function nZ(t,e){const n=await t;window[`ga-disable-${n}`]=!e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rZ(){if(Rs())try{await UT()}catch(t){return ln.warn(vr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return ln.warn(vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function iZ(t,e,n,r,i,o,a){var s;const l=HJ(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>ln.error(p)),e.push(l);const u=rZ().then(p=>{if(p)return r.getId()}),[d,c]=await Promise.all([l,u]);UJ(o)||MJ(o,d.measurementId),i("js",new Date);const h=(s=a==null?void 0:a.config)!==null&&s!==void 0?s:{};return h[kJ]="firebase",h.update=!0,c!=null&&(h[OJ]=c),i("config",d.measurementId,h),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oZ=class{constructor(e){this.app=e}_delete(){return delete Zi[this.app.options.appId],Promise.resolve()}},Zi={},Lk=[];const Vk={};let Qm="dataLayer",NF="gtag",Fk,dp,fx=!1;function aZ(t){if(fx)throw vr.create("already-initialized");t.dataLayerName&&(Qm=t.dataLayerName),t.gtagName&&(NF=t.gtagName)}function sZ(){const t=[];if(mv()&&t.push("This is a browser extension environment."),CM()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=vr.create("invalid-analytics-context",{errorInfo:e});ln.warn(n.message)}}function lZ(t,e,n){sZ();const r=t.options.appId;if(!r)throw vr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vr.create("no-api-key");if(Zi[r]!=null)throw vr.create("already-exists",{id:r});if(!fx){$J(Qm);const{wrappedGtag:o,gtagCore:a}=BJ(Zi,Lk,Vk,Qm,NF);dp=o,Fk=a,fx=!0}return Zi[r]=iZ(t,Lk,Vk,e,Fk,Qm,n),new oZ(t)}async function uZ(){if(mv()||!CM()||!Rs())return!1;try{return await UT()}catch{return!1}}function cZ(t,e,n){t=pe(t),ZJ(dp,Zi[t.app.options.appId],e,n).catch(r=>ln.error(r))}function dZ(t,e,n){t=pe(t),eZ(dp,Zi[t.app.options.appId],e,n).catch(r=>ln.error(r))}function fZ(t,e,n){t=pe(t),tZ(dp,Zi[t.app.options.appId],e,n).catch(r=>ln.error(r))}function hZ(t,e){t=pe(t),nZ(Zi[t.app.options.appId],e).catch(n=>ln.error(n))}function DF(t,e,n,r){t=pe(t),JJ(dp,Zi[t.app.options.appId],e,n,r).catch(i=>ln.error(i))}const Bk="@firebase/analytics",Uk="0.10.8";function pZ(){Vr(new zn($k,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return lZ(r,i,n)},"PUBLIC")),Vr(new zn("analytics-internal",t,"PRIVATE")),Fn(Bk,Uk),Fn(Bk,Uk,"esm2017");function t(e){try{const n=e.getProvider($k).getImmediate();return{logEvent:(r,i,o)=>DF(n,r,i,o)}}catch(n){throw vr.create("interop-component-reg-failed",{reason:n})}}}pZ();const mZ="@firebase/analytics-compat",gZ="0.2.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n){this.app=e,this._delegate=n}logEvent(e,n,r){DF(this._delegate,e,n,r)}setCurrentScreen(e,n){cZ(this._delegate,e,n)}setUserId(e,n){dZ(this._delegate,e,n)}setUserProperties(e,n){fZ(this._delegate,e,n)}setAnalyticsCollectionEnabled(e){hZ(this._delegate,e)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hx;(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"})(hx||(hx={}));/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yZ=t=>{const e=t.getProvider("app-compat").getImmediate(),n=t.getProvider("analytics").getImmediate();return new jF(e,n)};function vZ(){const t={Analytics:jF,settings:aZ,isSupported:uZ,EventName:hx};Fr.INTERNAL.registerComponent(new zn("analytics-compat",yZ,"PUBLIC").setServiceProps(t).setMultipleInstances(!0))}vZ();Fr.registerVersion(mZ,gZ);const _Z={apiKey:"AIzaSyA89eqGp7ogwSP_p5qQHlz-B-nsZg47iPs",authDomain:"carcashpro.firebaseapp.com",projectId:"carcashpro",storageBucket:"carcashpro.firebasestorage.app",messagingSenderId:"133666049852",appId:"1:133666049852:web:ef6e21aca3fa85834f1839",measurementId:"G-F7R8GVDLE2"};Fr.apps.length||Fr.initializeApp(_Z);const Li=Fr.auth(),ui=Fr.firestore();Fr.analytics();const MF=j.createContext(void 0),zk=["info@carcashpro.com","eoutcalt@gmail.com"],bZ=({children:t})=>{const[e,n]=j.useState(null),[r,i]=j.useState(!0),[o,a]=j.useState([]),[s,l]=j.useState(Nd),[u,d]=j.useState(Mm),[c,h]=j.useState($m),[p,y]=j.useState(!1),[g,v]=j.useState(!1),[b,_]=j.useState(0);j.useEffect(()=>{!g&&p&&typeof window<"u"&&window.fbq&&window.fbq("track","Purchase",{value:9.99,currency:"USD",content_name:"CarCashPro Pro Subscription"}),v(p)},[p]);const[x,P]=j.useState({unitsMTD:0,totalGross:0,commissionMTD:0,bonuses:0,chargebacks:0,projectedIncome:0,projectedUnits:0,incomeVariance:0,unitVariance:0});j.useEffect(()=>{const Y=Li.onAuthStateChanged(async ge=>{if(ge){const Ie=zk.includes(ge.email||"");n(me=>({...me,id:ge.uid,email:ge.email||"",isAdmin:Ie}));const Le=ui.collection("users").doc(ge.uid),gt=Le.onSnapshot(me=>{if(me.exists){const de=me.data();de.payPlan&&l(K=>({...Nd,...de.payPlan})),de.goals&&d(de.goals),de.achievements&&h(de.achievements),de.isPro!==void 0&&y(de.isPro),n(K=>K?{...K,firstName:de.firstName||K.firstName,lastName:de.lastName||K.lastName,phone:de.phone||K.phone,notifications:de.notifications||{emailDailyPace:!0,emailWeeklySummary:!0,emailAchievements:!0},lastPaceEmailDate:de.lastPaceEmailDate,isAdmin:zk.includes(K.email)}:null)}else Le.set({payPlan:Nd,goals:Mm,achievements:$m,isPro:!1,notifications:{emailDailyPace:!0,emailWeeklySummary:!0,emailAchievements:!0}},{merge:!0})}),ie=ui.collection("users").doc(ge.uid).collection("deals").onSnapshot(me=>{const de=me.docs.map(K=>({id:K.id,...K.data()}));de.sort((K,De)=>new Date(De.deliveryDate).getTime()-new Date(K.deliveryDate).getTime()),a(de),i(!1)});return()=>{gt(),ie()}}else n(null),a([]),i(!1)});return()=>Y()},[]),j.useEffect(()=>{E()},[o,s,u]);const E=()=>{const Y=new Date,ge=Y.getMonth(),Ie=Y.getFullYear(),Le=new Date(Ie,ge+1,0).getDate(),gt=Math.max(1,Y.getDate()),yt=o.filter(cn=>{const Rt=new Date(cn.deliveryDate);return Rt.getMonth()===ge&&Rt.getFullYear()===Ie}),ie=yt.length;let me=0,de=0,K=0;yt.forEach(cn=>{me+=cn.frontGross+cn.backGross+(cn.financeGross||0),K+=cn.chargeback,de+=$F(cn,s)});let De=0;const Qe=[...s.volumeBonuses].sort((cn,Rt)=>Rt.units-cn.units).find(cn=>ie>=cn.units);Qe&&(De=Qe.bonus);const Xe=de+De;let Wt=0,Kn=0;const Tr=Math.max(1,gt),qr=Le/Tr;ie>0?(Wt=Math.round(ie*qr),Kn=Math.round(Xe*qr)):Kn=Math.round(u.assumedAvgCommission*u.newUnitsGoal);const lr=Tr/Le,Gr=Math.round(u.incomeGoal*lr),ji=u.newUnitsGoal+u.usedUnitsGoal,Oo=Math.round(ji*lr);P({unitsMTD:ie,totalGross:me,commissionMTD:Xe,bonuses:De,chargebacks:K,projectedIncome:Kn,projectedUnits:Wt,incomeVariance:Math.round(Xe-Gr),unitVariance:Math.round(ie-Oo)})},A=async(Y,ge)=>await Li.signInWithEmailAndPassword(Y,ge),T=async(Y,ge,Ie,Le="",gt="")=>{const yt=await Li.createUserWithEmailAndPassword(Y,ge);yt.user&&(await ui.collection("users").doc(yt.user.uid).set({firstName:Ie,lastName:Le,phone:gt,email:Y,payPlan:Nd,goals:Mm,achievements:$m,isPro:!1,notifications:{emailDailyPace:!0,emailWeeklySummary:!0,emailAchievements:!0},createdAt:new Date().toISOString()}),typeof window<"u"&&window.fbq&&window.fbq("track","CompleteRegistration"))},I=async()=>await Li.signOut(),O=async Y=>await Li.sendPasswordResetEmail(Y),C=async Y=>{Li.currentUser&&await Li.currentUser.updateEmail(Y)},R=async Y=>{Li.currentUser&&await Li.currentUser.updatePassword(Y)},k=async Y=>{if(!e)throw new Error("No user");const ge=ui.collection("users").doc(e.id).collection("deals").doc(),Ie={...Y,id:ge.id,createdAt:new Date().toISOString()};await ge.set(Ie)},N=async Y=>{if(!e)throw new Error("No user");await ui.collection("users").doc(e.id).collection("deals").doc(Y.id).update({...Y})},U=async Y=>{if(!e)throw new Error("No user");await ui.collection("users").doc(e.id).collection("deals").doc(Y).delete()},z=async Y=>{e&&(l(Y),await ui.collection("users").doc(e.id).update({payPlan:Y}))},G=async Y=>{e&&(d(Y),await ui.collection("users").doc(e.id).update({goals:Y}))},H=async Y=>{e&&await ui.collection("users").doc(e.id).update({notifications:Y})},V=async()=>{if(typeof window<"u"){const{STRIPE_PAYMENT_LINK:Y}=await B9(async()=>{const{STRIPE_PAYMENT_LINK:ge}=await Promise.resolve().then(()=>U9);return{STRIPE_PAYMENT_LINK:ge}},void 0);window.open(Y,"_blank")}},q=async()=>e?(await ui.collection("mail").add({to:[e.email],message:{subject:"Test Email",html:"<p>It Works!</p>"}})).id:void 0,J=()=>JSON.stringify({deals:o,payPlan:s,goals:u},null,2),se=Y=>!1,Z=()=>_(Y=>Y+1);return m.jsx(MF.Provider,{value:{user:e,loading:r,login:A,signup:T,logout:I,resetPassword:O,updateUserEmail:C,updateUserPassword:R,deals:o,payPlan:s,goals:u,stats:x,achievements:c,addDeal:k,updateDeal:N,deleteDeal:U,updatePayPlan:z,updateGoals:G,updateNotifications:H,isPro:p,togglePro:V,sendTestEmail:q,exportData:J,importData:se,newDealTrigger:b,triggerNewDeal:Z},children:t})},kn=()=>{const t=j.useContext(MF);if(!t)throw new Error("useApp must be used within AppProvider");return t},$F=(t,e)=>{const n=s=>{const l=parseFloat(s);return isNaN(l)?0:l};let r=0;if(t.overrideFront!==void 0&&t.overrideFront>0)r=t.overrideFront;else{const s=t.pack!==void 0&&t.pack!==null?t.pack:e.pack;r=Math.max(0,t.frontGross-s)*(e.frontCommissionPercent/100)}let i=0;t.overrideBack!==void 0&&t.overrideBack>0?i=t.overrideBack:i=t.backGross*(e.backCommissionPercent/100);let o=0;return t.overrideReserve!==void 0&&t.overrideReserve>0?o=t.overrideReserve:e.financeReserve.mode==="flat"?(t.financeGross||0)>0&&(o=e.financeReserve.value):o=(t.financeGross||0)*(e.financeReserve.value/100),r+i+o+n(t.flat)+n(t.spiffs)-n(t.chargeback)};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Te=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},d)=>j.createElement("svg",{ref:d,...wZ,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${xZ(t)}`,s].join(" "),...u},[...e.map(([c,h])=>j.createElement(c,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=Te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=Te("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=Te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=Te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=Te("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=Te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=Te("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=Te("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=Te("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=Te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=Te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=Te("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=Te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=Te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=Te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=Te("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=Te("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=Te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=Te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=Te("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=Te("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=Te("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=Te("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=Te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=Te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=Te("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=Te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=Te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ci=({className:t="w-32 h-32"})=>m.jsxs("div",{className:`relative flex flex-col items-center ${t}`,children:[m.jsxs("svg",{viewBox:"0 0 100 120",className:"w-full h-full drop-shadow-[0_0_15px_rgba(59,130,246,0.5)]",children:[m.jsxs("defs",{children:[m.jsxs("linearGradient",{id:"shieldGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[m.jsx("stop",{offset:"0%",stopColor:"#1e293b"}),m.jsx("stop",{offset:"50%",stopColor:"#0f172a"}),m.jsx("stop",{offset:"100%",stopColor:"#020617"})]}),m.jsxs("linearGradient",{id:"borderGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[m.jsx("stop",{offset:"0%",stopColor:"#60a5fa"}),m.jsx("stop",{offset:"100%",stopColor:"#3b82f6"})]})]}),m.jsx("path",{d:"M50 115 C50 115, 90 95, 90 40 L90 20 L50 5 L10 20 L10 40 C10 95, 50 115, 50 115 Z",fill:"none",stroke:"url(#borderGrad)",strokeWidth:"3"}),m.jsx("path",{d:"M50 112 C50 112, 87 93, 87 41 L87 22 L50 8 L13 22 L13 41 C13 93, 50 112, 50 112 Z",fill:"url(#shieldGrad)",opacity:"0.9"}),m.jsx("path",{d:"M25 55 L30 45 L60 42 L75 45 L80 55 M22 55 L83 55 L83 65 L75 65 L70 58 L35 58 L30 65 L22 65 Z",fill:"none",stroke:"#94a3b8",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("text",{x:"50",y:"95",fontSize:"40",fontWeight:"bold",fill:"#3b82f6",textAnchor:"middle",style:{filter:"drop-shadow(0 0 5px rgba(59,130,246,0.5))"},children:"$"}),m.jsx("path",{d:"M30 75 L70 75",stroke:"#3b82f6",strokeWidth:"2",opacity:"0.5"})]}),m.jsx("div",{className:"mt-2 font-black text-2xl tracking-widest bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400",style:{fontFamily:"Impact, sans-serif"},children:"CCP"})]}),ut=({children:t,className:e="",onClick:n})=>m.jsx("div",{onClick:n,className:`bg-white/5 backdrop-blur-lg border border-white/10 rounded-3xl p-5 shadow-xl ${e}`,children:t}),sm=({label:t,value:e,subtext:n,accent:r="blue"})=>{const i={blue:"text-blue-400",emerald:"text-emerald-400",rose:"text-rose-400",amber:"text-amber-400"};return m.jsxs(ut,{className:"flex flex-col justify-between h-full bg-gradient-to-br from-slate-800/50 to-slate-900/50",children:[m.jsx("span",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-widest",children:t}),m.jsxs("div",{className:"mt-2",children:[m.jsx("div",{className:`text-2xl font-bold ${i[r]} drop-shadow-sm`,children:e}),n&&m.jsx("div",{className:"text-[10px] text-slate-500 mt-1 font-medium",children:n})]})]})},Ut=({children:t,variant:e="primary",className:n="",onClick:r,type:i="button",...o})=>{const a="w-full py-4 rounded-2xl font-bold tracking-wide transition-all duration-200 active:scale-95 flex items-center justify-center gap-2",s={primary:"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white shadow-lg shadow-blue-500/20 border border-blue-400/20",secondary:"bg-slate-700 hover:bg-slate-600 text-white border border-white/5",outline:"border-2 border-slate-700 text-slate-300 hover:bg-slate-800 hover:border-slate-600",danger:"bg-rose-900/30 text-rose-400 hover:bg-rose-900/50 border border-rose-500/30",ghost:"text-slate-400 hover:text-white"};return m.jsx("button",{type:i,onClick:r,className:`${a} ${s[e]} ${n}`,...o,children:t})},He=({label:t,type:e="text",value:n,onChange:r,placeholder:i,name:o,...a})=>m.jsxs("div",{className:"mb-4 group",children:[m.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-2 uppercase ml-1 group-focus-within:text-blue-400 transition-colors",children:t}),m.jsx("input",{name:o,type:e,value:n,onChange:r,placeholder:i,className:"w-full bg-slate-900/80 border border-white/10 rounded-xl px-4 py-3.5 text-white placeholder-slate-600 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all appearance-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none shadow-inner",...a})]}),UF=({label:t,value:e,onChange:n,options:r,...i})=>m.jsxs("div",{className:"mb-4 group",children:[m.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-2 uppercase ml-1 group-focus-within:text-blue-400 transition-colors",children:t}),m.jsxs("div",{className:"relative",children:[m.jsx("select",{value:e,onChange:n,className:"w-full bg-slate-900/80 border border-white/10 rounded-xl px-4 py-3.5 text-white focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 appearance-none transition-all shadow-inner",...i,children:r.map(o=>m.jsx("option",{value:o.value,className:"bg-slate-800 text-white py-2",children:o.label},o.value))}),m.jsx("div",{className:"absolute right-4 top-4 pointer-events-none text-slate-500 group-focus-within:text-blue-400",children:m.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"m6 9 6 6 6-6"})})})]})]}),Xm=({label:t,checked:e,onChange:n})=>m.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl mb-2 border cursor-pointer transition-all duration-200 ${e?"bg-blue-900/20 border-blue-500/30":"bg-slate-800/30 border-white/5 hover:bg-slate-800/50"}`,onClick:n,children:[m.jsx("span",{className:`text-sm font-bold ${e?"text-blue-200":"text-slate-400"}`,children:t}),m.jsx("div",{className:`w-12 h-7 rounded-full p-1 transition-colors duration-300 relative ${e?"bg-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.4)]":"bg-slate-700"}`,children:m.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-sm transition-transform duration-300 ${e?"translate-x-5":"translate-x-0"}`})})]}),To=({title:t,subtitle:e,rightElement:n})=>m.jsxs("div",{className:"flex justify-between items-start mb-8 px-1",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-black text-white tracking-tight drop-shadow-md",children:t}),e&&m.jsx("p",{className:"text-blue-400 text-xs font-bold uppercase tracking-wider mt-1",children:e})]}),n]}),KZ=({children:t})=>{const{triggerNewDeal:e,logout:n}=kn(),r=nl(),i=o=>{r.pathname==="/deals"&&(o.preventDefault(),e())};return m.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 flex font-sans overflow-hidden",children:[m.jsxs("aside",{className:"hidden md:flex w-64 flex-col bg-slate-900 border-r border-white/5 h-screen shrink-0",children:[m.jsx("div",{className:"p-6 flex items-center justify-center border-b border-white/5",children:m.jsx(Ci,{className:"w-20 h-20"})}),m.jsxs("nav",{className:"flex-1 overflow-y-auto py-6 px-4 space-y-2",children:[m.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest px-4 mb-2",children:"Main Menu"}),m.jsx(Vi,{to:"/",icon:m.jsx(qk,{size:20}),label:"Dashboard"}),m.jsx(Vi,{to:"/deals",icon:m.jsx(Gk,{size:20}),label:"Deals",onClick:i}),m.jsx(Vi,{to:"/pace",icon:m.jsx(Fu,{size:20}),label:"Pace & Goals"}),m.jsx(Vi,{to:"/monitor",icon:m.jsx(Wk,{size:20}),label:"Monitor"}),m.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest px-4 mb-2 mt-8",children:"Configuration"}),m.jsx(Vi,{to:"/payplan",icon:m.jsx(VF,{size:20}),label:"Pay Plan"}),m.jsx(Vi,{to:"/goals",icon:m.jsx(TI,{size:20}),label:"Goals"}),m.jsx(Vi,{to:"/achievements",icon:m.jsx(LF,{size:20}),label:"Achievements"}),m.jsx(Vi,{to:"/profile",icon:m.jsx(nh,{size:20}),label:"Profile"}),m.jsx(Vi,{to:"/settings",icon:m.jsx(BZ,{size:20}),label:"Settings"})]}),m.jsx("div",{className:"p-4 border-t border-white/5",children:m.jsxs("button",{onClick:()=>n(),className:"flex items-center gap-3 w-full px-4 py-3 text-sm font-medium text-slate-400 hover:text-rose-400 hover:bg-rose-500/10 rounded-xl transition-all",children:[m.jsx(FF,{size:20}),"Sign Out"]})})]}),m.jsx("main",{className:"flex-1 flex flex-col h-screen overflow-hidden relative",children:m.jsx("div",{className:"flex-1 overflow-y-auto pb-24 md:pb-0 scroll-smooth no-scrollbar md:custom-scrollbar",children:m.jsx("div",{className:"max-w-md md:max-w-7xl mx-auto w-full md:p-8",children:t})})}),m.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50",children:m.jsx("div",{className:"max-w-md mx-auto",children:m.jsxs("nav",{className:"bg-slate-900/90 backdrop-blur-xl border-t border-white/10 px-6 py-4 flex justify-between items-center text-xs font-medium pb-8",children:[m.jsx(lm,{to:"/",icon:m.jsx(qk,{size:24}),label:"Dash"}),m.jsx(lm,{to:"/deals",icon:m.jsx(Gk,{size:24}),label:"Deals",onClick:i}),m.jsx($T,{to:"/pace",className:({isActive:o})=>`flex flex-col items-center justify-center w-14 h-14 -mt-8 rounded-full shadow-lg border-4 border-slate-900 transition-transform ${o?"bg-emerald-500 text-white scale-110 shadow-emerald-500/30":"bg-slate-800 text-slate-400 border-slate-800"}`,children:m.jsx(Fu,{size:24})}),m.jsx(lm,{to:"/monitor",icon:m.jsx(Wk,{size:24}),label:"Monitor"}),m.jsx(lm,{to:"/profile",icon:m.jsx(nh,{size:24}),label:"Profile"})]})})})]})},lm=({to:t,icon:e,label:n,onClick:r})=>m.jsxs($T,{to:t,onClick:r,className:({isActive:i})=>`flex flex-col items-center gap-1 transition-colors duration-200 ${i?"text-blue-400":"text-slate-500 hover:text-slate-300"}`,children:[e,m.jsx("span",{children:n})]}),Vi=({to:t,icon:e,label:n,onClick:r})=>m.jsxs($T,{to:t,onClick:r,className:({isActive:i})=>`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 text-sm font-medium ${i?"bg-blue-600/10 text-blue-400 border border-blue-500/20":"text-slate-400 hover:bg-white/5 hover:text-slate-200"}`,children:[e,m.jsx("span",{children:n})]});function zF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=zF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ee(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=zF(t))&&(r&&(r+=" "),r+=e);return r}var HZ=Array.isArray,sr=HZ,YZ=typeof Mp=="object"&&Mp&&Mp.Object===Object&&Mp,WF=YZ,QZ=WF,XZ=typeof self=="object"&&self&&self.Object===Object&&self,JZ=QZ||XZ||Function("return this")(),Di=JZ,ZZ=Di,eee=ZZ.Symbol,hp=eee,Hk=hp,qF=Object.prototype,tee=qF.hasOwnProperty,nee=qF.toString,yd=Hk?Hk.toStringTag:void 0;function ree(t){var e=tee.call(t,yd),n=t[yd];try{t[yd]=void 0;var r=!0}catch{}var i=nee.call(t);return r&&(e?t[yd]=n:delete t[yd]),i}var iee=ree,oee=Object.prototype,aee=oee.toString;function see(t){return aee.call(t)}var lee=see,Yk=hp,uee=iee,cee=lee,dee="[object Null]",fee="[object Undefined]",Qk=Yk?Yk.toStringTag:void 0;function hee(t){return t==null?t===void 0?fee:dee:Qk&&Qk in Object(t)?uee(t):cee(t)}var Io=hee;function pee(t){return t!=null&&typeof t=="object"}var So=pee,mee=Io,gee=So,yee="[object Symbol]";function vee(t){return typeof t=="symbol"||gee(t)&&mee(t)==yee}var Oc=vee,_ee=sr,bee=Oc,wee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xee=/^\w*$/;function Eee(t,e){if(_ee(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||bee(t)?!0:xee.test(t)||!wee.test(t)||e!=null&&t in Object(e)}var II=Eee;function Tee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Da=Tee;const kc=Ge(Da);var Iee=Io,See=Da,Aee="[object AsyncFunction]",Pee="[object Function]",Oee="[object GeneratorFunction]",kee="[object Proxy]";function Cee(t){if(!See(t))return!1;var e=Iee(t);return e==Pee||e==Oee||e==Aee||e==kee}var SI=Cee;const _e=Ge(SI);var Ree=Di,Nee=Ree["__core-js_shared__"],Dee=Nee,nb=Dee,Xk=function(){var t=/[^.]+$/.exec(nb&&nb.keys&&nb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function jee(t){return!!Xk&&Xk in t}var Mee=jee,$ee=Function.prototype,Lee=$ee.toString;function Vee(t){if(t!=null){try{return Lee.call(t)}catch{}try{return t+""}catch{}}return""}var GF=Vee,Fee=SI,Bee=Mee,Uee=Da,zee=GF,Wee=/[\\^$.*+?()[\]{}|]/g,qee=/^\[object .+?Constructor\]$/,Gee=Function.prototype,Kee=Object.prototype,Hee=Gee.toString,Yee=Kee.hasOwnProperty,Qee=RegExp("^"+Hee.call(Yee).replace(Wee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xee(t){if(!Uee(t)||Bee(t))return!1;var e=Fee(t)?Qee:qee;return e.test(zee(t))}var Jee=Xee;function Zee(t,e){return t==null?void 0:t[e]}var ete=Zee,tte=Jee,nte=ete;function rte(t,e){var n=nte(t,e);return tte(n)?n:void 0}var ul=rte,ite=ul,ote=ite(Object,"create"),e0=ote,Jk=e0;function ate(){this.__data__=Jk?Jk(null):{},this.size=0}var ste=ate;function lte(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ute=lte,cte=e0,dte="__lodash_hash_undefined__",fte=Object.prototype,hte=fte.hasOwnProperty;function pte(t){var e=this.__data__;if(cte){var n=e[t];return n===dte?void 0:n}return hte.call(e,t)?e[t]:void 0}var mte=pte,gte=e0,yte=Object.prototype,vte=yte.hasOwnProperty;function _te(t){var e=this.__data__;return gte?e[t]!==void 0:vte.call(e,t)}var bte=_te,wte=e0,xte="__lodash_hash_undefined__";function Ete(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=wte&&e===void 0?xte:e,this}var Tte=Ete,Ite=ste,Ste=ute,Ate=mte,Pte=bte,Ote=Tte;function Cc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cc.prototype.clear=Ite;Cc.prototype.delete=Ste;Cc.prototype.get=Ate;Cc.prototype.has=Pte;Cc.prototype.set=Ote;var kte=Cc;function Cte(){this.__data__=[],this.size=0}var Rte=Cte;function Nte(t,e){return t===e||t!==t&&e!==e}var AI=Nte,Dte=AI;function jte(t,e){for(var n=t.length;n--;)if(Dte(t[n][0],e))return n;return-1}var t0=jte,Mte=t0,$te=Array.prototype,Lte=$te.splice;function Vte(t){var e=this.__data__,n=Mte(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Lte.call(e,n,1),--this.size,!0}var Fte=Vte,Bte=t0;function Ute(t){var e=this.__data__,n=Bte(e,t);return n<0?void 0:e[n][1]}var zte=Ute,Wte=t0;function qte(t){return Wte(this.__data__,t)>-1}var Gte=qte,Kte=t0;function Hte(t,e){var n=this.__data__,r=Kte(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Yte=Hte,Qte=Rte,Xte=Fte,Jte=zte,Zte=Gte,ene=Yte;function Rc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Rc.prototype.clear=Qte;Rc.prototype.delete=Xte;Rc.prototype.get=Jte;Rc.prototype.has=Zte;Rc.prototype.set=ene;var n0=Rc,tne=ul,nne=Di,rne=tne(nne,"Map"),PI=rne,Zk=kte,ine=n0,one=PI;function ane(){this.size=0,this.__data__={hash:new Zk,map:new(one||ine),string:new Zk}}var sne=ane;function lne(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var une=lne,cne=une;function dne(t,e){var n=t.__data__;return cne(e)?n[typeof e=="string"?"string":"hash"]:n.map}var r0=dne,fne=r0;function hne(t){var e=fne(this,t).delete(t);return this.size-=e?1:0,e}var pne=hne,mne=r0;function gne(t){return mne(this,t).get(t)}var yne=gne,vne=r0;function _ne(t){return vne(this,t).has(t)}var bne=_ne,wne=r0;function xne(t,e){var n=wne(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Ene=xne,Tne=sne,Ine=pne,Sne=yne,Ane=bne,Pne=Ene;function Nc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nc.prototype.clear=Tne;Nc.prototype.delete=Ine;Nc.prototype.get=Sne;Nc.prototype.has=Ane;Nc.prototype.set=Pne;var OI=Nc,KF=OI,One="Expected a function";function kI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(One);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(kI.Cache||KF),n}kI.Cache=KF;var HF=kI;const kne=Ge(HF);var Cne=HF,Rne=500;function Nne(t){var e=Cne(t,function(r){return n.size===Rne&&n.clear(),r}),n=e.cache;return e}var Dne=Nne,jne=Dne,Mne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$ne=/\\(\\)?/g,Lne=jne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Mne,function(n,r,i,o){e.push(i?o.replace($ne,"$1"):r||n)}),e}),Vne=Lne;function Fne(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var CI=Fne,eC=hp,Bne=CI,Une=sr,zne=Oc,tC=eC?eC.prototype:void 0,nC=tC?tC.toString:void 0;function YF(t){if(typeof t=="string")return t;if(Une(t))return Bne(t,YF)+"";if(zne(t))return nC?nC.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Wne=YF,qne=Wne;function Gne(t){return t==null?"":qne(t)}var QF=Gne,Kne=sr,Hne=II,Yne=Vne,Qne=QF;function Xne(t,e){return Kne(t)?t:Hne(t,e)?[t]:Yne(Qne(t))}var XF=Xne,Jne=Oc;function Zne(t){if(typeof t=="string"||Jne(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var i0=Zne,ere=XF,tre=i0;function nre(t,e){e=ere(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[tre(e[n++])];return n&&n==r?t:void 0}var RI=nre,rre=RI;function ire(t,e,n){var r=t==null?void 0:rre(t,e);return r===void 0?n:r}var JF=ire;const _r=Ge(JF);function ore(t){return t==null}var are=ore;const we=Ge(are);var sre=Io,lre=sr,ure=So,cre="[object String]";function dre(t){return typeof t=="string"||!lre(t)&&ure(t)&&sre(t)==cre}var fre=dre;const Ks=Ge(fre);var ZF={exports:{}},ze={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NI=Symbol.for("react.element"),DI=Symbol.for("react.portal"),o0=Symbol.for("react.fragment"),a0=Symbol.for("react.strict_mode"),s0=Symbol.for("react.profiler"),l0=Symbol.for("react.provider"),u0=Symbol.for("react.context"),hre=Symbol.for("react.server_context"),c0=Symbol.for("react.forward_ref"),d0=Symbol.for("react.suspense"),f0=Symbol.for("react.suspense_list"),h0=Symbol.for("react.memo"),p0=Symbol.for("react.lazy"),pre=Symbol.for("react.offscreen"),e4;e4=Symbol.for("react.module.reference");function zr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case NI:switch(t=t.type,t){case o0:case s0:case a0:case d0:case f0:return t;default:switch(t=t&&t.$$typeof,t){case hre:case u0:case c0:case p0:case h0:case l0:return t;default:return e}}case DI:return e}}}ze.ContextConsumer=u0;ze.ContextProvider=l0;ze.Element=NI;ze.ForwardRef=c0;ze.Fragment=o0;ze.Lazy=p0;ze.Memo=h0;ze.Portal=DI;ze.Profiler=s0;ze.StrictMode=a0;ze.Suspense=d0;ze.SuspenseList=f0;ze.isAsyncMode=function(){return!1};ze.isConcurrentMode=function(){return!1};ze.isContextConsumer=function(t){return zr(t)===u0};ze.isContextProvider=function(t){return zr(t)===l0};ze.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===NI};ze.isForwardRef=function(t){return zr(t)===c0};ze.isFragment=function(t){return zr(t)===o0};ze.isLazy=function(t){return zr(t)===p0};ze.isMemo=function(t){return zr(t)===h0};ze.isPortal=function(t){return zr(t)===DI};ze.isProfiler=function(t){return zr(t)===s0};ze.isStrictMode=function(t){return zr(t)===a0};ze.isSuspense=function(t){return zr(t)===d0};ze.isSuspenseList=function(t){return zr(t)===f0};ze.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===o0||t===s0||t===a0||t===d0||t===f0||t===pre||typeof t=="object"&&t!==null&&(t.$$typeof===p0||t.$$typeof===h0||t.$$typeof===l0||t.$$typeof===u0||t.$$typeof===c0||t.$$typeof===e4||t.getModuleId!==void 0)};ze.typeOf=zr;ZF.exports=ze;var mre=ZF.exports,gre=Io,yre=So,vre="[object Number]";function _re(t){return typeof t=="number"||yre(t)&&gre(t)==vre}var t4=_re;const bre=Ge(t4);var wre=t4;function xre(t){return wre(t)&&t!=+t}var Ere=xre;const Dc=Ge(Ere);var Mn=function(e){return e===0?0:e>0?1:-1},ms=function(e){return Ks(e)&&e.indexOf("%")===e.length-1},ne=function(e){return bre(e)&&!Dc(e)},Tre=function(e){return we(e)},Qt=function(e){return ne(e)||Ks(e)},Ire=0,jc=function(e){var n=++Ire;return"".concat(e||"").concat(n)},$n=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ne(e)&&!Ks(e))return r;var o;if(ms(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Dc(o)&&(o=r),i&&o>n&&(o=n),o},Nl=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Sre=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Xn=function(e,n){return ne(e)&&ne(n)?function(r){return e+r*(n-e)}:function(){return n}};function Hg(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):_r(r,e))===n})}var Are=function(e,n){return ne(e)&&ne(n)?e-n:Ks(e)&&Ks(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function cu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function px(t){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},px(t)}var Pre=["viewBox","children"],Ore=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rC=["points","pathLength"],rb={svg:Pre,polygon:rC,polyline:rC},jI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Yg=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!kc(r))return null;var i={};return Object.keys(r).forEach(function(o){jI.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},kre=function(e,n,r){return function(i){return e(n,r,i),null}},Hs=function(e,n,r){if(!kc(e)||px(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];jI.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=kre(a,n,r))}),i},Cre=["children"],Rre=["children"];function iC(t,e){if(t==null)return{};var n=Nre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mx(t){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mx(t)}var oC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},eo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},aC=null,ib=null,MI=function t(e){if(e===aC&&Array.isArray(ib))return ib;var n=[];return j.Children.forEach(e,function(r){we(r)||(mre.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),ib=n,aC=e,n};function Mr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return eo(i)}):r=[eo(e)],MI(t).forEach(function(i){var o=_r(i,"type.displayName")||_r(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function fr(t,e){var n=Mr(t,e);return n&&n[0]}var sC=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ne(r)||r<=0||!ne(i)||i<=0)},Dre=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],jre=function(e){return e&&e.type&&Ks(e.type)&&Dre.indexOf(e.type)>=0},Mre=function(e){return e&&mx(e)==="object"&&"clipDot"in e},$re=function(e,n,r,i){var o,a=(o=rb==null?void 0:rb[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!_e(e)&&(i&&a.includes(n)||Ore.includes(n))||r&&jI.includes(n)},ye=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!kc(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;$re((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},gx=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return lC(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!lC(o,a))return!1}return!0},lC=function(e,n){if(we(e)&&we(n))return!0;if(!we(e)&&!we(n)){var r=e.props||{},i=r.children,o=iC(r,Cre),a=n.props||{},s=a.children,l=iC(a,Rre);return i&&s?cu(o,l)&&gx(i,s):!i&&!s?cu(o,l):!1}return!1},uC=function(e,n){var r=[],i={};return MI(e).forEach(function(o,a){if(jre(o))r.push(o);else if(o){var s=eo(o.type),l=n[s]||{},u=l.handler,d=l.once;if(u&&(!d||!i[s])){var c=u(o,s,a);r.push(c),i[s]=!0}}}),r},Lre=function(e){var n=e&&e.type;return n&&oC[n]?oC[n]:null},Vre=function(e,n){return MI(n).indexOf(e)},Fre=["children","width","height","viewBox","className","style","title","desc"];function yx(){return yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yx.apply(this,arguments)}function Bre(t,e){if(t==null)return{};var n=Ure(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ure(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vx(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=Bre(t,Fre),d=i||{width:n,height:r,x:0,y:0},c=Ee("recharts-surface",o);return M.createElement("svg",yx({},ye(u,!0,"svg"),{className:c,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),e)}var zre=["children","className"];function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_x.apply(this,arguments)}function Wre(t,e){if(t==null)return{};var n=qre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Re=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=Wre(t,zre),o=Ee("recharts-layer",r);return M.createElement("g",_x({className:o},ye(i,!0),{ref:e}),n)}),to=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Gre(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Kre=Gre,Hre=Kre;function Yre(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Hre(t,e,n)}var Qre=Yre,Xre="\\ud800-\\udfff",Jre="\\u0300-\\u036f",Zre="\\ufe20-\\ufe2f",eie="\\u20d0-\\u20ff",tie=Jre+Zre+eie,nie="\\ufe0e\\ufe0f",rie="\\u200d",iie=RegExp("["+rie+Xre+tie+nie+"]");function oie(t){return iie.test(t)}var n4=oie;function aie(t){return t.split("")}var sie=aie,r4="\\ud800-\\udfff",lie="\\u0300-\\u036f",uie="\\ufe20-\\ufe2f",cie="\\u20d0-\\u20ff",die=lie+uie+cie,fie="\\ufe0e\\ufe0f",hie="["+r4+"]",bx="["+die+"]",wx="\\ud83c[\\udffb-\\udfff]",pie="(?:"+bx+"|"+wx+")",i4="[^"+r4+"]",o4="(?:\\ud83c[\\udde6-\\uddff]){2}",a4="[\\ud800-\\udbff][\\udc00-\\udfff]",mie="\\u200d",s4=pie+"?",l4="["+fie+"]?",gie="(?:"+mie+"(?:"+[i4,o4,a4].join("|")+")"+l4+s4+")*",yie=l4+s4+gie,vie="(?:"+[i4+bx+"?",bx,o4,a4,hie].join("|")+")",_ie=RegExp(wx+"(?="+wx+")|"+vie+yie,"g");function bie(t){return t.match(_ie)||[]}var wie=bie,xie=sie,Eie=n4,Tie=wie;function Iie(t){return Eie(t)?Tie(t):xie(t)}var Sie=Iie,Aie=Qre,Pie=n4,Oie=Sie,kie=QF;function Cie(t){return function(e){e=kie(e);var n=Pie(e)?Oie(e):void 0,r=n?n[0]:e.charAt(0),i=n?Aie(n,1).join(""):e.slice(1);return r[t]()+i}}var Rie=Cie,Nie=Rie,Die=Nie("toUpperCase"),jie=Die;const m0=Ge(jie);function Ze(t){return function(){return t}}const u4=Math.cos,Qg=Math.sin,ai=Math.sqrt,Xg=Math.PI,g0=2*Xg,xx=Math.PI,Ex=2*xx,Ja=1e-6,Mie=Ex-Ja;function c4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function $ie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return c4;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Lie{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?c4:$ie(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,d=a-e,c=s-n,h=d*d+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Ja)if(!(Math.abs(c*l-u*d)>Ja)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,y=i-s,g=l*l+u*u,v=p*p+y*y,b=Math.sqrt(g),_=Math.sqrt(h),x=o*Math.tan((xx-Math.acos((g+h-v)/(2*b*_)))/2),P=x/_,E=x/b;Math.abs(P-1)>Ja&&this._append`L${e+P*d},${n+P*c}`,this._append`A${o},${o},0,0,${+(c*p>d*y)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,d=n+l,c=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ja||Math.abs(this._y1-d)>Ja)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%Ex+Ex),h>Mie?this._append`A${r},${r},0,1,${c},${e-s},${n-l}A${r},${r},0,1,${c},${this._x1=u},${this._y1=d}`:h>Ja&&this._append`A${r},${r},0,${+(h>=xx)},${c},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function $I(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Lie(e)}function LI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function d4(t){this._context=t}d4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function y0(t){return new d4(t)}function f4(t){return t[0]}function h4(t){return t[1]}function p4(t,e){var n=Ze(!0),r=null,i=y0,o=null,a=$I(s);t=typeof t=="function"?t:t===void 0?f4:Ze(t),e=typeof e=="function"?e:e===void 0?h4:Ze(e);function s(l){var u,d=(l=LI(l)).length,c,h=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=d;++u)!(u<d&&n(c=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(c,u,l),+e(c,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ze(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ze(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ze(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function um(t,e,n){var r=null,i=Ze(!0),o=null,a=y0,s=null,l=$I(u);t=typeof t=="function"?t:t===void 0?f4:Ze(+t),e=typeof e=="function"?e:Ze(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?h4:Ze(+n);function u(c){var h,p,y,g=(c=LI(c)).length,v,b=!1,_,x=new Array(g),P=new Array(g);for(o==null&&(s=a(_=l())),h=0;h<=g;++h){if(!(h<g&&i(v=c[h],h,c))===b)if(b=!b)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=p;--y)s.point(x[y],P[y]);s.lineEnd(),s.areaEnd()}b&&(x[h]=+t(v,h,c),P[h]=+e(v,h,c),s.point(r?+r(v,h,c):x[h],n?+n(v,h,c):P[h]))}if(_)return s=null,_+""||null}function d(){return p4().defined(i).curve(a).context(o)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ze(+c),r=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:Ze(+c),u):t},u.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Ze(+c),u):r},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ze(+c),n=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:Ze(+c),u):e},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Ze(+c),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(c){return arguments.length?(i=typeof c=="function"?c:Ze(!!c),u):i},u.curve=function(c){return arguments.length?(a=c,o!=null&&(s=a(o)),u):a},u.context=function(c){return arguments.length?(c==null?o=s=null:s=a(o=c),u):o},u}class m4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Vie(t){return new m4(t,!0)}function Fie(t){return new m4(t,!1)}const VI={draw(t,e){const n=ai(e/Xg);t.moveTo(n,0),t.arc(0,0,n,0,g0)}},Bie={draw(t,e){const n=ai(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},g4=ai(1/3),Uie=g4*2,zie={draw(t,e){const n=ai(e/Uie),r=n*g4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Wie={draw(t,e){const n=ai(e),r=-n/2;t.rect(r,r,n,n)}},qie=.8908130915292852,y4=Qg(Xg/10)/Qg(7*Xg/10),Gie=Qg(g0/10)*y4,Kie=-u4(g0/10)*y4,Hie={draw(t,e){const n=ai(e*qie),r=Gie*n,i=Kie*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=g0*o/5,s=u4(a),l=Qg(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},ob=ai(3),Yie={draw(t,e){const n=-ai(e/(ob*3));t.moveTo(0,n*2),t.lineTo(-ob*n,-n),t.lineTo(ob*n,-n),t.closePath()}},Ir=-.5,Sr=ai(3)/2,Tx=1/ai(12),Qie=(Tx/2+1)*3,Xie={draw(t,e){const n=ai(e/Qie),r=n/2,i=n*Tx,o=r,a=n*Tx+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Ir*r-Sr*i,Sr*r+Ir*i),t.lineTo(Ir*o-Sr*a,Sr*o+Ir*a),t.lineTo(Ir*s-Sr*l,Sr*s+Ir*l),t.lineTo(Ir*r+Sr*i,Ir*i-Sr*r),t.lineTo(Ir*o+Sr*a,Ir*a-Sr*o),t.lineTo(Ir*s+Sr*l,Ir*l-Sr*s),t.closePath()}};function Jie(t,e){let n=null,r=$I(i);t=typeof t=="function"?t:Ze(t||VI),e=typeof e=="function"?e:Ze(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ze(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ze(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Jg(){}function Zg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function v4(t){this._context=t}v4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zie(t){return new v4(t)}function _4(t){this._context=t}_4.prototype={areaStart:Jg,areaEnd:Jg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Zg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eoe(t){return new _4(t)}function b4(t){this._context=t}b4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Zg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function toe(t){return new b4(t)}function w4(t){this._context=t}w4.prototype={areaStart:Jg,areaEnd:Jg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function noe(t){return new w4(t)}function cC(t){return t<0?-1:1}function dC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(cC(o)+cC(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function fC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ab(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function ey(t){this._context=t}ey.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ab(this,this._t0,fC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ab(this,fC(this,n=dC(this,t,e)),n);break;default:ab(this,this._t0,n=dC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function x4(t){this._context=new E4(t)}(x4.prototype=Object.create(ey.prototype)).point=function(t,e){ey.prototype.point.call(this,e,t)};function E4(t){this._context=t}E4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function roe(t){return new ey(t)}function ioe(t){return new x4(t)}function T4(t){this._context=t}T4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=hC(t),i=hC(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function hC(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function ooe(t){return new T4(t)}function v0(t,e){this._context=t,this._t=e}v0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function aoe(t){return new v0(t,.5)}function soe(t){return new v0(t,0)}function loe(t){return new v0(t,1)}function Bu(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ix(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function uoe(t,e){return t[e]}function coe(t){const e=[];return e.key=t,e}function doe(){var t=Ze([]),e=Ix,n=Bu,r=uoe;function i(o){var a=Array.from(t.apply(this,arguments),coe),s,l=a.length,u=-1,d;for(const c of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(c,a[s].key,u,o)]).data=c;for(s=0,d=LI(e(a));s<l;++s)a[d[s]].index=s;return n(a,d),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ze(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ze(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Ix:typeof o=="function"?o:Ze(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Bu,i):n},i}function foe(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Bu(t,e)}}function hoe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Bu(t,e)}}function poe(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var d=t[e[s]],c=d[r][1]||0,h=d[r-1][1]||0,p=(c-h)/2,y=0;y<s;++y){var g=t[e[y]],v=g[r][1]||0,b=g[r-1][1]||0;p+=v-b}l+=c,u+=p*c}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Bu(t,e)}}function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}var moe=["type","size","sizeType"];function Sx(){return Sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sx.apply(this,arguments)}function pC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pC(Object(n),!0).forEach(function(r){goe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function goe(t,e,n){return e=yoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yoe(t){var e=voe(t,"string");return rh(e)=="symbol"?e:e+""}function voe(t,e){if(rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _oe(t,e){if(t==null)return{};var n=boe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function boe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var I4={symbolCircle:VI,symbolCross:Bie,symbolDiamond:zie,symbolSquare:Wie,symbolStar:Hie,symbolTriangle:Yie,symbolWye:Xie},woe=Math.PI/180,xoe=function(e){var n="symbol".concat(m0(e));return I4[n]||VI},Eoe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*woe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Toe=function(e,n){I4["symbol".concat(m0(e))]=n},FI=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=_oe(e,moe),u=mC(mC({},l),{},{type:r,size:o,sizeType:s}),d=function(){var v=xoe(r),b=Jie().type(v).size(Eoe(o,s,r));return b()},c=u.className,h=u.cx,p=u.cy,y=ye(u,!0);return h===+h&&p===+p&&o===+o?M.createElement("path",Sx({},y,{className:Ee("recharts-symbols",c),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};FI.registerSymbol=Toe;function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function Ax(){return Ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ax.apply(this,arguments)}function gC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ioe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(n),!0).forEach(function(r){ih(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Soe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A4(r.key),r)}}function Poe(t,e,n){return e&&Aoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ooe(t,e,n){return e=ty(e),koe(t,S4()?Reflect.construct(e,n||[],ty(t).constructor):e.apply(t,n))}function koe(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Coe(t)}function Coe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S4=function(){return!!t})()}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ty(t)}function Roe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Px(t,e)}function Px(t,e){return Px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Px(t,e)}function ih(t,e,n){return e=A4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A4(t){var e=Noe(t,"string");return Uu(e)=="symbol"?e:e+""}function Noe(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ar=32,BI=function(t){function e(){return Soe(this,e),Ooe(this,e,arguments)}return Roe(e,t),Poe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Ar/2,a=Ar/6,s=Ar/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Ar,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Ar,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ar/8,"h").concat(Ar,"v").concat(Ar*3/4,"h").concat(-Ar,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var u=Ioe({},r);return delete u.legendIcon,M.cloneElement(r.legendIcon,u)}return M.createElement(FI,{fill:l,cx:o,cy:o,size:Ar,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Ar,height:Ar},c={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,y){var g=p.formatter||l,v=Ee(ih(ih({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=_e(p.value)?null:p.value;to(!_e(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=p.inactive?u:p.color;return M.createElement("li",Ax({className:v,style:c,key:"legend-item-".concat(y)},Hs(r.props,p,y)),M.createElement(vx,{width:a,height:a,viewBox:d,style:h},r.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},g?g(b,p,y):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(j.PureComponent);ih(BI,"displayName","Legend");ih(BI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Doe=n0;function joe(){this.__data__=new Doe,this.size=0}var Moe=joe;function $oe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Loe=$oe;function Voe(t){return this.__data__.get(t)}var Foe=Voe;function Boe(t){return this.__data__.has(t)}var Uoe=Boe,zoe=n0,Woe=PI,qoe=OI,Goe=200;function Koe(t,e){var n=this.__data__;if(n instanceof zoe){var r=n.__data__;if(!Woe||r.length<Goe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new qoe(r)}return n.set(t,e),this.size=n.size,this}var Hoe=Koe,Yoe=n0,Qoe=Moe,Xoe=Loe,Joe=Foe,Zoe=Uoe,eae=Hoe;function Mc(t){var e=this.__data__=new Yoe(t);this.size=e.size}Mc.prototype.clear=Qoe;Mc.prototype.delete=Xoe;Mc.prototype.get=Joe;Mc.prototype.has=Zoe;Mc.prototype.set=eae;var P4=Mc,tae="__lodash_hash_undefined__";function nae(t){return this.__data__.set(t,tae),this}var rae=nae;function iae(t){return this.__data__.has(t)}var oae=iae,aae=OI,sae=rae,lae=oae;function ny(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new aae;++e<n;)this.add(t[e])}ny.prototype.add=ny.prototype.push=sae;ny.prototype.has=lae;var O4=ny;function uae(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var k4=uae;function cae(t,e){return t.has(e)}var C4=cae,dae=O4,fae=k4,hae=C4,pae=1,mae=2;function gae(t,e,n,r,i,o){var a=n&pae,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var c=-1,h=!0,p=n&mae?new dae:void 0;for(o.set(t,e),o.set(e,t);++c<s;){var y=t[c],g=e[c];if(r)var v=a?r(g,y,c,e,t,o):r(y,g,c,t,e,o);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!fae(e,function(b,_){if(!hae(p,_)&&(y===b||i(y,b,n,r,o)))return p.push(_)})){h=!1;break}}else if(!(y===g||i(y,g,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var R4=gae,yae=Di,vae=yae.Uint8Array,_ae=vae;function bae(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var wae=bae;function xae(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var UI=xae,yC=hp,vC=_ae,Eae=AI,Tae=R4,Iae=wae,Sae=UI,Aae=1,Pae=2,Oae="[object Boolean]",kae="[object Date]",Cae="[object Error]",Rae="[object Map]",Nae="[object Number]",Dae="[object RegExp]",jae="[object Set]",Mae="[object String]",$ae="[object Symbol]",Lae="[object ArrayBuffer]",Vae="[object DataView]",_C=yC?yC.prototype:void 0,sb=_C?_C.valueOf:void 0;function Fae(t,e,n,r,i,o,a){switch(n){case Vae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Lae:return!(t.byteLength!=e.byteLength||!o(new vC(t),new vC(e)));case Oae:case kae:case Nae:return Eae(+t,+e);case Cae:return t.name==e.name&&t.message==e.message;case Dae:case Mae:return t==e+"";case Rae:var s=Iae;case jae:var l=r&Aae;if(s||(s=Sae),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=Pae,a.set(t,e);var d=Tae(s(t),s(e),r,i,o,a);return a.delete(t),d;case $ae:if(sb)return sb.call(t)==sb.call(e)}return!1}var Bae=Fae;function Uae(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var N4=Uae,zae=N4,Wae=sr;function qae(t,e,n){var r=e(t);return Wae(t)?r:zae(r,n(t))}var Gae=qae;function Kae(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var Hae=Kae;function Yae(){return[]}var Qae=Yae,Xae=Hae,Jae=Qae,Zae=Object.prototype,ese=Zae.propertyIsEnumerable,bC=Object.getOwnPropertySymbols,tse=bC?function(t){return t==null?[]:(t=Object(t),Xae(bC(t),function(e){return ese.call(t,e)}))}:Jae,nse=tse;function rse(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var ise=rse,ose=Io,ase=So,sse="[object Arguments]";function lse(t){return ase(t)&&ose(t)==sse}var use=lse,wC=use,cse=So,D4=Object.prototype,dse=D4.hasOwnProperty,fse=D4.propertyIsEnumerable,hse=wC(function(){return arguments}())?wC:function(t){return cse(t)&&dse.call(t,"callee")&&!fse.call(t,"callee")},zI=hse,ry={exports:{}};function pse(){return!1}var mse=pse;ry.exports;(function(t,e){var n=Di,r=mse,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(ry,ry.exports);var j4=ry.exports,gse=9007199254740991,yse=/^(?:0|[1-9]\d*)$/;function vse(t,e){var n=typeof t;return e=e??gse,!!e&&(n=="number"||n!="symbol"&&yse.test(t))&&t>-1&&t%1==0&&t<e}var WI=vse,_se=9007199254740991;function bse(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=_se}var qI=bse,wse=Io,xse=qI,Ese=So,Tse="[object Arguments]",Ise="[object Array]",Sse="[object Boolean]",Ase="[object Date]",Pse="[object Error]",Ose="[object Function]",kse="[object Map]",Cse="[object Number]",Rse="[object Object]",Nse="[object RegExp]",Dse="[object Set]",jse="[object String]",Mse="[object WeakMap]",$se="[object ArrayBuffer]",Lse="[object DataView]",Vse="[object Float32Array]",Fse="[object Float64Array]",Bse="[object Int8Array]",Use="[object Int16Array]",zse="[object Int32Array]",Wse="[object Uint8Array]",qse="[object Uint8ClampedArray]",Gse="[object Uint16Array]",Kse="[object Uint32Array]",ot={};ot[Vse]=ot[Fse]=ot[Bse]=ot[Use]=ot[zse]=ot[Wse]=ot[qse]=ot[Gse]=ot[Kse]=!0;ot[Tse]=ot[Ise]=ot[$se]=ot[Sse]=ot[Lse]=ot[Ase]=ot[Pse]=ot[Ose]=ot[kse]=ot[Cse]=ot[Rse]=ot[Nse]=ot[Dse]=ot[jse]=ot[Mse]=!1;function Hse(t){return Ese(t)&&xse(t.length)&&!!ot[wse(t)]}var Yse=Hse;function Qse(t){return function(e){return t(e)}}var M4=Qse,iy={exports:{}};iy.exports;(function(t,e){var n=WF,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(iy,iy.exports);var Xse=iy.exports,Jse=Yse,Zse=M4,xC=Xse,EC=xC&&xC.isTypedArray,ele=EC?Zse(EC):Jse,$4=ele,tle=ise,nle=zI,rle=sr,ile=j4,ole=WI,ale=$4,sle=Object.prototype,lle=sle.hasOwnProperty;function ule(t,e){var n=rle(t),r=!n&&nle(t),i=!n&&!r&&ile(t),o=!n&&!r&&!i&&ale(t),a=n||r||i||o,s=a?tle(t.length,String):[],l=s.length;for(var u in t)(e||lle.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ole(u,l)))&&s.push(u);return s}var cle=ule,dle=Object.prototype;function fle(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||dle;return t===n}var hle=fle;function ple(t,e){return function(n){return t(e(n))}}var L4=ple,mle=L4,gle=mle(Object.keys,Object),yle=gle,vle=hle,_le=yle,ble=Object.prototype,wle=ble.hasOwnProperty;function xle(t){if(!vle(t))return _le(t);var e=[];for(var n in Object(t))wle.call(t,n)&&n!="constructor"&&e.push(n);return e}var Ele=xle,Tle=SI,Ile=qI;function Sle(t){return t!=null&&Ile(t.length)&&!Tle(t)}var _0=Sle,Ale=cle,Ple=Ele,Ole=_0;function kle(t){return Ole(t)?Ale(t):Ple(t)}var GI=kle,Cle=Gae,Rle=nse,Nle=GI;function Dle(t){return Cle(t,Nle,Rle)}var jle=Dle,TC=jle,Mle=1,$le=Object.prototype,Lle=$le.hasOwnProperty;function Vle(t,e,n,r,i,o){var a=n&Mle,s=TC(t),l=s.length,u=TC(e),d=u.length;if(l!=d&&!a)return!1;for(var c=l;c--;){var h=s[c];if(!(a?h in e:Lle.call(e,h)))return!1}var p=o.get(t),y=o.get(e);if(p&&y)return p==e&&y==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=a;++c<l;){h=s[c];var b=t[h],_=e[h];if(r)var x=a?r(_,b,h,e,t,o):r(b,_,h,t,e,o);if(!(x===void 0?b===_||i(b,_,n,r,o):x)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var P=t.constructor,E=e.constructor;P!=E&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof E=="function"&&E instanceof E)&&(g=!1)}return o.delete(t),o.delete(e),g}var Fle=Vle,Ble=ul,Ule=Di,zle=Ble(Ule,"DataView"),Wle=zle,qle=ul,Gle=Di,Kle=qle(Gle,"Promise"),Hle=Kle,Yle=ul,Qle=Di,Xle=Yle(Qle,"Set"),V4=Xle,Jle=ul,Zle=Di,eue=Jle(Zle,"WeakMap"),tue=eue,Ox=Wle,kx=PI,Cx=Hle,Rx=V4,Nx=tue,F4=Io,$c=GF,IC="[object Map]",nue="[object Object]",SC="[object Promise]",AC="[object Set]",PC="[object WeakMap]",OC="[object DataView]",rue=$c(Ox),iue=$c(kx),oue=$c(Cx),aue=$c(Rx),sue=$c(Nx),Za=F4;(Ox&&Za(new Ox(new ArrayBuffer(1)))!=OC||kx&&Za(new kx)!=IC||Cx&&Za(Cx.resolve())!=SC||Rx&&Za(new Rx)!=AC||Nx&&Za(new Nx)!=PC)&&(Za=function(t){var e=F4(t),n=e==nue?t.constructor:void 0,r=n?$c(n):"";if(r)switch(r){case rue:return OC;case iue:return IC;case oue:return SC;case aue:return AC;case sue:return PC}return e});var lue=Za,lb=P4,uue=R4,cue=Bae,due=Fle,kC=lue,CC=sr,RC=j4,fue=$4,hue=1,NC="[object Arguments]",DC="[object Array]",cm="[object Object]",pue=Object.prototype,jC=pue.hasOwnProperty;function mue(t,e,n,r,i,o){var a=CC(t),s=CC(e),l=a?DC:kC(t),u=s?DC:kC(e);l=l==NC?cm:l,u=u==NC?cm:u;var d=l==cm,c=u==cm,h=l==u;if(h&&RC(t)){if(!RC(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new lb),a||fue(t)?uue(t,e,n,r,i,o):cue(t,e,l,n,r,i,o);if(!(n&hue)){var p=d&&jC.call(t,"__wrapped__"),y=c&&jC.call(e,"__wrapped__");if(p||y){var g=p?t.value():t,v=y?e.value():e;return o||(o=new lb),i(g,v,n,r,o)}}return h?(o||(o=new lb),due(t,e,n,r,i,o)):!1}var gue=mue,yue=gue,MC=So;function B4(t,e,n,r,i){return t===e?!0:t==null||e==null||!MC(t)&&!MC(e)?t!==t&&e!==e:yue(t,e,n,r,B4,i)}var KI=B4,vue=P4,_ue=KI,bue=1,wue=2;function xue(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],d=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var c=new vue;if(r)var h=r(u,d,l,t,e,c);if(!(h===void 0?_ue(d,u,bue|wue,r,c):h))return!1}}return!0}var Eue=xue,Tue=Da;function Iue(t){return t===t&&!Tue(t)}var U4=Iue,Sue=U4,Aue=GI;function Pue(t){for(var e=Aue(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Sue(i)]}return e}var Oue=Pue;function kue(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var z4=kue,Cue=Eue,Rue=Oue,Nue=z4;function Due(t){var e=Rue(t);return e.length==1&&e[0][2]?Nue(e[0][0],e[0][1]):function(n){return n===t||Cue(n,t,e)}}var jue=Due;function Mue(t,e){return t!=null&&e in Object(t)}var $ue=Mue,Lue=XF,Vue=zI,Fue=sr,Bue=WI,Uue=qI,zue=i0;function Wue(t,e,n){e=Lue(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=zue(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Uue(i)&&Bue(a,i)&&(Fue(t)||Vue(t)))}var que=Wue,Gue=$ue,Kue=que;function Hue(t,e){return t!=null&&Kue(t,e,Gue)}var Yue=Hue,Que=KI,Xue=JF,Jue=Yue,Zue=II,ece=U4,tce=z4,nce=i0,rce=1,ice=2;function oce(t,e){return Zue(t)&&ece(e)?tce(nce(t),e):function(n){var r=Xue(n,t);return r===void 0&&r===e?Jue(n,t):Que(e,r,rce|ice)}}var ace=oce;function sce(t){return t}var Lc=sce;function lce(t){return function(e){return e==null?void 0:e[t]}}var uce=lce,cce=RI;function dce(t){return function(e){return cce(e,t)}}var fce=dce,hce=uce,pce=fce,mce=II,gce=i0;function yce(t){return mce(t)?hce(gce(t)):pce(t)}var vce=yce,_ce=jue,bce=ace,wce=Lc,xce=sr,Ece=vce;function Tce(t){return typeof t=="function"?t:t==null?wce:typeof t=="object"?xce(t)?bce(t[0],t[1]):_ce(t):Ece(t)}var ja=Tce;function Ice(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var Sce=Ice;function Ace(t){return t!==t}var Pce=Ace;function Oce(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var kce=Oce,Cce=Sce,Rce=Pce,Nce=kce;function Dce(t,e,n){return e===e?Nce(t,e,n):Cce(t,Rce,n)}var jce=Dce,Mce=jce;function $ce(t,e){var n=t==null?0:t.length;return!!n&&Mce(t,e,0)>-1}var Lce=$ce;function Vce(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Fce=Vce;function Bce(){}var Uce=Bce,ub=V4,zce=Uce,Wce=UI,qce=1/0,Gce=ub&&1/Wce(new ub([,-0]))[1]==qce?function(t){return new ub(t)}:zce,Kce=Gce,Hce=O4,Yce=Lce,Qce=Fce,Xce=C4,Jce=Kce,Zce=UI,ede=200;function tde(t,e,n){var r=-1,i=Yce,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=Qce;else if(o>=ede){var u=e?null:Jce(t);if(u)return Zce(u);a=!1,i=Xce,l=new Hce}else l=e?[]:s;e:for(;++r<o;){var d=t[r],c=e?e(d):d;if(d=n||d!==0?d:0,a&&c===c){for(var h=l.length;h--;)if(l[h]===c)continue e;e&&l.push(c),s.push(d)}else i(l,c,n)||(l!==s&&l.push(c),s.push(d))}return s}var nde=tde,rde=ja,ide=nde;function ode(t,e){return t&&t.length?ide(t,rde(e)):[]}var ade=ode;const $C=Ge(ade);function W4(t,e,n){return e===!0?$C(t,n):_e(e)?$C(t,e):t}function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}var sde=["ref"];function LC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(n),!0).forEach(function(r){b0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G4(r.key),r)}}function ude(t,e,n){return e&&VC(t.prototype,e),n&&VC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cde(t,e,n){return e=oy(e),dde(t,q4()?Reflect.construct(e,n||[],oy(t).constructor):e.apply(t,n))}function dde(t,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fde(t)}function fde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q4=function(){return!!t})()}function oy(t){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oy(t)}function hde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dx(t,e)}function Dx(t,e){return Dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dx(t,e)}function b0(t,e,n){return e=G4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G4(t){var e=pde(t,"string");return zu(e)=="symbol"?e:e+""}function pde(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mde(t,e){if(t==null)return{};var n=gde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yde(t){return t.value}function vde(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=mde(e,sde);return M.createElement(BI,n)}var FC=1,du=function(t){function e(){var n;lde(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=cde(this,e,[].concat(i)),b0(n,"lastBoundingBox",{width:-1,height:-1}),n}return hde(e,t),ude(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>FC||Math.abs(i.height-this.lastBoundingBox.height)>FC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Fi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,c,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();c={left:((u||0)-p.width)/2}}else c=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Fi(Fi({},c),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,c=Fi(Fi({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(p){r.wrapperNode=p}},vde(o,Fi(Fi({},this.props),{},{payload:W4(d,u,yde)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Fi(Fi({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ne(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(j.PureComponent);b0(du,"displayName","Legend");b0(du,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var BC=hp,_de=zI,bde=sr,UC=BC?BC.isConcatSpreadable:void 0;function wde(t){return bde(t)||_de(t)||!!(UC&&t&&t[UC])}var xde=wde,Ede=N4,Tde=xde;function K4(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Tde),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?K4(s,e-1,n,r,i):Ede(i,s):r||(i[i.length]=s)}return i}var H4=K4;function Ide(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var Sde=Ide,Ade=Sde,Pde=Ade(),Ode=Pde,kde=Ode,Cde=GI;function Rde(t,e){return t&&kde(t,e,Cde)}var Y4=Rde,Nde=_0;function Dde(t,e){return function(n,r){if(n==null)return n;if(!Nde(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var jde=Dde,Mde=Y4,$de=jde,Lde=$de(Mde),HI=Lde,Vde=HI,Fde=_0;function Bde(t,e){var n=-1,r=Fde(t)?Array(t.length):[];return Vde(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var Q4=Bde;function Ude(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var zde=Ude,zC=Oc;function Wde(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=zC(t),a=e!==void 0,s=e===null,l=e===e,u=zC(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var qde=Wde,Gde=qde;function Kde(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=Gde(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Hde=Kde,cb=CI,Yde=RI,Qde=ja,Xde=Q4,Jde=zde,Zde=M4,efe=Hde,tfe=Lc,nfe=sr;function rfe(t,e,n){e.length?e=cb(e,function(o){return nfe(o)?function(a){return Yde(a,o.length===1?o[0]:o)}:o}):e=[tfe];var r=-1;e=cb(e,Zde(Qde));var i=Xde(t,function(o,a,s){var l=cb(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return Jde(i,function(o,a){return efe(o,a,n)})}var ife=rfe;function ofe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var afe=ofe,sfe=afe,WC=Math.max;function lfe(t,e,n){return e=WC(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=WC(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),sfe(t,this,s)}}var ufe=lfe;function cfe(t){return function(){return t}}var dfe=cfe,ffe=ul,hfe=function(){try{var t=ffe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),X4=hfe,pfe=dfe,qC=X4,mfe=Lc,gfe=qC?function(t,e){return qC(t,"toString",{configurable:!0,enumerable:!1,value:pfe(e),writable:!0})}:mfe,yfe=gfe,vfe=800,_fe=16,bfe=Date.now;function wfe(t){var e=0,n=0;return function(){var r=bfe(),i=_fe-(r-n);if(n=r,i>0){if(++e>=vfe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var xfe=wfe,Efe=yfe,Tfe=xfe,Ife=Tfe(Efe),Sfe=Ife,Afe=Lc,Pfe=ufe,Ofe=Sfe;function kfe(t,e){return Ofe(Pfe(t,e,Afe),t+"")}var Cfe=kfe,Rfe=AI,Nfe=_0,Dfe=WI,jfe=Da;function Mfe(t,e,n){if(!jfe(n))return!1;var r=typeof e;return(r=="number"?Nfe(n)&&Dfe(e,n.length):r=="string"&&e in n)?Rfe(n[e],t):!1}var w0=Mfe,$fe=H4,Lfe=ife,Vfe=Cfe,GC=w0,Ffe=Vfe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&GC(t,e[0],e[1])?e=[]:n>2&&GC(e[0],e[1],e[2])&&(e=[e[0]]),Lfe(t,$fe(e,1),[])}),Bfe=Ffe;const YI=Ge(Bfe);function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(this,arguments)}function Ufe(t,e){return Gfe(t)||qfe(t,e)||Wfe(t,e)||zfe()}function zfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wfe(t,e){if(t){if(typeof t=="string")return KC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KC(t,e)}}function KC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Gfe(t){if(Array.isArray(t))return t}function HC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function db(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(n),!0).forEach(function(r){Kfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kfe(t,e,n){return e=Hfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hfe(t){var e=Yfe(t,"string");return oh(e)=="symbol"?e:e+""}function Yfe(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qfe(t){return Array.isArray(t)&&Qt(t[0])&&Qt(t[1])?t.join(" ~ "):t}var Xfe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,c=e.formatter,h=e.itemSorter,p=e.wrapperClassName,y=e.labelClassName,g=e.label,v=e.labelFormatter,b=e.accessibilityLayer,_=b===void 0?!1:b,x=function(){if(d&&d.length){var k={padding:0,margin:0},N=(h?YI(d,h):d).map(function(U,z){if(U.type==="none")return null;var G=db({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},s),H=U.formatter||c||Qfe,V=U.value,q=U.name,J=V,se=q;if(H&&J!=null&&se!=null){var Z=H(V,q,U,z,d);if(Array.isArray(Z)){var Y=Ufe(Z,2);J=Y[0],se=Y[1]}else J=Z}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:G},Qt(se)?M.createElement("span",{className:"recharts-tooltip-item-name"},se):null,Qt(se)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},J),M.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:k},N)}return null},P=db({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=db({margin:0},u),A=!we(g),T=A?g:"",I=Ee("recharts-default-tooltip",p),O=Ee("recharts-tooltip-label",y);A&&v&&d!==void 0&&d!==null&&(T=v(g,d));var C=_?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",jx({className:I,style:P},C),M.createElement("p",{className:O,style:E},M.isValidElement(T)?T:"".concat(T)),x())};function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function dm(t,e,n){return e=Jfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jfe(t){var e=Zfe(t,"string");return ah(e)=="symbol"?e:e+""}function Zfe(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vd="recharts-tooltip-wrapper",ehe={visibility:"hidden"};function the(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ee(vd,dm(dm(dm(dm({},"".concat(vd,"-right"),ne(n)&&e&&ne(e.x)&&n>=e.x),"".concat(vd,"-left"),ne(n)&&e&&ne(e.x)&&n<e.x),"".concat(vd,"-bottom"),ne(r)&&e&&ne(e.y)&&r>=e.y),"".concat(vd,"-top"),ne(r)&&e&&ne(e.y)&&r<e.y))}function YC(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ne(o[r]))return o[r];var d=n[r]-s-i,c=n[r]+i;if(e[r])return a[r]?d:c;if(a[r]){var h=d,p=l[r];return h<p?Math.max(c,l[r]):Math.max(d,l[r])}var y=c+s,g=l[r]+u;return y>g?Math.max(d,l[r]):Math.max(c,l[r])}function nhe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function rhe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,d,c;return a.height>0&&a.width>0&&n?(d=YC({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),c=YC({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=nhe({translateX:d,translateY:c,useTranslate3d:s})):u=ehe,{cssProperties:u,cssClasses:the({translateX:d,translateY:c,coordinate:n})}}function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(r){$x(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ihe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ohe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z4(r.key),r)}}function ahe(t,e,n){return e&&ohe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function she(t,e,n){return e=ay(e),lhe(t,J4()?Reflect.construct(e,n||[],ay(t).constructor):e.apply(t,n))}function lhe(t,e){if(e&&(Wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uhe(t)}function uhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J4=function(){return!!t})()}function ay(t){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ay(t)}function che(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mx(t,e)}function Mx(t,e){return Mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mx(t,e)}function $x(t,e,n){return e=Z4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z4(t){var e=dhe(t,"string");return Wu(e)=="symbol"?e:e+""}function dhe(t,e){if(Wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JC=1,fhe=function(t){function e(){var n;ihe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=she(this,e,[].concat(i)),$x(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),$x(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return che(e,t),ahe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>JC||Math.abs(r.height-this.state.lastBoundingBox.height)>JC)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,c=i.hasPayload,h=i.isAnimationActive,p=i.offset,y=i.position,g=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,_=i.wrapperStyle,x=rhe({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),P=x.cssClasses,E=x.cssProperties,A=XC(XC({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&c?"visible":"hidden",position:"absolute",top:0,left:0},_);return M.createElement("div",{tabIndex:-1,className:P,style:A,ref:function(I){r.wrapperNode=I}},u)}}])}(j.PureComponent),hhe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},cl={isSsr:hhe()};function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function ZC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(n),!0).forEach(function(r){QI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function phe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tB(r.key),r)}}function ghe(t,e,n){return e&&mhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yhe(t,e,n){return e=sy(e),vhe(t,eB()?Reflect.construct(e,n||[],sy(t).constructor):e.apply(t,n))}function vhe(t,e){if(e&&(qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _he(t)}function _he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eB=function(){return!!t})()}function sy(t){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sy(t)}function bhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lx(t,e)}function Lx(t,e){return Lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lx(t,e)}function QI(t,e,n){return e=tB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tB(t){var e=whe(t,"string");return qu(e)=="symbol"?e:e+""}function whe(t,e){if(qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xhe(t){return t.dataKey}function Ehe(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(Xfe,e)}var Jr=function(t){function e(){return phe(this,e),yhe(this,e,arguments)}return bhe(e,t),ghe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,c=i.filterNull,h=i.isAnimationActive,p=i.offset,y=i.payload,g=i.payloadUniqBy,v=i.position,b=i.reverseDirection,_=i.useTranslate3d,x=i.viewBox,P=i.wrapperStyle,E=y??[];c&&E.length&&(E=W4(y.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),g,xhe));var A=E.length>0;return M.createElement(fhe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:A,offset:p,position:v,reverseDirection:b,useTranslate3d:_,viewBox:x,wrapperStyle:P},Ehe(u,eR(eR({},this.props),{},{payload:E})))}}])}(j.PureComponent);QI(Jr,"displayName","Tooltip");QI(Jr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!cl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var The=Di,Ihe=function(){return The.Date.now()},She=Ihe,Ahe=/\s/;function Phe(t){for(var e=t.length;e--&&Ahe.test(t.charAt(e)););return e}var Ohe=Phe,khe=Ohe,Che=/^\s+/;function Rhe(t){return t&&t.slice(0,khe(t)+1).replace(Che,"")}var Nhe=Rhe,Dhe=Nhe,tR=Da,jhe=Oc,nR=NaN,Mhe=/^[-+]0x[0-9a-f]+$/i,$he=/^0b[01]+$/i,Lhe=/^0o[0-7]+$/i,Vhe=parseInt;function Fhe(t){if(typeof t=="number")return t;if(jhe(t))return nR;if(tR(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=tR(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Dhe(t);var n=$he.test(t);return n||Lhe.test(t)?Vhe(t.slice(2),n?2:8):Mhe.test(t)?nR:+t}var nB=Fhe,Bhe=Da,fb=She,rR=nB,Uhe="Expected a function",zhe=Math.max,Whe=Math.min;function qhe(t,e,n){var r,i,o,a,s,l,u=0,d=!1,c=!1,h=!0;if(typeof t!="function")throw new TypeError(Uhe);e=rR(e)||0,Bhe(n)&&(d=!!n.leading,c="maxWait"in n,o=c?zhe(rR(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(A){var T=r,I=i;return r=i=void 0,u=A,a=t.apply(I,T),a}function y(A){return u=A,s=setTimeout(b,e),d?p(A):a}function g(A){var T=A-l,I=A-u,O=e-T;return c?Whe(O,o-I):O}function v(A){var T=A-l,I=A-u;return l===void 0||T>=e||T<0||c&&I>=o}function b(){var A=fb();if(v(A))return _(A);s=setTimeout(b,g(A))}function _(A){return s=void 0,h&&r?p(A):(r=i=void 0,a)}function x(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function P(){return s===void 0?a:_(fb())}function E(){var A=fb(),T=v(A);if(r=arguments,i=this,l=A,T){if(s===void 0)return y(l);if(c)return clearTimeout(s),s=setTimeout(b,e),p(l)}return s===void 0&&(s=setTimeout(b,e)),a}return E.cancel=x,E.flush=P,E}var Ghe=qhe,Khe=Ghe,Hhe=Da,Yhe="Expected a function";function Qhe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Yhe);return Hhe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Khe(t,e,{leading:r,maxWait:e,trailing:i})}var Xhe=Qhe;const rB=Ge(Xhe);function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){Jhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jhe(t,e,n){return e=Zhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zhe(t){var e=epe(t,"string");return sh(e)=="symbol"?e:e+""}function epe(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tpe(t,e){return ope(t)||ipe(t,e)||rpe(t,e)||npe()}function npe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rpe(t,e){if(t){if(typeof t=="string")return oR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oR(t,e)}}function oR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ipe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ope(t){if(Array.isArray(t))return t}var XI=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,c=t.minHeight,h=t.maxHeight,p=t.children,y=t.debounce,g=y===void 0?0:y,v=t.id,b=t.className,_=t.onResize,x=t.style,P=x===void 0?{}:x,E=j.useRef(null),A=j.useRef();A.current=_,j.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var T=j.useState({containerWidth:i.width,containerHeight:i.height}),I=tpe(T,2),O=I[0],C=I[1],R=j.useCallback(function(N,U){C(function(z){var G=Math.round(N),H=Math.round(U);return z.containerWidth===G&&z.containerHeight===H?z:{containerWidth:G,containerHeight:H}})},[]);j.useEffect(function(){var N=function(q){var J,se=q[0].contentRect,Z=se.width,Y=se.height;R(Z,Y),(J=A.current)===null||J===void 0||J.call(A,Z,Y)};g>0&&(N=rB(N,g,{trailing:!0,leading:!1}));var U=new ResizeObserver(N),z=E.current.getBoundingClientRect(),G=z.width,H=z.height;return R(G,H),U.observe(E.current),function(){U.disconnect()}},[R,g]);var k=j.useMemo(function(){var N=O.containerWidth,U=O.containerHeight;if(N<0||U<0)return null;to(ms(a)||ms(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),to(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=ms(a)?N:a,G=ms(l)?U:l;n&&n>0&&(z?G=z/n:G&&(z=G*n),h&&G>h&&(G=h)),to(z>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,G,a,l,d,c,n);var H=!Array.isArray(p)&&eo(p.type).endsWith("Chart");return M.Children.map(p,function(V){return M.isValidElement(V)?j.cloneElement(V,fm({width:z,height:G},H?{style:fm({height:"100%",width:"100%",maxHeight:G,maxWidth:z},V.props.style)}:{})):V})},[n,p,l,h,c,d,O,a]);return M.createElement("div",{id:v?"".concat(v):void 0,className:Ee("recharts-responsive-container",b),style:fm(fm({},P),{},{width:a,height:l,minWidth:d,minHeight:c,maxHeight:h}),ref:E},k)}),pp=function(e){return null};pp.displayName="Cell";function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){ape(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ape(t,e,n){return e=spe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function spe(t){var e=lpe(t,"string");return lh(e)=="symbol"?e:e+""}function lpe(t,e){if(lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Il={widthCache:{},cacheCount:0},upe=2e3,cpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sR="recharts_measurement_span";function dpe(t){var e=Vx({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var sf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||cl.isSsr)return{width:0,height:0};var r=dpe(n),i=JSON.stringify({text:e,copyStyle:r});if(Il.widthCache[i])return Il.widthCache[i];try{var o=document.getElementById(sR);o||(o=document.createElement("span"),o.setAttribute("id",sR),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Vx(Vx({},cpe),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Il.widthCache[i]=l,++Il.cacheCount>upe&&(Il.cacheCount=0,Il.widthCache={}),l}catch{return{width:0,height:0}}},fpe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function ly(t,e){return gpe(t)||mpe(t,e)||ppe(t,e)||hpe()}function hpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ppe(t,e){if(t){if(typeof t=="string")return lR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lR(t,e)}}function lR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function gpe(t){if(Array.isArray(t))return t}function ype(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_pe(r.key),r)}}function vpe(t,e,n){return e&&uR(t.prototype,e),n&&uR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _pe(t){var e=bpe(t,"string");return uh(e)=="symbol"?e:e+""}function bpe(t,e){if(uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,iB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Epe=Object.keys(iB),Kl="NaN";function Tpe(t,e){return t*iB[e]}var hm=function(){function t(e,n){ype(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!wpe.test(n)&&(this.num=NaN,this.unit=""),Epe.includes(n)&&(this.num=Tpe(e,n),this.unit="px")}return vpe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=xpe.exec(n))!==null&&r!==void 0?r:[],o=ly(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function oB(t){if(t.includes(Kl))return Kl;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=cR.exec(e))!==null&&n!==void 0?n:[],i=ly(r,4),o=i[1],a=i[2],s=i[3],l=hm.parse(o??""),u=hm.parse(s??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Kl;e=e.replace(cR,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,h=(c=dR.exec(e))!==null&&c!==void 0?c:[],p=ly(h,4),y=p[1],g=p[2],v=p[3],b=hm.parse(y??""),_=hm.parse(v??""),x=g==="+"?b.add(_):b.subtract(_);if(x.isNaN())return Kl;e=e.replace(dR,x.toString())}return e}var fR=/\(([^()]*)\)/;function Ipe(t){for(var e=t;e.includes("(");){var n=fR.exec(e),r=ly(n,2),i=r[1];e=e.replace(fR,oB(i))}return e}function Spe(t){var e=t.replace(/\s+/g,"");return e=Ipe(e),e=oB(e),e}function Ape(t){try{return Spe(t)}catch{return Kl}}function hb(t){var e=Ape(t.slice(5,-1));return e===Kl?"":e}var Ppe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ope=["dx","dy","angle","className","breakAll"];function Fx(){return Fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fx.apply(this,arguments)}function hR(t,e){if(t==null)return{};var n=kpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pR(t,e){return Dpe(t)||Npe(t,e)||Rpe(t,e)||Cpe()}function Cpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rpe(t,e){if(t){if(typeof t=="string")return mR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mR(t,e)}}function mR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Npe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Dpe(t){if(Array.isArray(t))return t}var aB=/[ \f\n\r\t\v\u2028\u2029]+/,sB=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];we(n)||(r?o=n.toString().split(""):o=n.toString().split(aB));var a=o.map(function(l){return{word:l,width:sf(l,i).width}}),s=r?0:sf("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},jpe=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,d=ne(a),c=s,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(G,H){var V=H.word,q=H.width,J=G[G.length-1];if(J&&(i==null||o||J.width+q+r<Number(i)))J.words.push(V),J.width+=q+r;else{var se={words:[V],width:q};G.push(se)}return G},[])},p=h(n),y=function(z){return z.reduce(function(G,H){return G.width>H.width?G:H})};if(!d)return p;for(var g="",v=function(z){var G=c.slice(0,z),H=sB({breakAll:u,style:l,children:G+g}).wordsWithComputedWidth,V=h(H),q=V.length>a||y(V).width>Number(i);return[q,V]},b=0,_=c.length-1,x=0,P;b<=_&&x<=c.length-1;){var E=Math.floor((b+_)/2),A=E-1,T=v(A),I=pR(T,2),O=I[0],C=I[1],R=v(E),k=pR(R,1),N=k[0];if(!O&&!N&&(b=E+1),O&&N&&(_=E-1),!O&&N){P=C;break}x++}return P||p},gR=function(e){var n=we(e)?[]:e.toString().split(aB);return[{words:n}]},Mpe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!cl.isSsr){var l,u,d=sB({breakAll:a,children:i,style:o});if(d){var c=d.wordsWithComputedWidth,h=d.spaceWidth;l=c,u=h}else return gR(i);return jpe({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return gR(i)},yR="#808080",Ys=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,c=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,y=e.verticalAnchor,g=y===void 0?"end":y,v=e.fill,b=v===void 0?yR:v,_=hR(e,Ppe),x=j.useMemo(function(){return Mpe({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:c,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,c,_.style,_.width]),P=_.dx,E=_.dy,A=_.angle,T=_.className,I=_.breakAll,O=hR(_,Ope);if(!Qt(r)||!Qt(o))return null;var C=r+(ne(P)?P:0),R=o+(ne(E)?E:0),k;switch(g){case"start":k=hb("calc(".concat(u,")"));break;case"middle":k=hb("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:k=hb("calc(".concat(x.length-1," * -").concat(s,")"));break}var N=[];if(c){var U=x[0].width,z=_.width;N.push("scale(".concat((ne(z)?z/U:1)/U,")"))}return A&&N.push("rotate(".concat(A,", ").concat(C,", ").concat(R,")")),N.length&&(O.transform=N.join(" ")),M.createElement("text",Fx({},ye(O,!0),{x:C,y:R,className:Ee("recharts-text",T),textAnchor:p,fill:b.includes("url")?yR:b}),x.map(function(G,H){var V=G.words.join(I?"":" ");return M.createElement("tspan",{x:C,dy:H===0?k:s,key:"".concat(V,"-").concat(H)},V)}))};function da(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $pe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function JI(t){let e,n,r;t.length!==2?(e=da,n=(s,l)=>da(t(s),l),r=(s,l)=>t(s)-l):(e=t===da||t===$pe?t:Lpe,n=t,r=t);function i(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const c=u+d>>>1;n(s[c],l)<0?u=c+1:d=c}while(u<d)}return u}function o(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const c=u+d>>>1;n(s[c],l)<=0?u=c+1:d=c}while(u<d)}return u}function a(s,l,u=0,d=s.length){const c=i(s,l,u,d-1);return c>u&&r(s[c-1],l)>-r(s[c],l)?c-1:c}return{left:i,center:a,right:o}}function Lpe(){return 0}function lB(t){return t===null?NaN:+t}function*Vpe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Fpe=JI(da),mp=Fpe.right;JI(lB).center;class vR extends Map{constructor(e,n=zpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(_R(this,e))}has(e){return super.has(_R(this,e))}set(e,n){return super.set(Bpe(this,e),n)}delete(e){return super.delete(Upe(this,e))}}function _R({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Bpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Upe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function zpe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Wpe(t=da){if(t===da)return uB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function uB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const qpe=Math.sqrt(50),Gpe=Math.sqrt(10),Kpe=Math.sqrt(2);function uy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=qpe?10:o>=Gpe?5:o>=Kpe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?uy(t,e,n*2):[s,l,u]}function Bx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?uy(e,t,n):uy(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Ux(t,e,n){return e=+e,t=+t,n=+n,uy(t,e,n)[2]}function zx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Ux(e,t,n):Ux(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function bR(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function wR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function cB(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?uB:Wpe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),c=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*c*(l-c)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*c/l+h)),y=Math.min(r,Math.floor(e+(l-u)*c/l+h));cB(t,e,p,y,i)}const o=t[e];let a=n,s=r;for(_d(t,n,e),i(t[r],o)>0&&_d(t,n,r);a<s;){for(_d(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?_d(t,n,s):(++s,_d(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function _d(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Hpe(t,e,n){if(t=Float64Array.from(Vpe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return wR(t);if(e>=1)return bR(t);var r,i=(r-1)*e,o=Math.floor(i),a=bR(cB(t,o).subarray(0,o+1)),s=wR(t.subarray(o+1));return a+(s-a)*(i-o)}}function Ype(t,e,n=lB){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Qpe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Wr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ao(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Wx=Symbol("implicit");function ZI(){var t=new vR,e=[],n=[],r=Wx;function i(o){let a=t.get(o);if(a===void 0){if(r!==Wx)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new vR;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return ZI(e,n).unknown(r)},Wr.apply(i,arguments),i}function ch(){var t=ZI().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,d=.5;delete t.unknown;function c(){var h=e().length,p=i<r,y=p?i:r,g=p?r:i;o=(g-y)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),y+=(g-y-o*(h-l))*d,a=o*(1-l),s&&(y=Math.round(y),a=Math.round(a));var v=Qpe(h).map(function(b){return y+o*b});return n(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),c()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,c()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,c()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,c()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),c()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),c()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,c()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),c()):d},t.copy=function(){return ch(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(d)},Wr.apply(c(),arguments)}function dB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return dB(e())},t}function lf(){return dB(ch.apply(null,arguments).paddingInner(1))}function eS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function gp(){}var dh=.7,cy=1/dh,fu="\\s*([+-]?\\d+)\\s*",fh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xpe=/^#([0-9a-f]{3,8})$/,Jpe=new RegExp(`^rgb\\(${fu},${fu},${fu}\\)$`),Zpe=new RegExp(`^rgb\\(${Ii},${Ii},${Ii}\\)$`),eme=new RegExp(`^rgba\\(${fu},${fu},${fu},${fh}\\)$`),tme=new RegExp(`^rgba\\(${Ii},${Ii},${Ii},${fh}\\)$`),nme=new RegExp(`^hsl\\(${fh},${Ii},${Ii}\\)$`),rme=new RegExp(`^hsla\\(${fh},${Ii},${Ii},${fh}\\)$`),xR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eS(gp,hh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ER,formatHex:ER,formatHex8:ime,formatHsl:ome,formatRgb:TR,toString:TR});function ER(){return this.rgb().formatHex()}function ime(){return this.rgb().formatHex8()}function ome(){return hB(this).formatHsl()}function TR(){return this.rgb().formatRgb()}function hh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Xpe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?IR(e):n===3?new nr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?pm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?pm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Jpe.exec(t))?new nr(e[1],e[2],e[3],1):(e=Zpe.exec(t))?new nr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=eme.exec(t))?pm(e[1],e[2],e[3],e[4]):(e=tme.exec(t))?pm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nme.exec(t))?PR(e[1],e[2]/100,e[3]/100,1):(e=rme.exec(t))?PR(e[1],e[2]/100,e[3]/100,e[4]):xR.hasOwnProperty(t)?IR(xR[t]):t==="transparent"?new nr(NaN,NaN,NaN,0):null}function IR(t){return new nr(t>>16&255,t>>8&255,t&255,1)}function pm(t,e,n,r){return r<=0&&(t=e=n=NaN),new nr(t,e,n,r)}function ame(t){return t instanceof gp||(t=hh(t)),t?(t=t.rgb(),new nr(t.r,t.g,t.b,t.opacity)):new nr}function qx(t,e,n,r){return arguments.length===1?ame(t):new nr(t,e,n,r??1)}function nr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}eS(nr,qx,fB(gp,{brighter(t){return t=t==null?cy:Math.pow(cy,t),new nr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?dh:Math.pow(dh,t),new nr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new nr(Is(this.r),Is(this.g),Is(this.b),dy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SR,formatHex:SR,formatHex8:sme,formatRgb:AR,toString:AR}));function SR(){return`#${gs(this.r)}${gs(this.g)}${gs(this.b)}`}function sme(){return`#${gs(this.r)}${gs(this.g)}${gs(this.b)}${gs((isNaN(this.opacity)?1:this.opacity)*255)}`}function AR(){const t=dy(this.opacity);return`${t===1?"rgb(":"rgba("}${Is(this.r)}, ${Is(this.g)}, ${Is(this.b)}${t===1?")":`, ${t})`}`}function dy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Is(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gs(t){return t=Is(t),(t<16?"0":"")+t.toString(16)}function PR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ti(t,e,n,r)}function hB(t){if(t instanceof ti)return new ti(t.h,t.s,t.l,t.opacity);if(t instanceof gp||(t=hh(t)),!t)return new ti;if(t instanceof ti)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new ti(a,s,l,t.opacity)}function lme(t,e,n,r){return arguments.length===1?hB(t):new ti(t,e,n,r??1)}function ti(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}eS(ti,lme,fB(gp,{brighter(t){return t=t==null?cy:Math.pow(cy,t),new ti(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?dh:Math.pow(dh,t),new ti(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new nr(pb(t>=240?t-240:t+120,i,r),pb(t,i,r),pb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ti(OR(this.h),mm(this.s),mm(this.l),dy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=dy(this.opacity);return`${t===1?"hsl(":"hsla("}${OR(this.h)}, ${mm(this.s)*100}%, ${mm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function OR(t){return t=(t||0)%360,t<0?t+360:t}function mm(t){return Math.max(0,Math.min(1,t||0))}function pb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const tS=t=>()=>t;function ume(t,e){return function(n){return t+n*e}}function cme(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function dme(t){return(t=+t)==1?pB:function(e,n){return n-e?cme(e,n,t):tS(isNaN(e)?n:e)}}function pB(t,e){var n=e-t;return n?ume(t,n):tS(isNaN(t)?e:t)}const kR=function t(e){var n=dme(e);function r(i,o){var a=n((i=qx(i)).r,(o=qx(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=pB(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function fme(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function hme(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pme(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Vc(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function mme(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function fy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function gme(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Vc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Gx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mb=new RegExp(Gx.source,"g");function yme(t){return function(){return t}}function vme(t){return function(e){return t(e)+""}}function _me(t,e){var n=Gx.lastIndex=mb.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Gx.exec(t))&&(i=mb.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:fy(r,i)})),n=mb.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?vme(l[0].x):yme(e):(e=l.length,function(u){for(var d=0,c;d<e;++d)s[(c=l[d]).i]=c.x(u);return s.join("")})}function Vc(t,e){var n=typeof e,r;return e==null||n==="boolean"?tS(e):(n==="number"?fy:n==="string"?(r=hh(e))?(e=r,kR):_me:e instanceof hh?kR:e instanceof Date?mme:hme(e)?fme:Array.isArray(e)?pme:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gme:fy)(t,e)}function nS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function bme(t,e){e===void 0&&(e=t,t=Vc);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function wme(t){return function(){return t}}function hy(t){return+t}var CR=[0,1];function Ln(t){return t}function Kx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:wme(isNaN(e)?NaN:.5)}function xme(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Eme(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Kx(i,r),o=n(a,o)):(r=Kx(r,i),o=n(o,a)),function(s){return o(r(s))}}function Tme(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Kx(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=mp(t,s,1,r)-1;return o[l](i[l](s))}}function yp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function x0(){var t=CR,e=CR,n=Vc,r,i,o,a=Ln,s,l,u;function d(){var h=Math.min(t.length,e.length);return a!==Ln&&(a=xme(t[0],t[h-1])),s=h>2?Tme:Eme,l=u=null,c}function c(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return c.invert=function(h){return a(i((u||(u=s(e,t.map(r),fy)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,hy),d()):t.slice()},c.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},c.rangeRound=function(h){return e=Array.from(h),n=nS,d()},c.clamp=function(h){return arguments.length?(a=h?!0:Ln,d()):a!==Ln},c.interpolate=function(h){return arguments.length?(n=h,d()):n},c.unknown=function(h){return arguments.length?(o=h,c):o},function(h,p){return r=h,i=p,d()}}function rS(){return x0()(Ln,Ln)}function Ime(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function py(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Gu(t){return t=py(Math.abs(t)),t?t[1]:NaN}function Sme(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Ame(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Pme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ph(t){if(!(e=Pme.exec(t)))throw new Error("invalid format: "+t);var e;return new iS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ph.prototype=iS.prototype;function iS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}iS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ome(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var mB;function kme(t,e){var n=py(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(mB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+py(t,Math.max(0,e+o-1))[0]}function RR(t,e){var n=py(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const NR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ime,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>RR(t*100,e),r:RR,s:kme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function DR(t){return t}var jR=Array.prototype.map,MR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Cme(t){var e=t.grouping===void 0||t.thousands===void 0?DR:Sme(jR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?DR:Ame(jR.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(c){c=ph(c);var h=c.fill,p=c.align,y=c.sign,g=c.symbol,v=c.zero,b=c.width,_=c.comma,x=c.precision,P=c.trim,E=c.type;E==="n"?(_=!0,E="g"):NR[E]||(x===void 0&&(x=12),P=!0,E="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",T=g==="$"?r:/[%p]/.test(E)?a:"",I=NR[E],O=/[defgprs%]/.test(E);x=x===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function C(R){var k=A,N=T,U,z,G;if(E==="c")N=I(R)+N,R="";else{R=+R;var H=R<0||1/R<0;if(R=isNaN(R)?l:I(Math.abs(R),x),P&&(R=Ome(R)),H&&+R==0&&y!=="+"&&(H=!1),k=(H?y==="("?y:s:y==="-"||y==="("?"":y)+k,N=(E==="s"?MR[8+mB/3]:"")+N+(H&&y==="("?")":""),O){for(U=-1,z=R.length;++U<z;)if(G=R.charCodeAt(U),48>G||G>57){N=(G===46?i+R.slice(U+1):R.slice(U))+N,R=R.slice(0,U);break}}}_&&!v&&(R=e(R,1/0));var V=k.length+R.length+N.length,q=V<b?new Array(b-V+1).join(h):"";switch(_&&v&&(R=e(q+R,q.length?b-N.length:1/0),q=""),p){case"<":R=k+R+N+q;break;case"=":R=k+q+R+N;break;case"^":R=q.slice(0,V=q.length>>1)+k+R+N+q.slice(V);break;default:R=q+k+R+N;break}return o(R)}return C.toString=function(){return c+""},C}function d(c,h){var p=u((c=ph(c),c.type="f",c)),y=Math.max(-8,Math.min(8,Math.floor(Gu(h)/3)))*3,g=Math.pow(10,-y),v=MR[8+y/3];return function(b){return p(g*b)+v}}return{format:u,formatPrefix:d}}var gm,oS,gB;Rme({thousands:",",grouping:[3],currency:["$",""]});function Rme(t){return gm=Cme(t),oS=gm.format,gB=gm.formatPrefix,gm}function Nme(t){return Math.max(0,-Gu(Math.abs(t)))}function Dme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gu(e)/3)))*3-Gu(Math.abs(t)))}function jme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gu(e)-Gu(t))+1}function yB(t,e,n,r){var i=zx(t,e,n),o;switch(r=ph(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Dme(i,a))&&(r.precision=o),gB(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=jme(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Nme(i))&&(r.precision=o-(r.type==="%")*2);break}}return oS(r)}function Ma(t){var e=t.domain;return t.ticks=function(n){var r=e();return Bx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return yB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,d=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);d-- >0;){if(u=Ux(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function my(){var t=rS();return t.copy=function(){return yp(t,my())},Wr.apply(t,arguments),Ma(t)}function vB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,hy),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return vB(t).unknown(e)},t=arguments.length?Array.from(t,hy):[0,1],Ma(n)}function _B(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function $R(t){return Math.log(t)}function LR(t){return Math.exp(t)}function Mme(t){return-Math.log(-t)}function $me(t){return-Math.exp(-t)}function Lme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Vme(t){return t===10?Lme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Fme(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function VR(t){return(e,n)=>-t(-e,n)}function aS(t){const e=t($R,LR),n=e.domain;let r=10,i,o;function a(){return i=Fme(r),o=Vme(r),n()[0]<0?(i=VR(i),o=VR(o),t(Mme,$me)):t($R,LR),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],d=l[l.length-1];const c=d<u;c&&([u,d]=[d,u]);let h=i(u),p=i(d),y,g;const v=s==null?10:+s;let b=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<r;++y)if(g=h<0?y/o(-h):y*o(h),!(g<u)){if(g>d)break;b.push(g)}}else for(;h<=p;++h)for(y=r-1;y>=1;--y)if(g=h>0?y/o(-h):y*o(h),!(g<u)){if(g>d)break;b.push(g)}b.length*2<v&&(b=Bx(u,d,v))}else b=Bx(h,p,Math.min(p-h,v)).map(o);return c?b.reverse():b},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ph(l)).precision==null&&(l.trim=!0),l=oS(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return d=>{let c=d/o(Math.round(i(d)));return c*r<r-.5&&(c*=r),c<=u?l(d):""}},e.nice=()=>n(_B(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function bB(){const t=aS(x0()).domain([1,10]);return t.copy=()=>yp(t,bB()).base(t.base()),Wr.apply(t,arguments),t}function FR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function BR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function sS(t){var e=1,n=t(FR(e),BR(e));return n.constant=function(r){return arguments.length?t(FR(e=+r),BR(e)):e},Ma(n)}function wB(){var t=sS(x0());return t.copy=function(){return yp(t,wB()).constant(t.constant())},Wr.apply(t,arguments)}function UR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Bme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ume(t){return t<0?-t*t:t*t}function lS(t){var e=t(Ln,Ln),n=1;function r(){return n===1?t(Ln,Ln):n===.5?t(Bme,Ume):t(UR(n),UR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ma(e)}function uS(){var t=lS(x0());return t.copy=function(){return yp(t,uS()).exponent(t.exponent())},Wr.apply(t,arguments),t}function zme(){return uS.apply(null,arguments).exponent(.5)}function zR(t){return Math.sign(t)*t*t}function Wme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function xB(){var t=rS(),e=[0,1],n=!1,r;function i(o){var a=Wme(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(zR(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,hy)).map(zR)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return xB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Wr.apply(i,arguments),Ma(i)}function EB(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=Ype(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[mp(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(da),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return EB().domain(t).range(e).unknown(r)},Wr.apply(o,arguments)}function TB(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[mp(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return TB().domain([t,e]).range(i).unknown(o)},Wr.apply(Ma(a),arguments)}function IB(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[mp(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return IB().domain(t).range(e).unknown(n)},Wr.apply(i,arguments)}const gb=new Date,yb=new Date;function Zt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>Zt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(gb.setTime(+o),yb.setTime(+a),t(gb),t(yb),Math.floor(n(gb,yb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const gy=Zt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);gy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):gy);gy.range;const Yi=1e3,Nr=Yi*60,Qi=Nr*60,ho=Qi*24,cS=ho*7,WR=ho*30,vb=ho*365,ys=Zt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Yi)},(t,e)=>(e-t)/Yi,t=>t.getUTCSeconds());ys.range;const dS=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yi)},(t,e)=>{t.setTime(+t+e*Nr)},(t,e)=>(e-t)/Nr,t=>t.getMinutes());dS.range;const fS=Zt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Nr)},(t,e)=>(e-t)/Nr,t=>t.getUTCMinutes());fS.range;const hS=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yi-t.getMinutes()*Nr)},(t,e)=>{t.setTime(+t+e*Qi)},(t,e)=>(e-t)/Qi,t=>t.getHours());hS.range;const pS=Zt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Qi)},(t,e)=>(e-t)/Qi,t=>t.getUTCHours());pS.range;const vp=Zt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Nr)/ho,t=>t.getDate()-1);vp.range;const E0=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ho,t=>t.getUTCDate()-1);E0.range;const SB=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ho,t=>Math.floor(t/ho));SB.range;function dl(t){return Zt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Nr)/cS)}const T0=dl(0),yy=dl(1),qme=dl(2),Gme=dl(3),Ku=dl(4),Kme=dl(5),Hme=dl(6);T0.range;yy.range;qme.range;Gme.range;Ku.range;Kme.range;Hme.range;function fl(t){return Zt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/cS)}const I0=fl(0),vy=fl(1),Yme=fl(2),Qme=fl(3),Hu=fl(4),Xme=fl(5),Jme=fl(6);I0.range;vy.range;Yme.range;Qme.range;Hu.range;Xme.range;Jme.range;const mS=Zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());mS.range;const gS=Zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());gS.range;const po=Zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());po.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});po.range;const mo=Zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());mo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});mo.range;function AB(t,e,n,r,i,o){const a=[[ys,1,Yi],[ys,5,5*Yi],[ys,15,15*Yi],[ys,30,30*Yi],[o,1,Nr],[o,5,5*Nr],[o,15,15*Nr],[o,30,30*Nr],[i,1,Qi],[i,3,3*Qi],[i,6,6*Qi],[i,12,12*Qi],[r,1,ho],[r,2,2*ho],[n,1,cS],[e,1,WR],[e,3,3*WR],[t,1,vb]];function s(u,d,c){const h=d<u;h&&([u,d]=[d,u]);const p=c&&typeof c.range=="function"?c:l(u,d,c),y=p?p.range(u,+d+1):[];return h?y.reverse():y}function l(u,d,c){const h=Math.abs(d-u)/c,p=JI(([,,v])=>v).right(a,h);if(p===a.length)return t.every(zx(u/vb,d/vb,c));if(p===0)return gy.every(Math.max(zx(u,d,c),1));const[y,g]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return y.every(g)}return[s,l]}const[Zme,ege]=AB(mo,gS,I0,SB,pS,fS),[tge,nge]=AB(po,mS,T0,vp,hS,dS);function _b(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function bb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function rge(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=wd(i),d=xd(i),c=wd(o),h=xd(o),p=wd(a),y=xd(a),g=wd(s),v=xd(s),b=wd(l),_=xd(l),x={a:H,A:V,b:q,B:J,c:null,d:QR,e:QR,f:Sge,g:Mge,G:Lge,H:Ege,I:Tge,j:Ige,L:PB,m:Age,M:Pge,p:se,q:Z,Q:ZR,s:eN,S:Oge,u:kge,U:Cge,V:Rge,w:Nge,W:Dge,x:null,X:null,y:jge,Y:$ge,Z:Vge,"%":JR},P={a:Y,A:ge,b:Ie,B:Le,c:null,d:XR,e:XR,f:zge,g:Zge,G:tye,H:Fge,I:Bge,j:Uge,L:kB,m:Wge,M:qge,p:gt,q:yt,Q:ZR,s:eN,S:Gge,u:Kge,U:Hge,V:Yge,w:Qge,W:Xge,x:null,X:null,y:Jge,Y:eye,Z:nye,"%":JR},E={a:C,A:R,b:k,B:N,c:U,d:HR,e:HR,f:_ge,g:KR,G:GR,H:YR,I:YR,j:mge,L:vge,m:pge,M:gge,p:O,q:hge,Q:wge,s:xge,S:yge,u:lge,U:uge,V:cge,w:sge,W:dge,x:z,X:G,y:KR,Y:GR,Z:fge,"%":bge};x.x=A(n,x),x.X=A(r,x),x.c=A(e,x),P.x=A(n,P),P.X=A(r,P),P.c=A(e,P);function A(ie,me){return function(de){var K=[],De=-1,Se=0,Qe=ie.length,Xe,Wt,Kn;for(de instanceof Date||(de=new Date(+de));++De<Qe;)ie.charCodeAt(De)===37&&(K.push(ie.slice(Se,De)),(Wt=qR[Xe=ie.charAt(++De)])!=null?Xe=ie.charAt(++De):Wt=Xe==="e"?" ":"0",(Kn=me[Xe])&&(Xe=Kn(de,Wt)),K.push(Xe),Se=De+1);return K.push(ie.slice(Se,De)),K.join("")}}function T(ie,me){return function(de){var K=bd(1900,void 0,1),De=I(K,ie,de+="",0),Se,Qe;if(De!=de.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(me&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Se=bb(bd(K.y,0,1)),Qe=Se.getUTCDay(),Se=Qe>4||Qe===0?vy.ceil(Se):vy(Se),Se=E0.offset(Se,(K.V-1)*7),K.y=Se.getUTCFullYear(),K.m=Se.getUTCMonth(),K.d=Se.getUTCDate()+(K.w+6)%7):(Se=_b(bd(K.y,0,1)),Qe=Se.getDay(),Se=Qe>4||Qe===0?yy.ceil(Se):yy(Se),Se=vp.offset(Se,(K.V-1)*7),K.y=Se.getFullYear(),K.m=Se.getMonth(),K.d=Se.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Qe="Z"in K?bb(bd(K.y,0,1)).getUTCDay():_b(bd(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Qe+5)%7:K.w+K.U*7-(Qe+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,bb(K)):_b(K)}}function I(ie,me,de,K){for(var De=0,Se=me.length,Qe=de.length,Xe,Wt;De<Se;){if(K>=Qe)return-1;if(Xe=me.charCodeAt(De++),Xe===37){if(Xe=me.charAt(De++),Wt=E[Xe in qR?me.charAt(De++):Xe],!Wt||(K=Wt(ie,de,K))<0)return-1}else if(Xe!=de.charCodeAt(K++))return-1}return K}function O(ie,me,de){var K=u.exec(me.slice(de));return K?(ie.p=d.get(K[0].toLowerCase()),de+K[0].length):-1}function C(ie,me,de){var K=p.exec(me.slice(de));return K?(ie.w=y.get(K[0].toLowerCase()),de+K[0].length):-1}function R(ie,me,de){var K=c.exec(me.slice(de));return K?(ie.w=h.get(K[0].toLowerCase()),de+K[0].length):-1}function k(ie,me,de){var K=b.exec(me.slice(de));return K?(ie.m=_.get(K[0].toLowerCase()),de+K[0].length):-1}function N(ie,me,de){var K=g.exec(me.slice(de));return K?(ie.m=v.get(K[0].toLowerCase()),de+K[0].length):-1}function U(ie,me,de){return I(ie,e,me,de)}function z(ie,me,de){return I(ie,n,me,de)}function G(ie,me,de){return I(ie,r,me,de)}function H(ie){return a[ie.getDay()]}function V(ie){return o[ie.getDay()]}function q(ie){return l[ie.getMonth()]}function J(ie){return s[ie.getMonth()]}function se(ie){return i[+(ie.getHours()>=12)]}function Z(ie){return 1+~~(ie.getMonth()/3)}function Y(ie){return a[ie.getUTCDay()]}function ge(ie){return o[ie.getUTCDay()]}function Ie(ie){return l[ie.getUTCMonth()]}function Le(ie){return s[ie.getUTCMonth()]}function gt(ie){return i[+(ie.getUTCHours()>=12)]}function yt(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var me=A(ie+="",x);return me.toString=function(){return ie},me},parse:function(ie){var me=T(ie+="",!1);return me.toString=function(){return ie},me},utcFormat:function(ie){var me=A(ie+="",P);return me.toString=function(){return ie},me},utcParse:function(ie){var me=T(ie+="",!0);return me.toString=function(){return ie},me}}}var qR={"-":"",_:" ",0:"0"},un=/^\s*\d+/,ige=/^%/,oge=/[\\^$*+?|[\]().{}]/g;function $e(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function age(t){return t.replace(oge,"\\$&")}function wd(t){return new RegExp("^(?:"+t.map(age).join("|")+")","i")}function xd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function sge(t,e,n){var r=un.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lge(t,e,n){var r=un.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function uge(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function cge(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function dge(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function GR(t,e,n){var r=un.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function KR(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fge(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hge(t,e,n){var r=un.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function pge(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function HR(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function mge(t,e,n){var r=un.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function YR(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function gge(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function yge(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function vge(t,e,n){var r=un.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _ge(t,e,n){var r=un.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bge(t,e,n){var r=ige.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function wge(t,e,n){var r=un.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xge(t,e,n){var r=un.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function QR(t,e){return $e(t.getDate(),e,2)}function Ege(t,e){return $e(t.getHours(),e,2)}function Tge(t,e){return $e(t.getHours()%12||12,e,2)}function Ige(t,e){return $e(1+vp.count(po(t),t),e,3)}function PB(t,e){return $e(t.getMilliseconds(),e,3)}function Sge(t,e){return PB(t,e)+"000"}function Age(t,e){return $e(t.getMonth()+1,e,2)}function Pge(t,e){return $e(t.getMinutes(),e,2)}function Oge(t,e){return $e(t.getSeconds(),e,2)}function kge(t){var e=t.getDay();return e===0?7:e}function Cge(t,e){return $e(T0.count(po(t)-1,t),e,2)}function OB(t){var e=t.getDay();return e>=4||e===0?Ku(t):Ku.ceil(t)}function Rge(t,e){return t=OB(t),$e(Ku.count(po(t),t)+(po(t).getDay()===4),e,2)}function Nge(t){return t.getDay()}function Dge(t,e){return $e(yy.count(po(t)-1,t),e,2)}function jge(t,e){return $e(t.getFullYear()%100,e,2)}function Mge(t,e){return t=OB(t),$e(t.getFullYear()%100,e,2)}function $ge(t,e){return $e(t.getFullYear()%1e4,e,4)}function Lge(t,e){var n=t.getDay();return t=n>=4||n===0?Ku(t):Ku.ceil(t),$e(t.getFullYear()%1e4,e,4)}function Vge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$e(e/60|0,"0",2)+$e(e%60,"0",2)}function XR(t,e){return $e(t.getUTCDate(),e,2)}function Fge(t,e){return $e(t.getUTCHours(),e,2)}function Bge(t,e){return $e(t.getUTCHours()%12||12,e,2)}function Uge(t,e){return $e(1+E0.count(mo(t),t),e,3)}function kB(t,e){return $e(t.getUTCMilliseconds(),e,3)}function zge(t,e){return kB(t,e)+"000"}function Wge(t,e){return $e(t.getUTCMonth()+1,e,2)}function qge(t,e){return $e(t.getUTCMinutes(),e,2)}function Gge(t,e){return $e(t.getUTCSeconds(),e,2)}function Kge(t){var e=t.getUTCDay();return e===0?7:e}function Hge(t,e){return $e(I0.count(mo(t)-1,t),e,2)}function CB(t){var e=t.getUTCDay();return e>=4||e===0?Hu(t):Hu.ceil(t)}function Yge(t,e){return t=CB(t),$e(Hu.count(mo(t),t)+(mo(t).getUTCDay()===4),e,2)}function Qge(t){return t.getUTCDay()}function Xge(t,e){return $e(vy.count(mo(t)-1,t),e,2)}function Jge(t,e){return $e(t.getUTCFullYear()%100,e,2)}function Zge(t,e){return t=CB(t),$e(t.getUTCFullYear()%100,e,2)}function eye(t,e){return $e(t.getUTCFullYear()%1e4,e,4)}function tye(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Hu(t):Hu.ceil(t),$e(t.getUTCFullYear()%1e4,e,4)}function nye(){return"+0000"}function JR(){return"%"}function ZR(t){return+t}function eN(t){return Math.floor(+t/1e3)}var Sl,RB,NB;rye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rye(t){return Sl=rge(t),RB=Sl.format,Sl.parse,NB=Sl.utcFormat,Sl.utcParse,Sl}function iye(t){return new Date(t)}function oye(t){return t instanceof Date?+t:+new Date(+t)}function yS(t,e,n,r,i,o,a,s,l,u){var d=rS(),c=d.invert,h=d.domain,p=u(".%L"),y=u(":%S"),g=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),_=u("%b %d"),x=u("%B"),P=u("%Y");function E(A){return(l(A)<A?p:s(A)<A?y:a(A)<A?g:o(A)<A?v:r(A)<A?i(A)<A?b:_:n(A)<A?x:P)(A)}return d.invert=function(A){return new Date(c(A))},d.domain=function(A){return arguments.length?h(Array.from(A,oye)):h().map(iye)},d.ticks=function(A){var T=h();return t(T[0],T[T.length-1],A??10)},d.tickFormat=function(A,T){return T==null?E:u(T)},d.nice=function(A){var T=h();return(!A||typeof A.range!="function")&&(A=e(T[0],T[T.length-1],A??10)),A?h(_B(T,A)):d},d.copy=function(){return yp(d,yS(t,e,n,r,i,o,a,s,l,u))},d}function aye(){return Wr.apply(yS(tge,nge,po,mS,T0,vp,hS,dS,ys,RB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sye(){return Wr.apply(yS(Zme,ege,mo,gS,I0,E0,pS,fS,ys,NB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function S0(){var t=0,e=1,n,r,i,o,a=Ln,s=!1,l;function u(c){return c==null||isNaN(c=+c)?l:a(i===0?.5:(c=(o(c)-n)*i,s?Math.max(0,Math.min(1,c)):c))}u.domain=function(c){return arguments.length?([t,e]=c,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(c){return arguments.length?(s=!!c,u):s},u.interpolator=function(c){return arguments.length?(a=c,u):a};function d(c){return function(h){var p,y;return arguments.length?([p,y]=h,a=c(p,y),u):[a(0),a(1)]}}return u.range=d(Vc),u.rangeRound=d(nS),u.unknown=function(c){return arguments.length?(l=c,u):l},function(c){return o=c,n=c(t),r=c(e),i=n===r?0:1/(r-n),u}}function $a(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function DB(){var t=Ma(S0()(Ln));return t.copy=function(){return $a(t,DB())},Ao.apply(t,arguments)}function jB(){var t=aS(S0()).domain([1,10]);return t.copy=function(){return $a(t,jB()).base(t.base())},Ao.apply(t,arguments)}function MB(){var t=sS(S0());return t.copy=function(){return $a(t,MB()).constant(t.constant())},Ao.apply(t,arguments)}function vS(){var t=lS(S0());return t.copy=function(){return $a(t,vS()).exponent(t.exponent())},Ao.apply(t,arguments)}function lye(){return vS.apply(null,arguments).exponent(.5)}function $B(){var t=[],e=Ln;function n(r){if(r!=null&&!isNaN(r=+r))return e((mp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(da),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Hpe(t,o/r))},n.copy=function(){return $B(e).domain(t)},Ao.apply(n,arguments)}function A0(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=Ln,d,c=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-o)*(r*g<r*o?s:l),u(c?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),o=d(e=+e),a=d(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(c=!!g,p):c},p.interpolator=function(g){return arguments.length?(u=g,p):u};function y(g){return function(v){var b,_,x;return arguments.length?([b,_,x]=v,u=bme(g,[b,_,x]),p):[u(0),u(.5),u(1)]}}return p.range=y(Vc),p.rangeRound=y(nS),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(t),o=g(e),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function LB(){var t=Ma(A0()(Ln));return t.copy=function(){return $a(t,LB())},Ao.apply(t,arguments)}function VB(){var t=aS(A0()).domain([.1,1,10]);return t.copy=function(){return $a(t,VB()).base(t.base())},Ao.apply(t,arguments)}function FB(){var t=sS(A0());return t.copy=function(){return $a(t,FB()).constant(t.constant())},Ao.apply(t,arguments)}function _S(){var t=lS(A0());return t.copy=function(){return $a(t,_S()).exponent(t.exponent())},Ao.apply(t,arguments)}function uye(){return _S.apply(null,arguments).exponent(.5)}const tN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ch,scaleDiverging:LB,scaleDivergingLog:VB,scaleDivergingPow:_S,scaleDivergingSqrt:uye,scaleDivergingSymlog:FB,scaleIdentity:vB,scaleImplicit:Wx,scaleLinear:my,scaleLog:bB,scaleOrdinal:ZI,scalePoint:lf,scalePow:uS,scaleQuantile:EB,scaleQuantize:TB,scaleRadial:xB,scaleSequential:DB,scaleSequentialLog:jB,scaleSequentialPow:vS,scaleSequentialQuantile:$B,scaleSequentialSqrt:lye,scaleSequentialSymlog:MB,scaleSqrt:zme,scaleSymlog:wB,scaleThreshold:IB,scaleTime:aye,scaleUtc:sye,tickFormat:yB},Symbol.toStringTag,{value:"Module"}));var cye=Oc;function dye(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!cye(a):n(a,s)))var s=a,l=o}return l}var P0=dye;function fye(t,e){return t>e}var BB=fye,hye=P0,pye=BB,mye=Lc;function gye(t){return t&&t.length?hye(t,mye,pye):void 0}var yye=gye;const Jo=Ge(yye);function vye(t,e){return t<e}var UB=vye,_ye=P0,bye=UB,wye=Lc;function xye(t){return t&&t.length?_ye(t,wye,bye):void 0}var Eye=xye;const O0=Ge(Eye);var Tye=CI,Iye=ja,Sye=Q4,Aye=sr;function Pye(t,e){var n=Aye(t)?Tye:Sye;return n(t,Iye(e))}var Oye=Pye,kye=H4,Cye=Oye;function Rye(t,e){return kye(Cye(t,e),1)}var Nye=Rye;const Dye=Ge(Nye);var jye=KI;function Mye(t,e){return jye(t,e)}var $ye=Mye;const Yu=Ge($ye);var Fc=1e9,Lye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wS,pt=!0,Ur="[DecimalError] ",Ss=Ur+"Invalid argument: ",bS=Ur+"Exponent out of range: ",Bc=Math.floor,es=Math.pow,Vye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pr,tn=1e7,at=7,zB=9007199254740991,_y=Bc(zB/at),ce={};ce.absoluteValue=ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ce.comparedTo=ce.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ce.decimalPlaces=ce.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*at;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ce.dividedBy=ce.div=function(t){return no(this,new this.constructor(t))};ce.dividedToIntegerBy=ce.idiv=function(t){var e=this,n=e.constructor;return Ye(no(e,new n(t),0,1),n.precision)};ce.equals=ce.eq=function(t){return!this.cmp(t)};ce.exponent=function(){return zt(this)};ce.greaterThan=ce.gt=function(t){return this.cmp(t)>0};ce.greaterThanOrEqualTo=ce.gte=function(t){return this.cmp(t)>=0};ce.isInteger=ce.isint=function(){return this.e>this.d.length-2};ce.isNegative=ce.isneg=function(){return this.s<0};ce.isPositive=ce.ispos=function(){return this.s>0};ce.isZero=function(){return this.s===0};ce.lessThan=ce.lt=function(t){return this.cmp(t)<0};ce.lessThanOrEqualTo=ce.lte=function(t){return this.cmp(t)<1};ce.logarithm=ce.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(pr))throw Error(Ur+"NaN");if(n.s<1)throw Error(Ur+(n.s?"NaN":"-Infinity"));return n.eq(pr)?new r(0):(pt=!1,e=no(mh(n,o),mh(t,o),o),pt=!0,Ye(e,i))};ce.minus=ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?GB(e,t):WB(e,(t.s=-t.s,t))};ce.modulo=ce.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ur+"NaN");return n.s?(pt=!1,e=no(n,t,0,1).times(t),pt=!0,n.minus(e)):Ye(new r(n),i)};ce.naturalExponential=ce.exp=function(){return qB(this)};ce.naturalLogarithm=ce.ln=function(){return mh(this)};ce.negated=ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ce.plus=ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?WB(e,t):GB(e,(t.s=-t.s,t))};ce.precision=ce.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ss+t);if(e=zt(i)+1,r=i.d.length-1,n=r*at+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ce.squareRoot=ce.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Ur+"NaN")}for(t=zt(s),pt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=_i(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Bc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(no(s,o,a+2)).times(.5),_i(o.d).slice(0,a)===(e=_i(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ye(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return pt=!0,Ye(r,n)};ce.times=ce.mul=function(t){var e,n,r,i,o,a,s,l,u,d=this,c=d.constructor,h=d.d,p=(t=new c(t)).d;if(!d.s||!t.s)return new c(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*h[i-r-1]+e,o[i--]=s%tn|0,e=s/tn|0;o[i]=(o[i]+e)%tn|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,pt?Ye(t,c.precision):t};ce.toDecimalPlaces=ce.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ri(t,0,Fc),e===void 0?e=r.rounding:Ri(e,0,8),Ye(n,t+zt(n)+1,e))};ce.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Qs(r,!0):(Ri(t,0,Fc),e===void 0?e=i.rounding:Ri(e,0,8),r=Ye(new i(r),t+1,e),n=Qs(r,!0,t+1)),n};ce.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Qs(i):(Ri(t,0,Fc),e===void 0?e=o.rounding:Ri(e,0,8),r=Ye(new o(i),t+zt(i)+1,e),n=Qs(r.abs(),!1,t+zt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ce.toInteger=ce.toint=function(){var t=this,e=t.constructor;return Ye(new e(t),zt(t)+1,e.rounding)};ce.toNumber=function(){return+this};ce.toPower=ce.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(pr);if(s=new l(s),!s.s){if(t.s<1)throw Error(Ur+"Infinity");return s}if(s.eq(pr))return s;if(r=l.precision,t.eq(pr))return Ye(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=d<0?-d:d)<=zB){for(i=new l(pr),e=Math.ceil(r/at+4),pt=!1;n%2&&(i=i.times(s),rN(i.d,e)),n=Bc(n/2),n!==0;)s=s.times(s),rN(s.d,e);return pt=!0,t.s<0?new l(pr).div(i):Ye(i,r)}}else if(o<0)throw Error(Ur+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,pt=!1,i=t.times(mh(s,r+u)),pt=!0,i=qB(i),i.s=o,i};ce.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=zt(i),r=Qs(i,n<=o.toExpNeg||n>=o.toExpPos)):(Ri(t,1,Fc),e===void 0?e=o.rounding:Ri(e,0,8),i=Ye(new o(i),t,e),n=zt(i),r=Qs(i,t<=n||n<=o.toExpNeg,t)),r};ce.toSignificantDigits=ce.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ri(t,1,Fc),e===void 0?e=r.rounding:Ri(e,0,8)),Ye(new r(n),t,e)};ce.toString=ce.valueOf=ce.val=ce.toJSON=ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zt(t),n=t.constructor;return Qs(t,e<=n.toExpNeg||e>=n.toExpPos)};function WB(t,e){var n,r,i,o,a,s,l,u,d=t.constructor,c=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),pt?Ye(e,c):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(c/at),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/tn|0,l[o]%=tn;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,pt?Ye(e,c):e}function Ri(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ss+t)}function _i(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=at-r.length,n&&(o+=Uo(n)),o+=r;a=t[e],r=a+"",n=at-r.length,n&&(o+=Uo(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var no=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%tn|0,a=o/tn|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*tn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,d,c,h,p,y,g,v,b,_,x,P,E,A,T,I,O=r.constructor,C=r.s==i.s?1:-1,R=r.d,k=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(Ur+"Division by zero");for(l=r.e-i.e,T=k.length,E=R.length,p=new O(C),y=p.d=[],u=0;k[u]==(R[u]||0);)++u;if(k[u]>(R[u]||0)&&--l,o==null?_=o=O.precision:a?_=o+(zt(r)-zt(i))+1:_=o,_<0)return new O(0);if(_=_/at+2|0,u=0,T==1)for(d=0,k=k[0],_++;(u<E||d)&&_--;u++)x=d*tn+(R[u]||0),y[u]=x/k|0,d=x%k|0;else{for(d=tn/(k[0]+1)|0,d>1&&(k=t(k,d),R=t(R,d),T=k.length,E=R.length),P=T,g=R.slice(0,T),v=g.length;v<T;)g[v++]=0;I=k.slice(),I.unshift(0),A=k[0],k[1]>=tn/2&&++A;do d=0,s=e(k,g,T,v),s<0?(b=g[0],T!=v&&(b=b*tn+(g[1]||0)),d=b/A|0,d>1?(d>=tn&&(d=tn-1),c=t(k,d),h=c.length,v=g.length,s=e(c,g,h,v),s==1&&(d--,n(c,T<h?I:k,h))):(d==0&&(s=d=1),c=k.slice()),h=c.length,h<v&&c.unshift(0),n(g,c,v),s==-1&&(v=g.length,s=e(k,g,T,v),s<1&&(d++,n(g,T<v?I:k,v))),v=g.length):s===0&&(d++,g=[0]),y[u++]=d,s&&g[0]?g[v++]=R[P]||0:(g=[R[P]],v=1);while((P++<E||g[0]!==void 0)&&_--)}return y[0]||y.shift(),p.e=l,Ye(p,a?o+zt(p)+1:o)}}();function qB(t,e){var n,r,i,o,a,s,l=0,u=0,d=t.constructor,c=d.precision;if(zt(t)>16)throw Error(bS+zt(t));if(!t.s)return new d(pr);for(pt=!1,s=c,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(es(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new d(pr),d.precision=s;;){if(i=Ye(i.times(t),s),n=n.times(++l),a=o.plus(no(i,n,s)),_i(a.d).slice(0,s)===_i(o.d).slice(0,s)){for(;u--;)o=Ye(o.times(o),s);return d.precision=c,e==null?(pt=!0,Ye(o,c)):o}o=a}}function zt(t){for(var e=t.e*at,n=t.d[0];n>=10;n/=10)e++;return e}function wb(t,e,n){if(e>t.LN10.sd())throw pt=!0,n&&(t.precision=n),Error(Ur+"LN10 precision limit exceeded");return Ye(new t(t.LN10),e)}function Uo(t){for(var e="";t--;)e+="0";return e}function mh(t,e){var n,r,i,o,a,s,l,u,d,c=1,h=10,p=t,y=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Ur+(p.s?"NaN":"-Infinity"));if(p.eq(pr))return new g(0);if(e==null?(pt=!1,u=v):u=e,p.eq(10))return e==null&&(pt=!0),wb(g,u);if(u+=h,g.precision=u,n=_i(y),r=n.charAt(0),o=zt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=_i(p.d),r=n.charAt(0),c++;o=zt(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return l=wb(g,u+2,v).times(o+""),p=mh(new g(r+"."+n.slice(1)),u-h).plus(l),g.precision=v,e==null?(pt=!0,Ye(p,v)):p;for(s=a=p=no(p.minus(pr),p.plus(pr),u),d=Ye(p.times(p),u),i=3;;){if(a=Ye(a.times(d),u),l=s.plus(no(a,new g(i),u)),_i(l.d).slice(0,u)===_i(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(wb(g,u+2,v).times(o+""))),s=no(s,new g(c),u),g.precision=v,e==null?(pt=!0,Ye(s,v)):s;s=l,i+=2}}function nN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Bc(n/at),t.d=[],r=(n+1)%at,n<0&&(r+=at),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=at;r<i;)t.d.push(+e.slice(r,r+=at));e=e.slice(r),r=at-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),pt&&(t.e>_y||t.e<-_y))throw Error(bS+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ye(t,e,n){var r,i,o,a,s,l,u,d,c=t.d;for(a=1,o=c[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=at,i=e,u=c[d=0];else{if(d=Math.ceil((r+1)/at),o=c.length,d>=o)return t;for(u=o=c[d],a=1;o>=10;o/=10)a++;r%=at,i=r-at+a}if(n!==void 0&&(o=es(10,a-i-1),s=u/o%10|0,l=e<0||c[d+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/es(10,a-i):0:c[d-1])%10&1||n==(t.s<0?8:7))),e<1||!c[0])return l?(o=zt(t),c.length=1,e=e-o-1,c[0]=es(10,(at-e%at)%at),t.e=Bc(-e/at)||0):(c.length=1,c[0]=t.e=t.s=0),t;if(r==0?(c.length=d,o=1,d--):(c.length=d+1,o=es(10,at-r),c[d]=i>0?(u/es(10,a-i)%es(10,i)|0)*o:0),l)for(;;)if(d==0){(c[0]+=o)==tn&&(c[0]=1,++t.e);break}else{if(c[d]+=o,c[d]!=tn)break;c[d--]=0,o=1}for(r=c.length;c[--r]===0;)c.pop();if(pt&&(t.e>_y||t.e<-_y))throw Error(bS+zt(t));return t}function GB(t,e){var n,r,i,o,a,s,l,u,d,c,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),pt?Ye(e,p):e;if(l=t.d,c=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(d=a<0,d?(n=l,a=-a,s=c.length):(n=c,r=u,s=l.length),i=Math.max(Math.ceil(p/at),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=c.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=c[i]){d=l[i]<c[i];break}a=0}for(d&&(n=l,l=c,c=n,e.s=-e.s),s=l.length,i=c.length-s;i>0;--i)l[s++]=0;for(i=c.length;i>a;){if(l[--i]<c[i]){for(o=i;o&&l[--o]===0;)l[o]=tn-1;--l[o],l[i]+=tn}l[i]-=c[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,pt?Ye(e,p):e):new h(0)}function Qs(t,e,n){var r,i=zt(t),o=_i(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Uo(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Uo(-i-1)+o,n&&(r=n-a)>0&&(o+=Uo(r))):i>=a?(o+=Uo(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Uo(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Uo(r))),t.s<0?"-"+o:o}function rN(t,e){if(t.length>e)return t.length=e,!0}function KB(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ss+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return nN(a,o.toString())}else if(typeof o!="string")throw Error(Ss+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Vye.test(o))nN(a,o);else throw Error(Ss+o)}if(i.prototype=ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=KB,i.config=i.set=Fye,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Fye(t){if(!t||typeof t!="object")throw Error(Ur+"Object expected");var e,n,r,i=["precision",1,Fc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Bc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ss+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ss+n+": "+r);return this}var wS=KB(Lye);pr=new wS(1);const We=wS;function Bye(t){return qye(t)||Wye(t)||zye(t)||Uye()}function Uye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zye(t,e){if(t){if(typeof t=="string")return Hx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hx(t,e)}}function Wye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function qye(t){if(Array.isArray(t))return Hx(t)}function Hx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Gye=function(e){return e},HB={},YB=function(e){return e===HB},iN=function(e){return function n(){return arguments.length===0||arguments.length===1&&YB(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Kye=function t(e,n){return e===1?n:iN(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==HB}).length;return a>=e?n.apply(void 0,i):t(e-a,iN(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=i.map(function(c){return YB(c)?l.shift():c});return n.apply(void 0,Bye(d).concat(l))}))})},k0=function(e){return Kye(e.length,e)},Yx=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Hye=k0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Yye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Gye;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Qx=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},QB=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Qye(t){var e;return t===0?e=1:e=Math.floor(new We(t).abs().log(10).toNumber())+1,e}function Xye(t,e,n){for(var r=new We(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Jye=k0(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Zye=k0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),eve=k0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const C0={rangeStep:Xye,getDigitCount:Qye,interpolateNumber:Jye,uninterpolateNumber:Zye,uninterpolateTruncation:eve};function Xx(t){return rve(t)||nve(t)||XB(t)||tve()}function tve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nve(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function rve(t){if(Array.isArray(t))return Jx(t)}function gh(t,e){return ave(t)||ove(t,e)||XB(t,e)||ive()}function ive(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XB(t,e){if(t){if(typeof t=="string")return Jx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jx(t,e)}}function Jx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ove(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function ave(t){if(Array.isArray(t))return t}function JB(t){var e=gh(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function ZB(t,e,n){if(t.lte(0))return new We(0);var r=C0.getDigitCount(t.toNumber()),i=new We(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new We(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new We(Math.ceil(l))}function sve(t,e,n){var r=1,i=new We(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new We(10).pow(C0.getDigitCount(t)-1),i=new We(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new We(Math.floor(t)))}else t===0?i=new We(Math.floor((e-1)/2)):n||(i=new We(Math.floor(t)));var a=Math.floor((e-1)/2),s=Yye(Hye(function(l){return i.add(new We(l-a).mul(r)).toNumber()}),Yx);return s(0,e)}function eU(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new We(0),tickMin:new We(0),tickMax:new We(0)};var o=ZB(new We(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new We(0):(a=new We(t).add(e).div(2),a=a.sub(new We(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new We(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?eU(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new We(s).mul(o)),tickMax:a.add(new We(l).mul(o))})}function lve(t){var e=gh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=JB([n,r]),l=gh(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var c=d===1/0?[u].concat(Xx(Yx(0,i-1).map(function(){return 1/0}))):[].concat(Xx(Yx(0,i-1).map(function(){return-1/0})),[d]);return n>r?Qx(c):c}if(u===d)return sve(u,i,o);var h=eU(u,d,a,o),p=h.step,y=h.tickMin,g=h.tickMax,v=C0.rangeStep(y,g.add(new We(.1).mul(p)),p);return n>r?Qx(v):v}function uve(t,e){var n=gh(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=JB([r,i]),s=gh(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(e,2),c=ZB(new We(u).sub(l).div(d-1),o,0),h=[].concat(Xx(C0.rangeStep(new We(l),new We(u).sub(new We(.99).mul(c)),c)),[u]);return r>i?Qx(h):h}var cve=QB(lve),dve=QB(uve),fve="Invariant failed";function Xs(t,e){throw new Error(fve)}var hve=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},by.apply(this,arguments)}function pve(t,e){return vve(t)||yve(t,e)||gve(t,e)||mve()}function mve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gve(t,e){if(t){if(typeof t=="string")return oN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oN(t,e)}}function oN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function vve(t){if(Array.isArray(t))return t}function _ve(t,e){if(t==null)return{};var n=bve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rU(r.key),r)}}function Eve(t,e,n){return e&&xve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tve(t,e,n){return e=wy(e),Ive(t,tU()?Reflect.construct(e,n||[],wy(t).constructor):e.apply(t,n))}function Ive(t,e){if(e&&(Qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sve(t)}function Sve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tU=function(){return!!t})()}function wy(t){return wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wy(t)}function Ave(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zx(t,e)}function Zx(t,e){return Zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zx(t,e)}function nU(t,e,n){return e=rU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rU(t){var e=Pve(t,"string");return Qu(e)=="symbol"?e:e+""}function Pve(t,e){if(Qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var R0=function(t){function e(){return wve(this,e),Tve(this,e,arguments)}return Ave(e,t),Eve(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,c=r.yAxis,h=_ve(r,hve),p=ye(h,!1);this.props.direction==="x"&&d.type!=="number"&&Xs();var y=l.map(function(g){var v=u(g,s),b=v.x,_=v.y,x=v.value,P=v.errorVal;if(!P)return null;var E=[],A,T;if(Array.isArray(P)){var I=pve(P,2);A=I[0],T=I[1]}else A=T=P;if(o==="vertical"){var O=d.scale,C=_+i,R=C+a,k=C-a,N=O(x-A),U=O(x+T);E.push({x1:U,y1:R,x2:U,y2:k}),E.push({x1:N,y1:C,x2:U,y2:C}),E.push({x1:N,y1:R,x2:N,y2:k})}else if(o==="horizontal"){var z=c.scale,G=b+i,H=G-a,V=G+a,q=z(x-A),J=z(x+T);E.push({x1:H,y1:J,x2:V,y2:J}),E.push({x1:G,y1:q,x2:G,y2:J}),E.push({x1:H,y1:q,x2:V,y2:q})}return M.createElement(Re,by({className:"recharts-errorBar",key:"bar-".concat(E.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},p),E.map(function(se){return M.createElement("line",by({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return M.createElement(Re,{className:"recharts-errorBars"},y)}}])}(M.Component);nU(R0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});nU(R0,"displayName","ErrorBar");function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function aN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aN(Object(n),!0).forEach(function(r){Ove(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ove(t,e,n){return e=kve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kve(t){var e=Cve(t,"string");return yh(e)=="symbol"?e:e+""}function Cve(t,e){if(yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iU=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=fr(n,du);if(!a)return null;var s=du.defaultProps,l=s!==void 0?qa(qa({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(d,c){var h=c.item,p=c.props,y=p.sectors||p.data||[];return d.concat(y.map(function(g){return{type:a.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(d){var c=d.item,h=c.type.defaultProps,p=h!==void 0?qa(qa({},h),c.props):{},y=p.dataKey,g=p.name,v=p.legendType,b=p.hide;return{inactive:b,dataKey:y,type:l.iconType||v||"square",color:xS(c),value:g||y,payload:p}}),qa(qa(qa({},l),du.getWithHeight(a,i)),{},{payload:u,item:a})};function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function sN(t){return jve(t)||Dve(t)||Nve(t)||Rve()}function Rve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nve(t,e){if(t){if(typeof t=="string")return eE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eE(t,e)}}function Dve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jve(t){if(Array.isArray(t))return eE(t)}function eE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(n),!0).forEach(function(r){hu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hu(t,e,n){return e=Mve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mve(t){var e=$ve(t,"string");return vh(e)=="symbol"?e:e+""}function $ve(t,e){if(vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ht(t,e,n){return we(t)||we(e)?n:Qt(e)?_r(t,e,n):_e(e)?e(t):n}function uf(t,e,n,r){var i=Dye(t,function(s){return Ht(s,e)});if(n==="number"){var o=i.filter(function(s){return ne(s)||parseFloat(s)});return o.length?[O0(o),Jo(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!we(s)}):i;return a.map(function(s){return Qt(s)||s instanceof Date?s:""})}var Lve=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,c=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Mn(c-d)!==Mn(h-c)){var y=[];if(Mn(h-c)===Mn(l[1]-l[0])){p=h;var g=c+l[1]-l[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{p=d;var v=h+l[1]-l[0];y[0]=Math.min(c,(v+c)/2),y[1]=Math.max(c,(v+c)/2)}var b=[Math.min(c,(p+c)/2),Math.max(c,(p+c)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){a=i[u].index;break}}else{var _=Math.min(d,h),x=Math.max(d,h);if(e>(_+c)/2&&e<=(x+c)/2){a=i[u].index;break}}}else for(var P=0;P<s;P++)if(P===0&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<s-1&&e>(r[P].coordinate+r[P-1].coordinate)/2&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P===s-1&&e>(r[P].coordinate+r[P-1].coordinate)/2){a=r[P].index;break}return a},xS=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?St(St({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Vve=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var d=o[s[l]].stackGroups,c=Object.keys(d),h=0,p=c.length;h<p;h++){var y=d[c[h]],g=y.items,v=y.cateAxisId,b=g.filter(function(T){return eo(T.type).indexOf("Bar")>=0});if(b&&b.length){var _=b[0].type.defaultProps,x=_!==void 0?St(St({},_),b[0].props):b[0].props,P=x.barSize,E=x[v];a[E]||(a[E]=[]);var A=we(P)?n:P;a[E].push({item:b[0],stackList:b.slice(1),barSize:we(A)?void 0:$n(A,r,0)})}}return a},Fve=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=$n(n,i,0,!0),d,c=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=i/l,y=a.reduce(function(P,E){return P+E.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&p>0&&(h=!0,p*=.9,y=l*p);var g=(i-y)/2>>0,v={offset:g-u,size:0};d=a.reduce(function(P,E){var A={item:E.item,position:{offset:v.offset+v.size+u,size:h?p:E.barSize}},T=[].concat(sN(P),[A]);return v=T[T.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){T.push({item:I,position:v})}),T},c)}else{var b=$n(r,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var _=(i-2*b-(l-1)*u)/l;_>1&&(_>>=0);var x=s===+s?Math.min(_,s):_;d=a.reduce(function(P,E,A){var T=[].concat(sN(P),[{item:E.item,position:{offset:b+(_+u)*A+(_-x)/2,size:x}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){T.push({item:I,position:T[T.length-1].position})}),T},c)}return d},Bve=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=iU({children:o,legendWidth:l});if(u){var d=i||{},c=d.width,h=d.height,p=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&p!=="center"&&ne(e[p]))return St(St({},e),{},hu({},p,e[p]+(c||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&y!=="middle"&&ne(e[y]))return St(St({},e),{},hu({},y,e[y]+(h||0)))}return e},Uve=function(e,n,r){return we(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},oU=function(e,n,r,i,o){var a=n.props.children,s=Mr(a,R0).filter(function(u){return Uve(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var c=Ht(d,r);if(we(c))return u;var h=Array.isArray(c)?[O0(c),Jo(c)]:[c,c],p=l.reduce(function(y,g){var v=Ht(d,g,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),_=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,y[0]),Math.max(_,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},zve=function(e,n,r,i,o){var a=n.map(function(s){return oU(e,s,r,o,i)}).filter(function(s){return!we(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},aU=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&oU(e,l,u,i)||uf(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var d=0,c=u.length;d<c;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},sU=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},vs=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Mn(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(c){var h=o?o.indexOf(c):c;return{coordinate:i(h)+u,value:c,offset:u}});return d.filter(function(c){return!Dc(c.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(c,h){return{coordinate:i(c)+u,value:c,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(c){return{coordinate:i(c)+u,value:c,offset:u}}):i.domain().map(function(c,h){return{coordinate:i(c)+u,value:o?o[c]:c,index:h,offset:u}})},xb=new WeakMap,ym=function(e,n){if(typeof n!="function")return e;xb.has(e)||xb.set(e,new WeakMap);var r=xb.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},lU=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:ch(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:my(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:lf(),realScaleType:"point"}:o==="category"?{scale:ch(),realScaleType:"band"}:{scale:my(),realScaleType:"linear"};if(Ks(i)){var l="scale".concat(m0(i));return{scale:(tN[l]||lf)(),realScaleType:tN[l]?l:"point"}}return _e(i)?{scale:i}:{scale:lf(),realScaleType:"point"}},uN=1e-4,uU=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-uN,a=Math.max(i[0],i[1])+uN,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},Wve=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},qve=function(e,n){if(!n||n.length!==2||!ne(n[0])||!ne(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ne(e[0])||e[0]<r)&&(o[0]=r),(!ne(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Gve=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Dc(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},Kve=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Dc(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Hve={sign:Gve,expand:foe,none:Bu,silhouette:hoe,wiggle:poe,positive:Kve},Yve=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=Hve[r],a=doe().keys(i).value(function(s,l){return+Ht(s,l,0)}).order(Ix).offset(o);return a(e)},Qve=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(c,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?St(St({},h.type.defaultProps),h.props):h.props,g=y.stackId,v=y.hide;if(v)return c;var b=y[r],_=c[b]||{hasStack:!1,stackGroups:{}};if(Qt(g)){var x=_.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(h),_.hasStack=!0,_.stackGroups[g]=x}else _.stackGroups[jc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return St(St({},c),{},hu({},b,_))},l),d={};return Object.keys(u).reduce(function(c,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var b=p.stackGroups[v];return St(St({},g),{},hu({},v,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:Yve(e,b.items,o)}))},y)}return St(St({},c),{},hu({},h,p))},d)},cU=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=cve(u,o,s);return e.domain([O0(d),Jo(d)]),{niceTicks:d}}if(o&&i==="number"){var c=e.domain(),h=dve(c,o,s);return{niceTicks:h}}return null};function cN(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!we(i[e.dataKey])){var s=Hg(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Ht(i,we(a)?e.dataKey:a);return we(l)?null:e.scale(l)}var dN=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Ht(a,n.dataKey,n.domain[s]);return we(l)?null:n.scale(l)-o/2+i},Xve=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Jve=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?St(St({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Qt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},Zve=function(e){return e.reduce(function(n,r){return[O0(r.concat([n[0]]).filter(ne)),Jo(r.concat([n[1]]).filter(ne))]},[1/0,-1/0])},dU=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,d){var c=Zve(d.slice(n,r+1));return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},fN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tE=function(e,n,r){if(_e(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ne(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(fN.test(e[0])){var o=+fN.exec(e[0])[1];i[0]=n[0]-o}else _e(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ne(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(hN.test(e[1])){var a=+hN.exec(e[1])[1];i[1]=n[1]+a}else _e(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},xy=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=YI(n,function(c){return c.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],d=o[s-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},pN=function(e,n,r){return!e||!e.length||Yu(e,_r(r,"type.defaultProps.domain"))?n:e},fU=function(e,n){var r=e.type.defaultProps?St(St({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return St(St({},ye(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:xS(e),value:Ht(n,i),type:l,payload:n,chartType:u,hide:d})};function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function mN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(n),!0).forEach(function(r){hU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hU(t,e,n){return e=e0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e0e(t){var e=t0e(t,"string");return _h(e)=="symbol"?e:e+""}function t0e(t,e){if(_h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n0e(t,e){return a0e(t)||o0e(t,e)||i0e(t,e)||r0e()}function r0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i0e(t,e){if(t){if(typeof t=="string")return gN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gN(t,e)}}function gN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function a0e(t){if(Array.isArray(t))return t}var Ey=Math.PI/180,s0e=function(e){return e*180/Math.PI},tt=function(e,n,r,i){return{x:e+Math.cos(-Ey*i)*r,y:n+Math.sin(-Ey*i)*r}},pU=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},l0e=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,u=e.endAngle,d=$n(e.cx,a,a/2),c=$n(e.cy,s,s/2),h=pU(a,s,r),p=$n(e.innerRadius,h,0),y=$n(e.outerRadius,h,h*.8),g=Object.keys(n);return g.reduce(function(v,b){var _=n[b],x=_.domain,P=_.reversed,E;if(we(_.range))i==="angleAxis"?E=[l,u]:i==="radiusAxis"&&(E=[p,y]),P&&(E=[E[1],E[0]]);else{E=_.range;var A=E,T=n0e(A,2);l=T[0],u=T[1]}var I=lU(_,o),O=I.realScaleType,C=I.scale;C.domain(x).range(E),uU(C);var R=cU(C,Ui(Ui({},_),{},{realScaleType:O})),k=Ui(Ui(Ui({},_),R),{},{range:E,radius:y,realScaleType:O,scale:C,cx:d,cy:c,innerRadius:p,outerRadius:y,startAngle:l,endAngle:u});return Ui(Ui({},v),{},hU({},b,k))},{})},u0e=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},c0e=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=u0e({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:s0e(u),angleInRadian:u}},d0e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},f0e=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},yN=function(e,n){var r=e.x,i=e.y,o=c0e({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var d=d0e(n),c=d.startAngle,h=d.endAngle,p=s,y;if(c<=h){for(;p>h;)p-=360;for(;p<c;)p+=360;y=p>=c&&p<=h}else{for(;p>c;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=c}return y?Ui(Ui({},n),{},{radius:a,angle:f0e(p,n)}):null},mU=function(e){return!j.isValidElement(e)&&!_e(e)&&typeof e!="boolean"?e.className:""};function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}var h0e=["offset"];function p0e(t){return v0e(t)||y0e(t)||g0e(t)||m0e()}function m0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g0e(t,e){if(t){if(typeof t=="string")return nE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nE(t,e)}}function y0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function v0e(t){if(Array.isArray(t))return nE(t)}function nE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _0e(t,e){if(t==null)return{};var n=b0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function b0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(n),!0).forEach(function(r){w0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w0e(t,e,n){return e=x0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x0e(t){var e=E0e(t,"string");return bh(e)=="symbol"?e:e+""}function E0e(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wh(){return wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wh.apply(this,arguments)}var T0e=function(e){var n=e.value,r=e.formatter,i=we(e.children)?n:e.children;return _e(r)?r(i):i},I0e=function(e,n){var r=Mn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},S0e=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,d=l.cy,c=l.innerRadius,h=l.outerRadius,p=l.startAngle,y=l.endAngle,g=l.clockWise,v=(c+h)/2,b=I0e(p,y),_=b>=0?1:-1,x,P;i==="insideStart"?(x=p+_*a,P=g):i==="insideEnd"?(x=y-_*a,P=!g):i==="end"&&(x=y+_*a,P=g),P=b<=0?P:!P;var E=tt(u,d,v,x),A=tt(u,d,v,x+(P?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(P?0:1,`,
    `).concat(A.x,",").concat(A.y),I=we(e.id)?jc("recharts-radial-line-"):e.id;return M.createElement("text",wh({},r,{dominantBaseline:"central",className:Ee("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:I,d:T})),M.createElement("textPath",{xlinkHref:"#".concat(I)},n))},A0e=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,d=o.startAngle,c=o.endAngle,h=(d+c)/2;if(i==="outside"){var p=tt(a,s,u+r,h),y=p.x,g=p.y;return{x:y,y:g,textAnchor:y>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,b=tt(a,s,v,h),_=b.x,x=b.y;return{x:_,y:x,textAnchor:"middle",verticalAnchor:"middle"}},P0e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,d=a.height,c=d>=0?1:-1,h=c*i,p=c>0?"end":"start",y=c>0?"start":"end",g=u>=0?1:-1,v=g*i,b=g>0?"end":"start",_=g>0?"start":"end";if(o==="top"){var x={x:s+u/2,y:l-c*i,textAnchor:"middle",verticalAnchor:p};return Gt(Gt({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var P={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:y};return Gt(Gt({},P),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(o==="left"){var E={x:s-v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return Gt(Gt({},E),r?{width:Math.max(E.x-r.x,0),height:d}:{})}if(o==="right"){var A={x:s+u+v,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return Gt(Gt({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:d}:{})}var T=r?{width:u,height:d}:{};return o==="insideLeft"?Gt({x:s+v,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},T):o==="insideRight"?Gt({x:s+u-v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},T):o==="insideTop"?Gt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:y},T):o==="insideBottom"?Gt({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},T):o==="insideTopLeft"?Gt({x:s+v,y:l+h,textAnchor:_,verticalAnchor:y},T):o==="insideTopRight"?Gt({x:s+u-v,y:l+h,textAnchor:b,verticalAnchor:y},T):o==="insideBottomLeft"?Gt({x:s+v,y:l+d-h,textAnchor:_,verticalAnchor:p},T):o==="insideBottomRight"?Gt({x:s+u-v,y:l+d-h,textAnchor:b,verticalAnchor:p},T):kc(o)&&(ne(o.x)||ms(o.x))&&(ne(o.y)||ms(o.y))?Gt({x:s+$n(o.x,u),y:l+$n(o.y,d),textAnchor:"end",verticalAnchor:"end"},T):Gt({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},T)},O0e=function(e){return"cx"in e&&ne(e.cx)};function on(t){var e=t.offset,n=e===void 0?5:e,r=_0e(t,h0e),i=Gt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,d=i.className,c=d===void 0?"":d,h=i.textBreakAll;if(!o||we(s)&&we(l)&&!j.isValidElement(u)&&!_e(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var p;if(_e(u)){if(p=j.createElement(u,i),j.isValidElement(p))return p}else p=T0e(i);var y=O0e(o),g=ye(i,!0);if(y&&(a==="insideStart"||a==="insideEnd"||a==="end"))return S0e(i,p,g);var v=y?A0e(i):P0e(i);return M.createElement(Ys,wh({className:Ee("recharts-label",c)},g,v,{breakAll:h}),p)}on.displayName="Label";var gU=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,c=e.x,h=e.y,p=e.top,y=e.left,g=e.width,v=e.height,b=e.clockWise,_=e.labelViewBox;if(_)return _;if(ne(g)&&ne(v)){if(ne(c)&&ne(h))return{x:c,y:h,width:g,height:v};if(ne(p)&&ne(y))return{x:p,y,width:g,height:v}}return ne(c)&&ne(h)?{x:c,y:h,width:0,height:0}:ne(n)&&ne(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},k0e=function(e,n){return e?e===!0?M.createElement(on,{key:"label-implicit",viewBox:n}):Qt(e)?M.createElement(on,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===on?j.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(on,{key:"label-implicit",content:e,viewBox:n}):_e(e)?M.createElement(on,{key:"label-implicit",content:e,viewBox:n}):kc(e)?M.createElement(on,wh({viewBox:n},e,{key:"label-implicit"})):null:null},C0e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=gU(e),a=Mr(i,on).map(function(l,u){return j.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=k0e(e.label,n||o);return[s].concat(p0e(a))};on.parseViewBox=gU;on.renderCallByParent=C0e;function R0e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var N0e=R0e;const D0e=Ge(N0e);function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}var j0e=["valueAccessor"],M0e=["data","dataKey","clockWise","id","textBreakAll"];function $0e(t){return B0e(t)||F0e(t)||V0e(t)||L0e()}function L0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V0e(t,e){if(t){if(typeof t=="string")return rE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rE(t,e)}}function F0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function B0e(t){if(Array.isArray(t))return rE(t)}function rE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ty(){return Ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ty.apply(this,arguments)}function _N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(n),!0).forEach(function(r){U0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U0e(t,e,n){return e=z0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z0e(t){var e=W0e(t,"string");return xh(e)=="symbol"?e:e+""}function W0e(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wN(t,e){if(t==null)return{};var n=q0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function q0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var G0e=function(e){return Array.isArray(e.value)?D0e(e.value):e.value};function ro(t){var e=t.valueAccessor,n=e===void 0?G0e:e,r=wN(t,j0e),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=wN(r,M0e);return!i||!i.length?null:M.createElement(Re,{className:"recharts-label-list"},i.map(function(d,c){var h=we(o)?n(d,c):Ht(d&&d.payload,o),p=we(s)?{}:{id:"".concat(s,"-").concat(c)};return M.createElement(on,Ty({},ye(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:on.parseViewBox(we(a)?d:bN(bN({},d),{},{clockWise:a})),key:"label-".concat(c),index:c}))}))}ro.displayName="LabelList";function K0e(t,e){return t?t===!0?M.createElement(ro,{key:"labelList-implicit",data:e}):M.isValidElement(t)||_e(t)?M.createElement(ro,{key:"labelList-implicit",data:e,content:t}):kc(t)?M.createElement(ro,Ty({data:e},t,{key:"labelList-implicit"})):null:null}function H0e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Mr(r,ro).map(function(a,s){return j.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=K0e(t.label,e);return[o].concat($0e(i))}ro.renderCallByParent=H0e;function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iE.apply(this,arguments)}function xN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(n),!0).forEach(function(r){Y0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y0e(t,e,n){return e=Q0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q0e(t){var e=X0e(t,"string");return Eh(e)=="symbol"?e:e+""}function X0e(t,e){if(Eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J0e=function(e,n){var r=Mn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},vm=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(s?1:-1)+i,c=Math.asin(l/d)/Ey,h=u?o:o+a*c,p=tt(n,r,d,h),y=tt(n,r,i,h),g=u?o-a*c:o,v=tt(n,r,d*Math.cos(c*Ey),g);return{center:p,circleTangency:y,lineTangency:v,theta:c}},yU=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=J0e(a,s),u=a+l,d=tt(n,r,o,a),c=tt(n,r,o,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(i>0){var p=tt(n,r,i,a),y=tt(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Z0e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,c=Mn(d-u),h=vm({cx:n,cy:r,radius:o,angle:u,sign:c,cornerRadius:a,cornerIsExternal:l}),p=h.circleTangency,y=h.lineTangency,g=h.theta,v=vm({cx:n,cy:r,radius:o,angle:d,sign:-c,cornerRadius:a,cornerIsExternal:l}),b=v.circleTangency,_=v.lineTangency,x=v.theta,P=l?Math.abs(u-d):Math.abs(u-d)-g-x;if(P<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):yU({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d});var E="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(P>180),",").concat(+(c<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var A=vm({cx:n,cy:r,radius:i,angle:u,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),T=A.circleTangency,I=A.lineTangency,O=A.theta,C=vm({cx:n,cy:r,radius:i,angle:d,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=C.circleTangency,k=C.lineTangency,N=C.theta,U=l?Math.abs(u-d):Math.abs(u-d)-O-N;if(U<0&&a===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(c>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(I.x,",").concat(I.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},e_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},vU=function(e){var n=EN(EN({},e_e),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,c=n.endAngle,h=n.className;if(a<o||d===c)return null;var p=Ee("recharts-sector",h),y=a-o,g=$n(s,y,0,!0),v;return g>0&&Math.abs(d-c)<360?v=Z0e({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:c}):v=yU({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:c}),M.createElement("path",iE({},ye(n,!0),{className:p,d:v,role:"img"}))};function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function oE(){return oE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oE.apply(this,arguments)}function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){t_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t_e(t,e,n){return e=n_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n_e(t){var e=r_e(t,"string");return Th(e)=="symbol"?e:e+""}function r_e(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SN={curveBasisClosed:eoe,curveBasisOpen:toe,curveBasis:Zie,curveBumpX:Vie,curveBumpY:Fie,curveLinearClosed:noe,curveLinear:y0,curveMonotoneX:roe,curveMonotoneY:ioe,curveNatural:ooe,curveStep:aoe,curveStepAfter:loe,curveStepBefore:soe},_m=function(e){return e.x===+e.x&&e.y===+e.y},Ed=function(e){return e.x},Td=function(e){return e.y},i_e=function(e,n){if(_e(e))return e;var r="curve".concat(m0(e));return(r==="curveMonotone"||r==="curveBump")&&n?SN["".concat(r).concat(n==="vertical"?"Y":"X")]:SN[r]||y0},o_e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=i_e(r,s),c=u?o.filter(function(g){return _m(g)}):o,h;if(Array.isArray(a)){var p=u?a.filter(function(g){return _m(g)}):a,y=c.map(function(g,v){return IN(IN({},g),{},{base:p[v]})});return s==="vertical"?h=um().y(Td).x1(Ed).x0(function(g){return g.base.x}):h=um().x(Ed).y1(Td).y0(function(g){return g.base.y}),h.defined(_m).curve(d),h(y)}return s==="vertical"&&ne(a)?h=um().y(Td).x1(Ed).x0(a):ne(a)?h=um().x(Ed).y1(Td).y0(a):h=p4().x(Ed).y(Td),h.defined(_m).curve(d),h(c)},pu=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?o_e(e):i;return j.createElement("path",oE({},ye(e,!1),Yg(e),{className:Ee("recharts-curve",n),d:a,ref:o}))},_U={exports:{}},a_e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",s_e=a_e,l_e=s_e;function bU(){}function wU(){}wU.resetWarningCache=bU;var u_e=function(){function t(r,i,o,a,s,l){if(l!==l_e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:wU,resetWarningCache:bU};return n.PropTypes=n,n};_U.exports=u_e();var c_e=_U.exports;const Ve=Ge(c_e);var d_e=Object.getOwnPropertyNames,f_e=Object.getOwnPropertySymbols,h_e=Object.prototype.hasOwnProperty;function AN(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function bm(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function p_e(t){return t!=null?t[Symbol.toStringTag]:void 0}function PN(t){return d_e(t).concat(f_e(t))}var m_e=Object.hasOwn||function(t,e){return h_e.call(t,e)};function hl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var g_e="__v",y_e="__o",v_e="_owner",ON=Object.getOwnPropertyDescriptor,kN=Object.keys;function __e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function b_e(t,e){return hl(t.getTime(),e.getTime())}function w_e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function x_e(t,e){return t===e}function CN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),d=!1,c=0;(s=u.next())&&!s.done;){if(i[c]){c++;continue}var h=a.value,p=s.value;if(n.equals(h[0],p[0],l,c,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){d=i[c]=!0;break}c++}if(!d)return!1;l++}return!0}var E_e=hl;function T_e(t,e,n){var r=kN(t),i=r.length;if(kN(e).length!==i)return!1;for(;i-- >0;)if(!xU(t,e,n,r[i]))return!1;return!0}function Id(t,e,n){var r=PN(t),i=r.length;if(PN(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!xU(t,e,n,o)||(a=ON(t,o),s=ON(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function I_e(t,e){return hl(t.valueOf(),e.valueOf())}function S_e(t,e){return t.source===e.source&&t.flags===e.flags}function RN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function A_e(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function P_e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function xU(t,e,n,r){return(r===v_e||r===y_e||r===g_e)&&(t.$$typeof||e.$$typeof)?!0:m_e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var O_e="[object Arguments]",k_e="[object Boolean]",C_e="[object Date]",R_e="[object Error]",N_e="[object Map]",D_e="[object Number]",j_e="[object Object]",M_e="[object RegExp]",$_e="[object Set]",L_e="[object String]",V_e="[object URL]",F_e=Array.isArray,NN=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,DN=Object.assign,B_e=Object.prototype.toString.call.bind(Object.prototype.toString);function U_e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,c=t.areTypedArraysEqual,h=t.areUrlsEqual,p=t.unknownTagComparators;return function(g,v,b){if(g===v)return!0;if(g==null||v==null)return!1;var _=typeof g;if(_!==typeof v)return!1;if(_!=="object")return _==="number"?a(g,v,b):_==="function"?i(g,v,b):!1;var x=g.constructor;if(x!==v.constructor)return!1;if(x===Object)return s(g,v,b);if(F_e(g))return e(g,v,b);if(NN!=null&&NN(g))return c(g,v,b);if(x===Date)return n(g,v,b);if(x===RegExp)return u(g,v,b);if(x===Map)return o(g,v,b);if(x===Set)return d(g,v,b);var P=B_e(g);if(P===C_e)return n(g,v,b);if(P===M_e)return u(g,v,b);if(P===N_e)return o(g,v,b);if(P===$_e)return d(g,v,b);if(P===j_e)return typeof g.then!="function"&&typeof v.then!="function"&&s(g,v,b);if(P===V_e)return h(g,v,b);if(P===R_e)return r(g,v,b);if(P===O_e)return s(g,v,b);if(P===k_e||P===D_e||P===L_e)return l(g,v,b);if(p){var E=p[P];if(!E){var A=p_e(g);A&&(E=p[A])}if(E)return E(g,v,b)}return!1}}function z_e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Id:__e,areDatesEqual:b_e,areErrorsEqual:w_e,areFunctionsEqual:x_e,areMapsEqual:r?AN(CN,Id):CN,areNumbersEqual:E_e,areObjectsEqual:r?Id:T_e,arePrimitiveWrappersEqual:I_e,areRegExpsEqual:S_e,areSetsEqual:r?AN(RN,Id):RN,areTypedArraysEqual:r?Id:A_e,areUrlsEqual:P_e,unknownTagComparators:void 0};if(n&&(i=DN({},i,n(i))),e){var o=bm(i.areArraysEqual),a=bm(i.areMapsEqual),s=bm(i.areObjectsEqual),l=bm(i.areSetsEqual);i=DN({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function W_e(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function q_e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var d=r(),c=d.cache,h=c===void 0?e?new WeakMap:void 0:c,p=d.meta;return n(l,u,{cache:h,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var G_e=La();La({strict:!0});La({circular:!0});La({circular:!0,strict:!0});La({createInternalComparator:function(){return hl}});La({strict:!0,createInternalComparator:function(){return hl}});La({circular:!0,createInternalComparator:function(){return hl}});La({circular:!0,createInternalComparator:function(){return hl},strict:!0});function La(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=z_e(t),l=U_e(s),u=r?r(l):W_e(l);return q_e({circular:n,comparator:l,createState:i,equals:u,strict:a})}function K_e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function jN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):K_e(i)};requestAnimationFrame(r)}function aE(t){"@babel/helpers - typeof";return aE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aE(t)}function H_e(t){return J_e(t)||X_e(t)||Q_e(t)||Y_e()}function Y_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q_e(t,e){if(t){if(typeof t=="string")return MN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MN(t,e)}}function MN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function J_e(t){if(Array.isArray(t))return t}function Z_e(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=H_e(a),l=s[0],u=s.slice(1);if(typeof l=="number"){jN(i.bind(null,u),l);return}i(l),jN(i.bind(null,u));return}aE(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function $N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$N(Object(n),!0).forEach(function(r){EU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EU(t,e,n){return e=ebe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ebe(t){var e=tbe(t,"string");return Ih(e)==="symbol"?e:String(e)}function tbe(t,e){if(Ih(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nbe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},rbe=function(e){return e},ibe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},cf=function(e,n){return Object.keys(n).reduce(function(r,i){return LN(LN({},r),{},EU({},i,e(i,n[i])))},{})},VN=function(e,n,r){return e.map(function(i){return"".concat(ibe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function obe(t,e){return lbe(t)||sbe(t,e)||TU(t,e)||abe()}function abe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function lbe(t){if(Array.isArray(t))return t}function ube(t){return fbe(t)||dbe(t)||TU(t)||cbe()}function cbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TU(t,e){if(t){if(typeof t=="string")return sE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sE(t,e)}}function dbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fbe(t){if(Array.isArray(t))return sE(t)}function sE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Iy=1e-4,IU=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},SU=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},FN=function(e,n){return function(r){var i=IU(e,n);return SU(i,r)}},hbe=function(e,n){return function(r){var i=IU(e,n),o=[].concat(ube(i.map(function(a,s){return a*s}).slice(1)),[0]);return SU(o,r)}},BN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=obe(u,4);i=d[0],o=d[1],a=d[2],s=d[3]}}}var c=FN(i,a),h=FN(o,s),p=hbe(i,a),y=function(b){return b>1?1:b<0?0:b},g=function(b){for(var _=b>1?1:b,x=_,P=0;P<8;++P){var E=c(x)-_,A=p(x);if(Math.abs(E-_)<Iy||A<Iy)return h(x);x=y(x-E/A)}return h(x)};return g.isStepper=!1,g},pbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(d,c,h){var p=-(d-c)*r,y=h*o,g=h+(p-y)*s/1e3,v=h*s/1e3+d;return Math.abs(v-c)<Iy&&Math.abs(g)<Iy?[c,0]:[v,g]};return l.isStepper=!0,l.dt=s,l},mbe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BN(i);case"spring":return pbe();default:if(i.split("(")[0]==="cubic-bezier")return BN(i)}return typeof i=="function"?i:null};function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function UN(t){return vbe(t)||ybe(t)||AU(t)||gbe()}function gbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ybe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vbe(t){if(Array.isArray(t))return uE(t)}function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){lE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lE(t,e,n){return e=_be(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _be(t){var e=bbe(t,"string");return Sh(e)==="symbol"?e:String(e)}function bbe(t,e){if(Sh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wbe(t,e){return Tbe(t)||Ebe(t,e)||AU(t,e)||xbe()}function xbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AU(t,e){if(t){if(typeof t=="string")return uE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uE(t,e)}}function uE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ebe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Tbe(t){if(Array.isArray(t))return t}var Sy=function(e,n,r){return e+(n-e)*r},cE=function(e){var n=e.from,r=e.to;return n!==r},Ibe=function t(e,n,r){var i=cf(function(o,a){if(cE(a)){var s=e(a.from,a.to,a.velocity),l=wbe(s,2),u=l[0],d=l[1];return fn(fn({},a),{},{from:u,velocity:d})}return a},n);return r<1?cf(function(o,a){return cE(a)?fn(fn({},a),{},{velocity:Sy(a.velocity,i[o].velocity,r),from:Sy(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Sbe=function(t,e,n,r,i){var o=nbe(t,e),a=o.reduce(function(v,b){return fn(fn({},v),{},lE({},b,[t[b],e[b]]))},{}),s=o.reduce(function(v,b){return fn(fn({},v),{},lE({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,u,d,c=function(){return null},h=function(){return cf(function(b,_){return _.from},s)},p=function(){return!Object.values(s).filter(cE).length},y=function(b){u||(u=b);var _=b-u,x=_/n.dt;s=Ibe(n,s,x),i(fn(fn(fn({},t),e),h())),u=b,p()||(l=requestAnimationFrame(c))},g=function(b){d||(d=b);var _=(b-d)/r,x=cf(function(E,A){return Sy.apply(void 0,UN(A).concat([n(_)]))},a);if(i(fn(fn(fn({},t),e),x)),_<1)l=requestAnimationFrame(c);else{var P=cf(function(E,A){return Sy.apply(void 0,UN(A).concat([n(1)]))},a);i(fn(fn(fn({},t),e),P))}};return c=n.isStepper?y:g,function(){return requestAnimationFrame(c),function(){cancelAnimationFrame(l)}}};function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}var Abe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Pbe(t,e){if(t==null)return{};var n=Obe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Obe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Eb(t){return Nbe(t)||Rbe(t)||Cbe(t)||kbe()}function kbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cbe(t,e){if(t){if(typeof t=="string")return dE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dE(t,e)}}function Rbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nbe(t){if(Array.isArray(t))return dE(t)}function dE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(n),!0).forEach(function(r){Bd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bd(t,e,n){return e=PU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PU(r.key),r)}}function Mbe(t,e,n){return e&&jbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PU(t){var e=$be(t,"string");return Xu(e)==="symbol"?e:String(e)}function $be(t,e){if(Xu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fE(t,e)}function fE(t,e){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fE(t,e)}function Vbe(t){var e=Fbe();return function(){var r=Ay(t),i;if(e){var o=Ay(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return hE(this,i)}}function hE(t,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pE(t)}function pE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ay(t){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ay(t)}var Ni=function(t){Lbe(n,t);var e=Vbe(n);function n(r,i){var o;Dbe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,d=a.to,c=a.steps,h=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(pE(o)),o.changeStyle=o.changeStyle.bind(pE(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),hE(o);if(c&&c.length)o.state={style:c[0].style};else if(u){if(typeof h=="function")return o.state={style:u},hE(o);o.state={style:l?Bd({},l,u):u}}else o.state={style:{}};return o}return Mbe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,d=o.to,c=o.from,h=this.state.style;if(s){if(!a){var p={style:l?Bd({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(G_e(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?c:i.to;if(this.state&&h){var v={style:l?Bd({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(Yr(Yr({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,d=i.begin,c=i.onAnimationEnd,h=i.onAnimationStart,p=Sbe(a,s,mbe(u),l,this.changeStyle),y=function(){o.stopJSAnimation=p()};this.manager.start([h,d,y,l,c])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],d=u.style,c=u.duration,h=c===void 0?0:c,p=function(g,v,b){if(b===0)return g;var _=v.duration,x=v.easing,P=x===void 0?"ease":x,E=v.style,A=v.properties,T=v.onAnimationEnd,I=b>0?a[b-1]:v,O=A||Object.keys(E);if(typeof P=="function"||P==="spring")return[].concat(Eb(g),[o.runJSAnimation.bind(o,{from:I.style,to:E,duration:_,easing:P}),_]);var C=VN(O,_,P),R=Yr(Yr(Yr({},I.style),E),{},{transition:C});return[].concat(Eb(g),[R,_,T]).filter(rbe)};return this.manager.start([l].concat(Eb(a.reduce(p,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Z_e());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,c=i.onAnimationEnd,h=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=s?Bd({},s,l):l,v=VN(Object.keys(g),a,u);y.start([d,o,Yr(Yr({},g),{},{transition:v}),a,c])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Pbe(i,Abe),u=j.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||u===0||a<=0)return o;var c=function(p){var y=p.props,g=y.style,v=g===void 0?{}:g,b=y.className,_=j.cloneElement(p,Yr(Yr({},l),{},{style:Yr(Yr({},v),d),className:b}));return _};return u===1?c(j.Children.only(o)):M.createElement("div",null,j.Children.map(o,function(h){return c(h)}))}}]),n}(j.PureComponent);Ni.displayName="Animate";Ni.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ni.propTypes={from:Ve.oneOfType([Ve.object,Ve.string]),to:Ve.oneOfType([Ve.object,Ve.string]),attributeName:Ve.string,duration:Ve.number,begin:Ve.number,easing:Ve.oneOfType([Ve.string,Ve.func]),steps:Ve.arrayOf(Ve.shape({duration:Ve.number.isRequired,style:Ve.object.isRequired,easing:Ve.oneOfType([Ve.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ve.func]),properties:Ve.arrayOf("string"),onAnimationEnd:Ve.func})),children:Ve.oneOfType([Ve.node,Ve.func]),isActive:Ve.bool,canBegin:Ve.bool,onAnimationEnd:Ve.func,shouldReAnimate:Ve.bool,onAnimationStart:Ve.func,onAnimationReStart:Ve.func};function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function Py(){return Py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Py.apply(this,arguments)}function Bbe(t,e){return qbe(t)||Wbe(t,e)||zbe(t,e)||Ube()}function Ube(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zbe(t,e){if(t){if(typeof t=="string")return qN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qN(t,e)}}function qN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function qbe(t){if(Array.isArray(t))return t}function GN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GN(Object(n),!0).forEach(function(r){Gbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gbe(t,e,n){return e=Kbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kbe(t){var e=Hbe(t,"string");return Ah(e)=="symbol"?e:e+""}function Hbe(t,e){if(Ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HN=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&o instanceof Array){for(var c=[0,0,0,0],h=0,p=4;h<p;h++)c[h]=o[h]>a?a:o[h];d="M".concat(e,",").concat(n+s*c[0]),c[0]>0&&(d+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(n)),d+="L ".concat(e+r-l*c[1],",").concat(n),c[1]>0&&(d+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*c[1])),d+="L ".concat(e+r,",").concat(n+i-s*c[2]),c[2]>0&&(d+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,`,
        `).concat(e+r-l*c[2],",").concat(n+i)),d+="L ".concat(e+l*c[3],",").concat(n+i),c[3]>0&&(d+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*c[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var y=Math.min(a,o);d="M ".concat(e,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*y,`
            L `).concat(e+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*y," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Ybe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),d=Math.max(o,o+s),c=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=d&&i>=c&&i<=h}return!1},Qbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ES=function(e){var n=KN(KN({},Qbe),e),r=j.useRef(),i=j.useState(-1),o=Bbe(i,2),a=o[0],s=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&s(P)}catch{}},[]);var l=n.x,u=n.y,d=n.width,c=n.height,h=n.radius,p=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||c!==+c||d===0||c===0)return null;var x=Ee("recharts-rectangle",p);return _?M.createElement(Ni,{canBegin:a>0,from:{width:d,height:c,x:l,y:u},to:{width:d,height:c,x:l,y:u},duration:g,animationEasing:y,isActive:_},function(P){var E=P.width,A=P.height,T=P.x,I=P.y;return M.createElement(Ni,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:y},M.createElement("path",Py({},ye(n,!0),{className:x,d:HN(T,I,E,A,h),ref:r})))}):M.createElement("path",Py({},ye(n,!0),{className:x,d:HN(l,u,d,c,h)}))},Xbe=["points","className","baseLinePoints","connectNulls"];function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hl.apply(this,arguments)}function Jbe(t,e){if(t==null)return{};var n=Zbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YN(t){return rwe(t)||nwe(t)||twe(t)||ewe()}function ewe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function twe(t,e){if(t){if(typeof t=="string")return mE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mE(t,e)}}function nwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rwe(t){if(Array.isArray(t))return mE(t)}function mE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var QN=function(e){return e&&e.x===+e.x&&e.y===+e.y},iwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){QN(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),QN(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},df=function(e,n){var r=iwe(e);n&&(r=[r.reduce(function(o,a){return[].concat(YN(o),YN(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},owe=function(e,n,r){var i=df(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(df(n.reverse(),r).slice(1))},awe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=Jbe(e,Xbe);if(!n||!n.length)return null;var s=Ee("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=owe(n,i,o);return M.createElement("g",{className:s},M.createElement("path",Hl({},ye(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?M.createElement("path",Hl({},ye(a,!0),{fill:"none",d:df(n,o)})):null,l?M.createElement("path",Hl({},ye(a,!0),{fill:"none",d:df(i,o)})):null)}var d=df(n,o);return M.createElement("path",Hl({},ye(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:s,d}))};function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gE.apply(this,arguments)}var N0=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Ee("recharts-dot",o);return n===+n&&r===+r&&i===+i?j.createElement("circle",gE({},ye(e,!1),Yg(e),{className:a,cx:n,cy:r,r:i})):null};function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}var swe=["x","y","top","left","width","height","className"];function yE(){return yE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yE.apply(this,arguments)}function XN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lwe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(n),!0).forEach(function(r){uwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uwe(t,e,n){return e=cwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cwe(t){var e=dwe(t,"string");return Ph(e)=="symbol"?e:e+""}function dwe(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fwe(t,e){if(t==null)return{};var n=hwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var pwe=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},mwe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,d=e.width,c=d===void 0?0:d,h=e.height,p=h===void 0?0:h,y=e.className,g=fwe(e,swe),v=lwe({x:r,y:o,top:s,left:u,width:c,height:p},g);return!ne(r)||!ne(o)||!ne(c)||!ne(p)||!ne(s)||!ne(u)?null:M.createElement("path",yE({},ye(v,!0),{className:Ee("recharts-cross",y),d:pwe(r,o,c,p,s,u)}))},gwe=P0,ywe=BB,vwe=ja;function _we(t,e){return t&&t.length?gwe(t,vwe(e),ywe):void 0}var bwe=_we;const wwe=Ge(bwe);var xwe=P0,Ewe=ja,Twe=UB;function Iwe(t,e){return t&&t.length?xwe(t,Ewe(e),Twe):void 0}var Swe=Iwe;const Awe=Ge(Swe);var Pwe=["cx","cy","angle","ticks","axisLine"],Owe=["ticks","tick","angle","tickFormatter","stroke"];function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function ff(){return ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ff.apply(this,arguments)}function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(r){D0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZN(t,e){if(t==null)return{};var n=kwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kU(r.key),r)}}function Rwe(t,e,n){return e&&e2(t.prototype,e),n&&e2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nwe(t,e,n){return e=Oy(e),Dwe(t,OU()?Reflect.construct(e,n||[],Oy(t).constructor):e.apply(t,n))}function Dwe(t,e){if(e&&(Ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jwe(t)}function jwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OU=function(){return!!t})()}function Oy(t){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oy(t)}function Mwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vE(t,e)}function vE(t,e){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vE(t,e)}function D0(t,e,n){return e=kU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kU(t){var e=$we(t,"string");return Ju(e)=="symbol"?e:e+""}function $we(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var j0=function(t){function e(){return Cwe(this,e),Nwe(this,e,arguments)}return Mwe(e,t),Rwe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return tt(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=wwe(s,function(d){return d.coordinate||0}),u=Awe(s,function(d){return d.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=ZN(r,Pwe),d=s.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),c=tt(i,o,d[0],a),h=tt(i,o,d[1],a),p=Ga(Ga(Ga({},ye(u,!1)),{},{fill:"none"},ye(l,!1)),{},{x1:c.x,y1:c.y,x2:h.x,y2:h.y});return M.createElement("line",ff({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,d=ZN(i,Owe),c=this.getTickTextAnchor(),h=ye(d,!1),p=ye(a,!1),y=o.map(function(g,v){var b=r.getTickValueCoord(g),_=Ga(Ga(Ga(Ga({textAnchor:c,transform:"rotate(".concat(90-s,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},b),{},{payload:g});return M.createElement(Re,ff({className:Ee("recharts-polar-radius-axis-tick",mU(a)),key:"tick-".concat(g.coordinate)},Hs(r.props,g,v)),e.renderTickItem(a,_,l?l(g.value,v):g.value))});return M.createElement(Re,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:M.createElement(Re,{className:Ee("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),on.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):_e(r)?a=r(i):a=M.createElement(Ys,ff({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(j.PureComponent);D0(j0,"displayName","PolarRadiusAxis");D0(j0,"axisType","radiusAxis");D0(j0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function ss(){return ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ss.apply(this,arguments)}function t2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(n),!0).forEach(function(r){M0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RU(r.key),r)}}function Vwe(t,e,n){return e&&n2(t.prototype,e),n&&n2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fwe(t,e,n){return e=ky(e),Bwe(t,CU()?Reflect.construct(e,n||[],ky(t).constructor):e.apply(t,n))}function Bwe(t,e){if(e&&(Zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uwe(t)}function Uwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CU=function(){return!!t})()}function ky(t){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ky(t)}function zwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_E(t,e)}function _E(t,e){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_E(t,e)}function M0(t,e,n){return e=RU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RU(t){var e=Wwe(t,"string");return Zu(e)=="symbol"?e:e+""}function Wwe(t,e){if(Zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qwe=Math.PI/180,r2=1e-5,$0=function(t){function e(){return Lwe(this,e),Fwe(this,e,arguments)}return zwe(e,t),Vwe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,d=u||8,c=tt(o,a,s,r.coordinate),h=tt(o,a,s+(l==="inner"?-1:1)*d,r.coordinate);return{x1:c.x,y1:c.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*qwe),a;return o>r2?a=i==="outer"?"start":"end":o<-r2?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=Ka(Ka({},ye(this.props,!1)),{},{fill:"none"},ye(s,!1));if(l==="circle")return M.createElement(N0,ss({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var d=this.props.ticks,c=d.map(function(h){return tt(i,o,a,h.coordinate)});return M.createElement(awe,ss({className:"recharts-polar-angle-axis-line"},u,{points:c}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,d=ye(this.props,!1),c=ye(a,!1),h=Ka(Ka({},d),{},{fill:"none"},ye(s,!1)),p=o.map(function(y,g){var v=r.getTickLineCoord(y),b=r.getTickTextAnchor(y),_=Ka(Ka(Ka({textAnchor:b},d),{},{stroke:"none",fill:u},c),{},{index:g,payload:y,x:v.x2,y:v.y2});return M.createElement(Re,ss({className:Ee("recharts-polar-angle-axis-tick",mU(a)),key:"tick-".concat(y.coordinate)},Hs(r.props,y,g)),s&&M.createElement("line",ss({className:"recharts-polar-angle-axis-tick-line"},h,v)),a&&e.renderTickItem(a,_,l?l(y.value,g):y.value))});return M.createElement(Re,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:M.createElement(Re,{className:Ee("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):_e(r)?a=r(i):a=M.createElement(Ys,ss({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(j.PureComponent);M0($0,"displayName","PolarAngleAxis");M0($0,"axisType","angleAxis");M0($0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Gwe=L4,Kwe=Gwe(Object.getPrototypeOf,Object),Hwe=Kwe,Ywe=Io,Qwe=Hwe,Xwe=So,Jwe="[object Object]",Zwe=Function.prototype,exe=Object.prototype,NU=Zwe.toString,txe=exe.hasOwnProperty,nxe=NU.call(Object);function rxe(t){if(!Xwe(t)||Ywe(t)!=Jwe)return!1;var e=Qwe(t);if(e===null)return!0;var n=txe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&NU.call(n)==nxe}var ixe=rxe;const oxe=Ge(ixe);var axe=Io,sxe=So,lxe="[object Boolean]";function uxe(t){return t===!0||t===!1||sxe(t)&&axe(t)==lxe}var cxe=uxe;const dxe=Ge(cxe);function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(this,arguments)}function fxe(t,e){return gxe(t)||mxe(t,e)||pxe(t,e)||hxe()}function hxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pxe(t,e){if(t){if(typeof t=="string")return i2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i2(t,e)}}function i2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function gxe(t){if(Array.isArray(t))return t}function o2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(n),!0).forEach(function(r){yxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yxe(t,e,n){return e=vxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vxe(t){var e=_xe(t,"string");return Oh(e)=="symbol"?e:e+""}function _xe(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s2=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},bxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wxe=function(e){var n=a2(a2({},bxe),e),r=j.useRef(),i=j.useState(-1),o=fxe(i,2),a=o[0],s=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,u=n.y,d=n.upperWidth,c=n.lowerWidth,h=n.height,p=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||c!==+c||h!==+h||d===0&&c===0||h===0)return null;var _=Ee("recharts-trapezoid",p);return b?M.createElement(Ni,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:c,height:h,x:l,y:u},duration:g,animationEasing:y,isActive:b},function(x){var P=x.upperWidth,E=x.lowerWidth,A=x.height,T=x.x,I=x.y;return M.createElement(Ni,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},M.createElement("path",Cy({},ye(n,!0),{className:_,d:s2(T,I,P,E,A),ref:r})))}):M.createElement("g",null,M.createElement("path",Cy({},ye(n,!0),{className:_,d:s2(l,u,d,c,h)})))},xxe=["option","shapeType","propTransformer","activeClassName","isActive"];function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function Exe(t,e){if(t==null)return{};var n=Txe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Txe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function l2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(n),!0).forEach(function(r){Ixe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ixe(t,e,n){return e=Sxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sxe(t){var e=Axe(t,"string");return kh(e)=="symbol"?e:e+""}function Axe(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pxe(t,e){return Ry(Ry({},e),t)}function Oxe(t,e){return t==="symbols"}function u2(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(ES,n);case"trapezoid":return M.createElement(wxe,n);case"sector":return M.createElement(vU,n);case"symbols":if(Oxe(e))return M.createElement(FI,n);break;default:return null}}function kxe(t){return j.isValidElement(t)?t.props:t}function DU(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Pxe:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Exe(t,xxe),u;if(j.isValidElement(e))u=j.cloneElement(e,Ry(Ry({},l),kxe(e)));else if(_e(e))u=e(l);else if(oxe(e)&&!dxe(e)){var d=i(e,l);u=M.createElement(u2,{shapeType:n,elementProps:d})}else{var c=l;u=M.createElement(u2,{shapeType:n,elementProps:c})}return s?M.createElement(Re,{className:a},u):u}function L0(t,e){return e!=null&&"trapezoids"in t.props}function V0(t,e){return e!=null&&"sectors"in t.props}function Ch(t,e){return e!=null&&"points"in t.props}function Cxe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Rxe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Nxe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Dxe(t,e){var n;return L0(t,e)?n=Cxe:V0(t,e)?n=Rxe:Ch(t,e)&&(n=Nxe),n}function jxe(t,e){var n;return L0(t,e)?n="trapezoids":V0(t,e)?n="sectors":Ch(t,e)&&(n="points"),n}function Mxe(t,e){if(L0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(V0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ch(t,e)?e.payload:{}}function $xe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=jxe(n,e),o=Mxe(n,e),a=r.filter(function(l,u){var d=Yu(o,l),c=n.props[i].filter(function(y){var g=Dxe(n,e);return g(y,e)}),h=n.props[i].indexOf(c[c.length-1]),p=u===h;return d&&p}),s=r.indexOf(a[a.length-1]);return s}var Jm;function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(this,arguments)}function c2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(n),!0).forEach(function(r){kr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MU(r.key),r)}}function Vxe(t,e,n){return e&&d2(t.prototype,e),n&&d2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fxe(t,e,n){return e=Ny(e),Bxe(t,jU()?Reflect.construct(e,n||[],Ny(t).constructor):e.apply(t,n))}function Bxe(t,e){if(e&&(ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uxe(t)}function Uxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jU=function(){return!!t})()}function Ny(t){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ny(t)}function zxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bE(t,e)}function bE(t,e){return bE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bE(t,e)}function kr(t,e,n){return e=MU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MU(t){var e=Wxe(t,"string");return ec(e)=="symbol"?e:e+""}function Wxe(t,e){if(ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Po=function(t){function e(n){var r;return Lxe(this,e),r=Fxe(this,e,[n]),kr(r,"pieRef",null),kr(r,"sectorRefs",[]),kr(r,"id",jc("recharts-pie-")),kr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),_e(i)&&i()}),kr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),_e(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return zxe(e,t),Vxe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,d=ye(this.props,!1),c=ye(a,!1),h=ye(s,!1),p=a&&a.offsetRadius||20,y=r.map(function(g,v){var b=(g.startAngle+g.endAngle)/2,_=tt(g.cx,g.cy,g.outerRadius+p,b),x=Je(Je(Je(Je({},d),g),{},{stroke:"none"},c),{},{index:v,textAnchor:e.getTextAnchor(_.x,g.cx)},_),P=Je(Je(Je(Je({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[tt(g.cx,g.cy,g.outerRadius,b),_]}),E=l;return we(l)&&we(u)?E="value":we(l)&&(E=u),M.createElement(Re,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},s&&e.renderLabelLineItem(s,P,"line"),e.renderLabelItem(a,x,Ht(g,E)))});return M.createElement(Re,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var c=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,p=c?a:h,y=Je(Je({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return M.createElement(Re,Yl({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Hs(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),M.createElement(DU,Yl({option:p,isActive:c,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,c=this.state,h=c.prevSectors,p=c.prevIsAnimationActive;return M.createElement(Ni,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,v=[],b=o&&o[0],_=b.startAngle;return o.forEach(function(x,P){var E=h&&h[P],A=P>0?_r(x,"paddingAngle",0):0;if(E){var T=Xn(E.endAngle-E.startAngle,x.endAngle-x.startAngle),I=Je(Je({},x),{},{startAngle:_+A,endAngle:_+T(g)+A});v.push(I),_=I.endAngle}else{var O=x.endAngle,C=x.startAngle,R=Xn(0,O-C),k=R(g),N=Je(Je({},x),{},{startAngle:_+A,endAngle:_+k+A});v.push(N),_=N.endAngle}}),M.createElement(Re,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!Yu(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,d=i.cy,c=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,y=this.state.isAnimationFinished;if(o||!a||!a.length||!ne(u)||!ne(d)||!ne(c)||!ne(h))return null;var g=Ee("recharts-pie",s);return M.createElement(Re,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){r.pieRef=b}},this.renderSectors(),l&&this.renderLabels(a),on.renderCallByParent(this.props,null,!1),(!p||y)&&ro.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(M.isValidElement(r))return M.cloneElement(r,i);if(_e(r))return r(i);var a=Ee("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return M.createElement(pu,Yl({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(M.isValidElement(r))return M.cloneElement(r,i);var a=o;if(_e(r)&&(a=r(i),M.isValidElement(a)))return a;var s=Ee("recharts-pie-label-text",typeof r!="boolean"&&!_e(r)?r.className:"");return M.createElement(Ys,Yl({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(j.PureComponent);Jm=Po;kr(Po,"displayName","Pie");kr(Po,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!cl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});kr(Po,"parseDeltaAngle",function(t,e){var n=Mn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});kr(Po,"getRealPieData",function(t){var e=t.data,n=t.children,r=ye(t,!1),i=Mr(n,pp);return e&&e.length?e.map(function(o,a){return Je(Je(Je({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Je(Je({},r),o.props)}):[]});kr(Po,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=pU(i,o),s=r+$n(t.cx,i,i/2),l=n+$n(t.cy,o,o/2),u=$n(t.innerRadius,a,0),d=$n(t.outerRadius,a,a*.8),c=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:d,maxRadius:c}});kr(Po,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Je(Je({},e.type.defaultProps),e.props):e.props,i=Jm.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,d=r.nameKey,c=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),y=Jm.parseCoordinateOfPie(r,n),g=Jm.parseDeltaAngle(a,s),v=Math.abs(g),b=u;we(u)&&we(c)?(to(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):we(u)&&(to(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=c);var _=i.filter(function(I){return Ht(I,b,0)!==0}).length,x=(v>=360?_:_-1)*l,P=v-_*p-x,E=i.reduce(function(I,O){var C=Ht(O,b,0);return I+(ne(C)?C:0)},0),A;if(E>0){var T;A=i.map(function(I,O){var C=Ht(I,b,0),R=Ht(I,d,O),k=(ne(C)?C:0)/E,N;O?N=T.endAngle+Mn(g)*l*(C!==0?1:0):N=a;var U=N+Mn(g)*((C!==0?p:0)+k*P),z=(N+U)/2,G=(y.innerRadius+y.outerRadius)/2,H=[{name:R,value:C,payload:I,dataKey:b,type:h}],V=tt(y.cx,y.cy,G,z);return T=Je(Je(Je({percent:k,cornerRadius:o,name:R,tooltipPayload:H,midAngle:z,middleRadius:G,tooltipPosition:V},I),y),{},{value:Ht(I,b),startAngle:N,endAngle:U,payload:I,paddingAngle:Mn(g)*l}),T})}return Je(Je({},y),{},{sectors:A,data:i})});var qxe=Math.ceil,Gxe=Math.max;function Kxe(t,e,n,r){for(var i=-1,o=Gxe(qxe((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Hxe=Kxe,Yxe=nB,f2=1/0,Qxe=17976931348623157e292;function Xxe(t){if(!t)return t===0?t:0;if(t=Yxe(t),t===f2||t===-f2){var e=t<0?-1:1;return e*Qxe}return t===t?t:0}var Jxe=Xxe,Zxe=Hxe,eEe=w0,Tb=Jxe;function tEe(t){return function(e,n,r){return r&&typeof r!="number"&&eEe(e,n,r)&&(n=r=void 0),e=Tb(e),n===void 0?(n=e,e=0):n=Tb(n),r=r===void 0?e<n?1:-1:Tb(r),Zxe(e,n,r,t)}}var nEe=tEe,rEe=nEe,iEe=rEe(),oEe=iEe;const Dy=Ge(oEe);function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function h2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(n),!0).forEach(function(r){$U(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $U(t,e,n){return e=aEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aEe(t){var e=sEe(t,"string");return Rh(e)=="symbol"?e:e+""}function sEe(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lEe=["Webkit","Moz","O","ms"],uEe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=lEe.reduce(function(o,a){return p2(p2({},o),{},$U({},a+r,n))},{});return i[e]=n,i};function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function jy(){return jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jy.apply(this,arguments)}function m2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ib(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(n),!0).forEach(function(r){cr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VU(r.key),r)}}function dEe(t,e,n){return e&&g2(t.prototype,e),n&&g2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fEe(t,e,n){return e=My(e),hEe(t,LU()?Reflect.construct(e,n||[],My(t).constructor):e.apply(t,n))}function hEe(t,e){if(e&&(tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pEe(t)}function pEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LU=function(){return!!t})()}function My(t){return My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},My(t)}function mEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wE(t,e)}function wE(t,e){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wE(t,e)}function cr(t,e,n){return e=VU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VU(t){var e=gEe(t,"string");return tc(e)=="symbol"?e:e+""}function gEe(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yEe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=lf().domain(Dy(0,l)).range([o,o+a-s]),d=u.domain().map(function(c){return u(c)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},y2=function(e){return e.changedTouches&&!!e.changedTouches.length},nc=function(t){function e(n){var r;return cEe(this,e),r=fEe(this,e,[n]),cr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),cr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),cr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),cr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),cr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),cr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),cr(r,"handleSlideDragStart",function(i){var o=y2(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return mEe(e,t),dEe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,c=Math.min(i,o),h=Math.max(i,o),p=e.getIndexInRange(a,c),y=e.getIndexInRange(a,h);return{startIndex:p-p%l,endIndex:y===d?d:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Ht(o[r],s,r);return _e(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,d=l.width,c=l.travellerWidth,h=l.startIndex,p=l.endIndex,y=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+d-c-s,u+d-c-a):g<0&&(g=Math.max(g,u-a,u-s));var v=this.getIndex({startX:a+g,endX:s+g});(v.startIndex!==h||v.endIndex!==p)&&y&&y(v),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=y2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],d=this.props,c=d.x,h=d.width,p=d.travellerWidth,y=d.onChange,g=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,c+h-p-u):_<0&&(_=Math.max(_,c-u)),b[a]=u+_;var x=this.getIndex(b),P=x.startIndex,E=x.endIndex,A=function(){var I=v.length-1;return a==="startX"&&(s>l?P%g===0:E%g===0)||s<l&&E===I||a==="endX"&&(s>l?E%g===0:P%g===0)||s>l&&E===I};this.setState(cr(cr({},a,u+_),"brushMoveStartX",r.pageX),function(){y&&A()&&y(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,d=this.state[i],c=s.indexOf(d);if(c!==-1){var h=c+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(cr({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,d=r.padding,c=j.Children.only(u);return c?M.cloneElement(c,{x:i,y:o,width:a,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,d=l.travellerWidth,c=l.height,h=l.traveller,p=l.ariaLabel,y=l.data,g=l.startIndex,v=l.endIndex,b=Math.max(r,this.props.x),_=Ib(Ib({},ye(this.props,!1)),{},{x:b,y:u,width:d,height:c}),x=p||"Min value: ".concat((o=y[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=y[v])===null||a===void 0?void 0:a.name);return M.createElement(Re,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,d=Math.min(r,i)+u,c=Math.max(Math.abs(i-r)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:c,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,c=d.startX,h=d.endX,p=5,y={pointerEvents:"none",fill:u};return M.createElement(Re,{className:"recharts-brush-texts"},M.createElement(Ys,jy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,h)-p,y:a+s/2},y),this.getTextOfTick(i)),M.createElement(Ys,jy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,h)+l+p,y:a+s/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,d=r.height,c=r.alwaysShowText,h=this.state,p=h.startX,y=h.endX,g=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!ne(s)||!ne(l)||!ne(u)||!ne(d)||u<=0||d<=0)return null;var x=Ee("recharts-brush",o),P=M.Children.count(a)===1,E=uEe("userSelect","none");return M.createElement(Re,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||b||_||c)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):_e(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,c=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Ib({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?yEe({data:o,width:a,x:s,travellerWidth:l,startIndex:d,endIndex:c}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(j.PureComponent);cr(nc,"displayName","Brush");cr(nc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var vEe=HI;function _Ee(t,e){var n;return vEe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var bEe=_Ee,wEe=k4,xEe=ja,EEe=bEe,TEe=sr,IEe=w0;function SEe(t,e,n){var r=TEe(t)?wEe:EEe;return n&&IEe(t,e,n)&&(e=void 0),r(t,xEe(e))}var AEe=SEe;const PEe=Ge(AEe);var Si=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},v2=X4;function OEe(t,e,n){e=="__proto__"&&v2?v2(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var kEe=OEe,CEe=kEe,REe=Y4,NEe=ja;function DEe(t,e){var n={};return e=NEe(e),REe(t,function(r,i,o){CEe(n,i,e(r,i,o))}),n}var jEe=DEe;const MEe=Ge(jEe);function $Ee(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var LEe=$Ee,VEe=HI;function FEe(t,e){var n=!0;return VEe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var BEe=FEe,UEe=LEe,zEe=BEe,WEe=ja,qEe=sr,GEe=w0;function KEe(t,e,n){var r=qEe(t)?UEe:zEe;return n&&GEe(t,e,n)&&(e=void 0),r(t,WEe(e))}var HEe=KEe;const YEe=Ge(HEe);var QEe=["x","y"];function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xE.apply(this,arguments)}function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(r){XEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XEe(t,e,n){return e=JEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JEe(t){var e=ZEe(t,"string");return Nh(e)=="symbol"?e:e+""}function ZEe(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eTe(t,e){if(t==null)return{};var n=tTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nTe(t,e){var n=t.x,r=t.y,i=eTe(t,QEe),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),d=parseInt(u,10),c="".concat(e.width||i.width),h=parseInt(c,10);return Sd(Sd(Sd(Sd(Sd({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function b2(t){return M.createElement(DU,xE({shapeType:"rectangle",propTransformer:nTe,activeClassName:"recharts-active-bar"},t))}var rTe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ne(r)||Tre(r);return o?e(r,i):(o||Xs(),n)}},iTe=["value","background"],FU;function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function oTe(t,e){if(t==null)return{};var n=aTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(this,arguments)}function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(r){Zo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UU(r.key),r)}}function lTe(t,e,n){return e&&x2(t.prototype,e),n&&x2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uTe(t,e,n){return e=Ly(e),cTe(t,BU()?Reflect.construct(e,n||[],Ly(t).constructor):e.apply(t,n))}function cTe(t,e){if(e&&(rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dTe(t)}function dTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BU=function(){return!!t})()}function Ly(t){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ly(t)}function fTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EE(t,e)}function EE(t,e){return EE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EE(t,e)}function Zo(t,e,n){return e=UU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UU(t){var e=hTe(t,"string");return rc(e)=="symbol"?e:e+""}function hTe(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pl=function(t){function e(){var n;sTe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=uTe(this,e,[].concat(i)),Zo(n,"state",{isAnimationFinished:!1}),Zo(n,"id",jc("recharts-bar-")),Zo(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Zo(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return fTe(e,t),lTe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,d=ye(this.props,!1);return r&&r.map(function(c,h){var p=h===l,y=p?u:a,g=Vt(Vt(Vt({},d),c),{},{isActive:p,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(Re,$y({className:"recharts-bar-rectangle"},Hs(i.props,c,h),{key:"rectangle-".concat(c==null?void 0:c.x,"-").concat(c==null?void 0:c.y,"-").concat(c==null?void 0:c.value,"-").concat(h)}),M.createElement(b2,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,c=i.animationId,h=this.state.prevData;return M.createElement(Ni,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,g=o.map(function(v,b){var _=h&&h[b];if(_){var x=Xn(_.x,v.x),P=Xn(_.y,v.y),E=Xn(_.width,v.width),A=Xn(_.height,v.height);return Vt(Vt({},v),{},{x:x(y),y:P(y),width:E(y),height:A(y)})}if(a==="horizontal"){var T=Xn(0,v.height),I=T(y);return Vt(Vt({},v),{},{y:v.y+v.height-I,height:I})}var O=Xn(0,v.width),C=O(y);return Vt(Vt({},v),{},{width:C})});return M.createElement(Re,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Yu(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ye(this.props.background,!1);return o.map(function(u,d){u.value;var c=u.background,h=oTe(u,iTe);if(!c)return null;var p=Vt(Vt(Vt(Vt(Vt({},h),{},{fill:"#eee"},c),l),Hs(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(b2,$y({key:"background-bar-".concat(d),option:r.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,c=Mr(d,R0);if(!c)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,p=function(v,b){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:Ht(v,b)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(Re,y,c.map(function(g){return M.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,d=r.top,c=r.width,h=r.height,p=r.isAnimationActive,y=r.background,g=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=Ee("recharts-bar",a),_=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,P=_||x,E=we(g)?this.id:g;return M.createElement(Re,{className:b},_||x?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(E)},M.createElement("rect",{x:_?u:u-c/2,y:x?d:d-h/2,width:_?c:c*2,height:x?h:h*2}))):null,M.createElement(Re,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(E,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,E),(!p||v)&&ro.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(j.PureComponent);FU=pl;Zo(pl,"displayName","Bar");Zo(pl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!cl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Zo(pl,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,c=t.displayedData,h=t.offset,p=Wve(r,n);if(!p)return null;var y=e.layout,g=n.type.defaultProps,v=g!==void 0?Vt(Vt({},g),n.props):n.props,b=v.dataKey,_=v.children,x=v.minPointSize,P=y==="horizontal"?a:o,E=u?P.scale.domain():null,A=Xve({numericAxis:P}),T=Mr(_,pp),I=c.map(function(O,C){var R,k,N,U,z,G;u?R=qve(u[d+C],E):(R=Ht(O,b),Array.isArray(R)||(R=[A,R]));var H=rTe(x,FU.defaultProps.minPointSize)(R[1],C);if(y==="horizontal"){var V,q=[a.scale(R[0]),a.scale(R[1])],J=q[0],se=q[1];k=dN({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:O,index:C}),N=(V=se??J)!==null&&V!==void 0?V:void 0,U=p.size;var Z=J-se;if(z=Number.isNaN(Z)?0:Z,G={x:k,y:a.y,width:U,height:a.height},Math.abs(H)>0&&Math.abs(z)<Math.abs(H)){var Y=Mn(z||H)*(Math.abs(H)-Math.abs(z));N-=Y,z+=Y}}else{var ge=[o.scale(R[0]),o.scale(R[1])],Ie=ge[0],Le=ge[1];if(k=Ie,N=dN({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:O,index:C}),U=Le-Ie,z=p.size,G={x:o.x,y:N,width:o.width,height:z},Math.abs(H)>0&&Math.abs(U)<Math.abs(H)){var gt=Mn(U||H)*(Math.abs(H)-Math.abs(U));U+=gt}}return Vt(Vt(Vt({},O),{},{x:k,y:N,width:U,height:z,value:u?R:R[1],payload:O,background:G},T&&T[C]&&T[C].props),{},{tooltipPayload:[fU(n,O)],tooltipPosition:{x:k+U/2,y:N+z/2}})});return Vt({data:I,layout:y},h)});function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function pTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zU(r.key),r)}}function mTe(t,e,n){return e&&E2(t.prototype,e),n&&E2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){F0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F0(t,e,n){return e=zU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zU(t){var e=gTe(t,"string");return Dh(e)=="symbol"?e:e+""}function gTe(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WU=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,d=Object.keys(n),c={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!fr(u,pl);return d.reduce(function(p,y){var g=n[y],v=g.orientation,b=g.domain,_=g.padding,x=_===void 0?{}:_,P=g.mirror,E=g.reversed,A="".concat(v).concat(P?"Mirror":""),T,I,O,C,R;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var k=b[1]-b[0],N=1/0,U=g.categoricalDomain.sort(Are);if(U.forEach(function(ge,Ie){Ie>0&&(N=Math.min((ge||0)-(U[Ie-1]||0),N))}),Number.isFinite(N)){var z=N/k,G=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(T=z*G/2),g.padding==="no-gap"){var H=$n(e.barCategoryGap,z*G),V=z*G/2;T=V-H-(V-H)/G*H}}}i==="xAxis"?I=[r.left+(x.left||0)+(T||0),r.left+r.width-(x.right||0)-(T||0)]:i==="yAxis"?I=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(T||0),r.top+r.height-(x.bottom||0)-(T||0)]:I=g.range,E&&(I=[I[1],I[0]]);var q=lU(g,o,h),J=q.scale,se=q.realScaleType;J.domain(b).range(I),uU(J);var Z=cU(J,Zr(Zr({},g),{},{realScaleType:se}));i==="xAxis"?(R=v==="top"&&!P||v==="bottom"&&P,O=r.left,C=c[A]-R*g.height):i==="yAxis"&&(R=v==="left"&&!P||v==="right"&&P,O=c[A]-R*g.width,C=r.top);var Y=Zr(Zr(Zr({},g),Z),{},{realScaleType:se,x:O,y:C,scale:J,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return Y.bandSize=xy(Y,Z),!g.hide&&i==="xAxis"?c[A]+=(R?-1:1)*Y.height:g.hide||(c[A]+=(R?-1:1)*Y.width),Zr(Zr({},p),{},F0({},y,Y))},{})},qU=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},yTe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return qU({x:n,y:r},{x:i,y:o})},GU=function(){function t(e){pTe(this,t),this.scale=e}return mTe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();F0(GU,"EPS",1e-4);var TS=function(e){var n=Object.keys(e).reduce(function(r,i){return Zr(Zr({},r),{},F0({},i,GU.create(e[i])))},{});return Zr(Zr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return MEe(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return YEe(i,function(o,a){return n[a].isInRange(o)})}})};function vTe(t){return(t%180+180)%180}var _Te=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=vTe(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},bTe=kne(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),KU=j.createContext(void 0),HU=j.createContext(void 0),YU=j.createContext(void 0),wTe=j.createContext({}),QU=j.createContext(void 0),XU=j.createContext(0),JU=j.createContext(0),I2=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,d=bTe(o);return M.createElement(KU.Provider,{value:r},M.createElement(HU.Provider,{value:i},M.createElement(wTe.Provider,{value:o},M.createElement(YU.Provider,{value:d},M.createElement(QU.Provider,{value:a},M.createElement(XU.Provider,{value:u},M.createElement(JU.Provider,{value:l},s)))))))},xTe=function(){return j.useContext(QU)},ZU=function(e){var n=j.useContext(KU);n==null&&Xs();var r=n[e];return r==null&&Xs(),r},e3=function(e){var n=j.useContext(HU);n==null&&Xs();var r=n[e];return r==null&&Xs(),r},ETe=function(){var e=j.useContext(YU);return e},t3=function(){return j.useContext(JU)},n3=function(){return j.useContext(XU)};function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function TTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ITe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i3(r.key),r)}}function STe(t,e,n){return e&&ITe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ATe(t,e,n){return e=Vy(e),PTe(t,r3()?Reflect.construct(e,n||[],Vy(t).constructor):e.apply(t,n))}function PTe(t,e){if(e&&(ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OTe(t)}function OTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r3=function(){return!!t})()}function Vy(t){return Vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vy(t)}function kTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TE(t,e)}function TE(t,e){return TE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TE(t,e)}function S2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(n),!0).forEach(function(r){IS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IS(t,e,n){return e=i3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i3(t){var e=CTe(t,"string");return ic(e)=="symbol"?e:e+""}function CTe(t,e){if(ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function RTe(t,e){return MTe(t)||jTe(t,e)||DTe(t,e)||NTe()}function NTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DTe(t,e){if(t){if(typeof t=="string")return P2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P2(t,e)}}function P2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function MTe(t){if(Array.isArray(t))return t}function IE(){return IE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IE.apply(this,arguments)}var $Te=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):_e(e)?r=e(n):r=M.createElement("line",IE({},n,{className:"recharts-reference-line-line"})),r},LTe=function(e,n,r,i,o,a,s,l,u){var d=o.x,c=o.y,h=o.width,p=o.height;if(r){var y=u.y,g=e.y.apply(y,{position:a});if(Si(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(n){var b=u.x,_=e.x.apply(b,{position:a});if(Si(u,"discard")&&!e.x.isInRange(_))return null;var x=[{x:_,y:c+p},{x:_,y:c}];return s==="top"?x.reverse():x}if(i){var P=u.segment,E=P.map(function(A){return e.apply(A,{position:a})});return Si(u,"discard")&&PEe(E,function(A){return!e.isInRange(A)})?null:E}return null};function VTe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=xTe(),d=ZU(i),c=e3(o),h=ETe();if(!u||!h)return null;to(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=TS({x:d.scale,y:c.scale}),y=Qt(e),g=Qt(n),v=r&&r.length===2,b=LTe(p,y,g,v,h,t.position,d.orientation,c.orientation,t);if(!b)return null;var _=RTe(b,2),x=_[0],P=x.x,E=x.y,A=_[1],T=A.x,I=A.y,O=Si(t,"hidden")?"url(#".concat(u,")"):void 0,C=A2(A2({clipPath:O},ye(t,!0)),{},{x1:P,y1:E,x2:T,y2:I});return M.createElement(Re,{className:Ee("recharts-reference-line",s)},$Te(a,C),on.renderCallByParent(t,yTe({x1:P,y1:E,x2:T,y2:I})))}var SS=function(t){function e(){return TTe(this,e),ATe(this,e,arguments)}return kTe(e,t),STe(e,[{key:"render",value:function(){return M.createElement(VTe,this.props)}}])}(M.Component);IS(SS,"displayName","ReferenceLine");IS(SS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(this,arguments)}function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(r){B0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a3(r.key),r)}}function UTe(t,e,n){return e&&BTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zTe(t,e,n){return e=Fy(e),WTe(t,o3()?Reflect.construct(e,n||[],Fy(t).constructor):e.apply(t,n))}function WTe(t,e){if(e&&(oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qTe(t)}function qTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o3=function(){return!!t})()}function Fy(t){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fy(t)}function GTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AE(t,e)}function AE(t,e){return AE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AE(t,e)}function B0(t,e,n){return e=a3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a3(t){var e=KTe(t,"string");return oc(e)=="symbol"?e:e+""}function KTe(t,e){if(oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HTe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=TS({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Si(e,"discard")&&!a.isInRange(s)?null:s},U0=function(t){function e(){return FTe(this,e),zTe(this,e,arguments)}return GTe(e,t),UTe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=Qt(i),d=Qt(o);if(to(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var c=HTe(this.props);if(!c)return null;var h=c.x,p=c.y,y=this.props,g=y.shape,v=y.className,b=Si(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=k2(k2({clipPath:b},ye(this.props,!0)),{},{cx:h,cy:p});return M.createElement(Re,{className:Ee("recharts-reference-dot",v)},e.renderDot(g,_),on.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])}(M.Component);B0(U0,"displayName","ReferenceDot");B0(U0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});B0(U0,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):_e(t)?n=t(e):n=M.createElement(N0,SE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function PE(){return PE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PE.apply(this,arguments)}function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function C2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C2(Object(n),!0).forEach(function(r){z0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l3(r.key),r)}}function XTe(t,e,n){return e&&QTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JTe(t,e,n){return e=By(e),ZTe(t,s3()?Reflect.construct(e,n||[],By(t).constructor):e.apply(t,n))}function ZTe(t,e){if(e&&(ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e1e(t)}function e1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s3=function(){return!!t})()}function By(t){return By=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},By(t)}function t1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OE(t,e)}function OE(t,e){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OE(t,e)}function z0(t,e,n){return e=l3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l3(t){var e=n1e(t,"string");return ac(e)=="symbol"?e:e+""}function n1e(t,e){if(ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var r1e=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,d=o.xAxis,c=o.yAxis;if(!d||!c)return null;var h=TS({x:d.scale,y:c.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Si(o,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:qU(p,y)},W0=function(t){function e(){return YTe(this,e),JTe(this,e,arguments)}return t1e(e,t),XTe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;to(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=Qt(i),h=Qt(o),p=Qt(a),y=Qt(s),g=this.props.shape;if(!c&&!h&&!p&&!y&&!g)return null;var v=r1e(c,h,p,y,this.props);if(!v&&!g)return null;var b=Si(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(Re,{className:Ee("recharts-reference-area",l)},e.renderRect(g,R2(R2({clipPath:b},ye(this.props,!0)),v)),on.renderCallByParent(this.props,v))}}])}(M.Component);z0(W0,"displayName","ReferenceArea");z0(W0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});z0(W0,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):_e(t)?n=t(e):n=M.createElement(ES,PE({},e,{className:"recharts-reference-area-rect"})),n});function u3(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function i1e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return _Te(r,n)}function o1e(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Uy(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function a1e(t,e){return u3(t,e+1)}function s1e(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,d=a,c=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:u3(r,u)};var g=l,v,b=function(){return v===void 0&&(v=n(y,g)),v},_=y.coordinate,x=l===0||Uy(t,_,b,d,s);x||(l=0,d=a,u+=1),x&&(d=_+t*(b()/2+i),l+=u)},h;u<=o.length;)if(h=c(),h)return h.v;return[]}function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function N2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(n),!0).forEach(function(r){l1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l1e(t,e,n){return e=u1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u1e(t){var e=c1e(t,"string");return jh(e)=="symbol"?e:e+""}function c1e(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d1e(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var p=o[h],y,g=function(){return y===void 0&&(y=n(p,h)),y};if(h===a-1){var v=t*(p.coordinate+t*g()/2-l);o[h]=p=Sn(Sn({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else o[h]=p=Sn(Sn({},p),{},{tickCoord:p.coordinate});var b=Uy(t,p.tickCoord,g,s,l);b&&(l=p.tickCoord-t*(g()/2+i),o[h]=Sn(Sn({},p),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return o}function f1e(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var d=r[s-1],c=n(d,s-1),h=t*(d.coordinate+t*c/2-u);a[s-1]=d=Sn(Sn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=Uy(t,d.tickCoord,function(){return c},l,u);p&&(u=d.tickCoord-t*(c/2+i),a[s-1]=Sn(Sn({},d),{},{isShow:!0}))}for(var y=o?s-1:s,g=function(_){var x=a[_],P,E=function(){return P===void 0&&(P=n(x,_)),P};if(_===0){var A=t*(x.coordinate-t*E()/2-l);a[_]=x=Sn(Sn({},x),{},{tickCoord:A<0?x.coordinate-A*t:x.coordinate})}else a[_]=x=Sn(Sn({},x),{},{tickCoord:x.coordinate});var T=Uy(t,x.tickCoord,E,l,u);T&&(l=x.tickCoord+t*(E()/2+i),a[_]=Sn(Sn({},x),{},{isShow:!0}))},v=0;v<y;v++)g(v);return a}function h1e(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,c=t.angle;if(!i||!i.length||!r)return[];if(ne(l)||cl.isSsr)return a1e(i,typeof l=="number"&&ne(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",y=d&&p==="width"?sf(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(x,P){var E=_e(u)?u(x.value,P):x.value;return p==="width"?i1e(sf(E,{fontSize:e,letterSpacing:n}),y,c):sf(E,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?Mn(i[1].coordinate-i[0].coordinate):1,b=o1e(o,v,p);return l==="equidistantPreserveStart"?s1e(v,b,g,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=f1e(v,b,g,i,a,l==="preserveStartEnd"):h=d1e(v,b,g,i,a),h.filter(function(_){return _.isShow}))}var p1e=["viewBox"],m1e=["viewBox"],g1e=["ticks"];function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ql.apply(this,arguments)}function D2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(n),!0).forEach(function(r){AS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sb(t,e){if(t==null)return{};var n=y1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function y1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d3(r.key),r)}}function _1e(t,e,n){return e&&j2(t.prototype,e),n&&j2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b1e(t,e,n){return e=zy(e),w1e(t,c3()?Reflect.construct(e,n||[],zy(t).constructor):e.apply(t,n))}function w1e(t,e){if(e&&(sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x1e(t)}function x1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c3=function(){return!!t})()}function zy(t){return zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zy(t)}function E1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kE(t,e)}function kE(t,e){return kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kE(t,e)}function AS(t,e,n){return e=d3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d3(t){var e=T1e(t,"string");return sc(e)=="symbol"?e:e+""}function T1e(t,e){if(sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var q0=function(t){function e(n){var r;return v1e(this,e),r=b1e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return E1e(e,t),_1e(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Sb(r,p1e),s=this.props,l=s.viewBox,u=Sb(s,m1e);return!cu(o,l)||!cu(a,u)||!cu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,d=i.tickSize,c=i.mirror,h=i.tickMargin,p,y,g,v,b,_,x=c?-1:1,P=r.tickSize||d,E=ne(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=y=r.coordinate,v=a+ +!c*l,g=v-x*P,_=g-x*h,b=E;break;case"left":g=v=r.coordinate,y=o+ +!c*s,p=y-x*P,b=p-x*h,_=E;break;case"right":g=v=r.coordinate,y=o+ +c*s,p=y+x*P,b=p+x*h,_=E;break;default:p=y=r.coordinate,v=a+ +c*l,g=v+x*P,_=g+x*h,b=E;break}return{line:{x1:p,y1:g,x2:y,y2:v},tick:{x:b,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,d=r.axisLine,c=qt(qt(qt({},ye(this.props,!1)),ye(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);c=qt(qt({},c),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);c=qt(qt({},c),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return M.createElement("line",Ql({},c,{className:Ee("recharts-cartesian-axis-line",_r(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,c=s.tickFormatter,h=s.unit,p=h1e(qt(qt({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=ye(this.props,!1),b=ye(d,!1),_=qt(qt({},v),{},{fill:"none"},ye(l,!1)),x=p.map(function(P,E){var A=a.getTickLineCoord(P),T=A.line,I=A.tick,O=qt(qt(qt(qt({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:u},b),I),{},{index:E,payload:P,visibleTicksCount:p.length,tickFormatter:c});return M.createElement(Re,Ql({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},Hs(a.props,P,E)),l&&M.createElement("line",Ql({},_,T,{className:Ee("recharts-cartesian-axis-tick-line",_r(l,"className"))})),d&&e.renderTickItem(d,O,"".concat(_e(c)?c(P.value,E):P.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var c=this.props,h=c.ticks,p=Sb(c,g1e),y=h;return _e(l)&&(y=h&&h.length>0?l(this.props):l(p)),a<=0||s<=0||!y||!y.length?null:M.createElement(Re,{className:Ee("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),on.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Ee(i.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(r)?a=M.cloneElement(r,qt(qt({},i),{},{className:s})):_e(r)?a=r(qt(qt({},i),{},{className:s})):a=M.createElement(Ys,Ql({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(j.Component);AS(q0,"displayName","CartesianAxis");AS(q0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var I1e=["layout","type","stroke","connectNulls","isRange","ref"],S1e=["key"],f3;function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function h3(t,e){if(t==null)return{};var n=A1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _s(){return _s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_s.apply(this,arguments)}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){bi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m3(r.key),r)}}function O1e(t,e,n){return e&&$2(t.prototype,e),n&&$2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function k1e(t,e,n){return e=Wy(e),C1e(t,p3()?Reflect.construct(e,n||[],Wy(t).constructor):e.apply(t,n))}function C1e(t,e){if(e&&(lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R1e(t)}function R1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p3=function(){return!!t})()}function Wy(t){return Wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wy(t)}function N1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CE(t,e)}function CE(t,e){return CE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CE(t,e)}function bi(t,e,n){return e=m3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m3(t){var e=D1e(t,"string");return lc(e)=="symbol"?e:e+""}function D1e(t,e){if(lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Va=function(t){function e(){var n;P1e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=k1e(this,e,[].concat(i)),bi(n,"state",{isAnimationFinished:!0}),bi(n,"id",jc("recharts-area-")),bi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),_e(a)&&a()}),bi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),_e(a)&&a()}),n}return N1e(e,t),O1e(e,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,u=l.dot,d=l.points,c=l.dataKey,h=ye(this.props,!1),p=ye(u,!0),y=d.map(function(v,b){var _=Vo(Vo(Vo({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:v.x,cy:v.y,dataKey:c,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,_)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return M.createElement(Re,_s({className:"recharts-area-dots"},g),y)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,u=a[a.length-1].x,d=r*Math.abs(l-u),c=Jo(a.map(function(h){return h.y||0}));return ne(o)&&typeof o=="number"?c=Math.max(o,c):o&&Array.isArray(o)&&o.length&&(c=Math.max(Jo(o.map(function(h){return h.y||0})),c)),ne(c)?M.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,u=a[a.length-1].y,d=r*Math.abs(l-u),c=Jo(a.map(function(h){return h.x||0}));return ne(o)&&typeof o=="number"?c=Math.max(o,c):o&&Array.isArray(o)&&o.length&&(c=Math.max(Jo(o.map(function(h){return h.x||0})),c)),ne(c)?M.createElement("rect",{x:0,y:l<u?l:l-d,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,u=s.type,d=s.stroke,c=s.connectNulls,h=s.isRange;s.ref;var p=h3(s,I1e);return M.createElement(Re,{clipPath:o?"url(#clipPath-".concat(a,")"):null},M.createElement(pu,_s({},ye(p,!0),{points:r,connectNulls:c,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&M.createElement(pu,_s({},ye(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:c,fill:"none",points:r})),d!=="none"&&h&&M.createElement(pu,_s({},ye(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:c,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,u=a.isAnimationActive,d=a.animationBegin,c=a.animationDuration,h=a.animationEasing,p=a.animationId,y=this.state,g=y.prevPoints,v=y.prevBaseLine;return M.createElement(Ni,{begin:d,duration:c,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var _=b.t;if(g){var x=g.length/s.length,P=s.map(function(I,O){var C=Math.floor(O*x);if(g[C]){var R=g[C],k=Xn(R.x,I.x),N=Xn(R.y,I.y);return Vo(Vo({},I),{},{x:k(_),y:N(_)})}return I}),E;if(ne(l)&&typeof l=="number"){var A=Xn(v,l);E=A(_)}else if(we(l)||Dc(l)){var T=Xn(v,0);E=T(_)}else E=l.map(function(I,O){var C=Math.floor(O*x);if(v[C]){var R=v[C],k=Xn(R.x,I.x),N=Xn(R.y,I.y);return Vo(Vo({},I),{},{x:k(_),y:N(_)})}return I});return o.renderAreaStatically(P,E,r,i)}return M.createElement(Re,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(_))),M.createElement(Re,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,u=this.state,d=u.prevPoints,c=u.prevBaseLine,h=u.totalLength;return l&&a&&a.length&&(!d&&h>0||!Yu(d,a)||!Yu(c,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.top,d=i.left,c=i.xAxis,h=i.yAxis,p=i.width,y=i.height,g=i.isAnimationActive,v=i.id;if(o||!s||!s.length)return null;var b=this.state.isAnimationFinished,_=s.length===1,x=Ee("recharts-area",l),P=c&&c.allowDataOverflow,E=h&&h.allowDataOverflow,A=P||E,T=we(v)?this.id:v,I=(r=ye(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=I.r,C=O===void 0?3:O,R=I.strokeWidth,k=R===void 0?2:R,N=Mre(a)?a:{},U=N.clipDot,z=U===void 0?!0:U,G=C*2+k;return M.createElement(Re,{className:x},P||E?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(T)},M.createElement("rect",{x:P?d:d-p/2,y:E?u:u-y/2,width:P?p:p*2,height:E?y:y*2})),!z&&M.createElement("clipPath",{id:"clipPath-dots-".concat(T)},M.createElement("rect",{x:d-G/2,y:u-G/2,width:p+G,height:y+G}))):null,_?null:this.renderArea(A,T),(a||_)&&this.renderDots(A,z,T),(!g||b)&&ro.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(j.PureComponent);f3=Va;bi(Va,"displayName","Area");bi(Va,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!cl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});bi(Va,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(ne(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),c=Math.min(u[0],u[1]);return s==="dataMin"?c:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});bi(Va,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,d=t.dataStartIndex,c=t.displayedData,h=t.offset,p=e.layout,y=u&&u.length,g=f3.getBaseValue(e,n,r,i),v=p==="horizontal",b=!1,_=c.map(function(P,E){var A;y?A=u[d+E]:(A=Ht(P,l),Array.isArray(A)?b=!0:A=[g,A]);var T=A[1]==null||y&&Ht(P,l)==null;return v?{x:cN({axis:r,ticks:o,bandSize:s,entry:P,index:E}),y:T?null:i.scale(A[1]),value:A,payload:P}:{x:T?null:r.scale(A[1]),y:cN({axis:i,ticks:a,bandSize:s,entry:P,index:E}),value:A,payload:P}}),x;return y||b?x=_.map(function(P){var E=Array.isArray(P.value)?P.value[0]:null;return v?{x:P.x,y:E!=null&&P.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:P.y}}):x=v?i.scale(g):r.scale(g),Vo({points:_,baseLine:x,layout:p,isRange:b},h)});bi(Va,"renderDotItem",function(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(_e(t))n=t(e);else{var r=Ee("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=h3(e,S1e);n=M.createElement(N0,_s({},o,{key:i,className:r}))}return n});function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function j1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v3(r.key),r)}}function $1e(t,e,n){return e&&M1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function L1e(t,e,n){return e=qy(e),V1e(t,g3()?Reflect.construct(e,n||[],qy(t).constructor):e.apply(t,n))}function V1e(t,e){if(e&&(uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F1e(t)}function F1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g3=function(){return!!t})()}function qy(t){return qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qy(t)}function B1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RE(t,e)}function RE(t,e){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RE(t,e)}function y3(t,e,n){return e=v3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v3(t){var e=U1e(t,"string");return uc(e)=="symbol"?e:e+""}function U1e(t,e){if(uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NE(){return NE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NE.apply(this,arguments)}function z1e(t){var e=t.xAxisId,n=t3(),r=n3(),i=ZU(e);return i==null?null:j.createElement(q0,NE({},i,{className:Ee("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return vs(a,!0)}}))}var _p=function(t){function e(){return j1e(this,e),L1e(this,e,arguments)}return B1e(e,t),$1e(e,[{key:"render",value:function(){return j.createElement(z1e,this.props)}}])}(j.Component);y3(_p,"displayName","XAxis");y3(_p,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function W1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w3(r.key),r)}}function G1e(t,e,n){return e&&q1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K1e(t,e,n){return e=Gy(e),H1e(t,_3()?Reflect.construct(e,n||[],Gy(t).constructor):e.apply(t,n))}function H1e(t,e){if(e&&(cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y1e(t)}function Y1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_3=function(){return!!t})()}function Gy(t){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gy(t)}function Q1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DE(t,e)}function DE(t,e){return DE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DE(t,e)}function b3(t,e,n){return e=w3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w3(t){var e=X1e(t,"string");return cc(e)=="symbol"?e:e+""}function X1e(t,e){if(cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jE.apply(this,arguments)}var J1e=function(e){var n=e.yAxisId,r=t3(),i=n3(),o=e3(n);return o==null?null:j.createElement(q0,jE({},o,{className:Ee("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return vs(s,!0)}}))},G0=function(t){function e(){return W1e(this,e),K1e(this,e,arguments)}return Q1e(e,t),G1e(e,[{key:"render",value:function(){return j.createElement(J1e,this.props)}}])}(j.Component);b3(G0,"displayName","YAxis");b3(G0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function L2(t){return nIe(t)||tIe(t)||eIe(t)||Z1e()}function Z1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eIe(t,e){if(t){if(typeof t=="string")return ME(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ME(t,e)}}function tIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nIe(t){if(Array.isArray(t))return ME(t)}function ME(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $E=function(e,n,r,i,o){var a=Mr(e,SS),s=Mr(e,U0),l=[].concat(L2(a),L2(s)),u=Mr(e,W0),d="".concat(i,"Id"),c=i[0],h=n;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===r&&Si(v.props,"extendDomain")&&ne(v.props[c])){var b=v.props[c];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),u.length){var p="".concat(c,"1"),y="".concat(c,"2");h=u.reduce(function(g,v){if(v.props[d]===r&&Si(v.props,"extendDomain")&&ne(v.props[p])&&ne(v.props[y])){var b=v.props[p],_=v.props[y];return[Math.min(g[0],b,_),Math.max(g[1],b,_)]}return g},h)}return o&&o.length&&(h=o.reduce(function(g,v){return ne(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},x3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function o(l,u,d,c,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,c||l,h),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,c;if(this._eventsCount===0)return u;for(c in d=this._events)e.call(d,c)&&u.push(n?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=n?n+u:u,c=this._events[d];if(!c)return[];if(c.fn)return[c.fn];for(var h=0,p=c.length,y=new Array(p);h<p;h++)y[h]=c[h].fn;return y},s.prototype.listenerCount=function(u){var d=n?n+u:u,c=this._events[d];return c?c.fn?1:c.length:0},s.prototype.emit=function(u,d,c,h,p,y){var g=n?n+u:u;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,_,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,c),!0;case 4:return v.fn.call(v.context,d,c,h),!0;case 5:return v.fn.call(v.context,d,c,h,p),!0;case 6:return v.fn.call(v.context,d,c,h,p,y),!0}for(x=1,_=new Array(b-1);x<b;x++)_[x-1]=arguments[x];v.fn.apply(v.context,_)}else{var P=v.length,E;for(x=0;x<P;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),b){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,d);break;case 3:v[x].fn.call(v[x].context,d,c);break;case 4:v[x].fn.call(v[x].context,d,c,h);break;default:if(!_)for(E=1,_=new Array(b-1);E<b;E++)_[E-1]=arguments[E];v[x].fn.apply(v[x].context,_)}}return!0},s.prototype.on=function(u,d,c){return o(this,u,d,c,!1)},s.prototype.once=function(u,d,c){return o(this,u,d,c,!0)},s.prototype.removeListener=function(u,d,c,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!h||y.once)&&(!c||y.context===c)&&a(this,p);else{for(var g=0,v=[],b=y.length;g<b;g++)(y[g].fn!==d||h&&!y[g].once||c&&y[g].context!==c)&&v.push(y[g]);v.length?this._events[p]=v.length===1?v[0]:v:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(x3);var rIe=x3.exports;const iIe=Ge(rIe);var Ab=new iIe,Pb="recharts.syncMouseEvents";function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function oIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E3(r.key),r)}}function sIe(t,e,n){return e&&aIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ob(t,e,n){return e=E3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E3(t){var e=lIe(t,"string");return Mh(e)=="symbol"?e:e+""}function lIe(t,e){if(Mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uIe=function(){function t(){oIe(this,t),Ob(this,"activeIndex",0),Ob(this,"coordinateList",[]),Ob(this,"layout","horizontal")}return sIe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,d=n.offset,c=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=c??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,c=o+l+u,h=a+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:c,pageY:h})}}}])}();function cIe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ne(r)&&ne(i))return!0}return!1}function dIe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function T3(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=tt(e,n,r,i),s=tt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function fIe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,c=e.angle,h=tt(s,l,u,c),p=tt(s,l,d,c);r=h.x,i=h.y,o=p.x,a=p.y}else return T3(e);return[{x:r,y:i},{x:o,y:a}]}function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(r){hIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hIe(t,e,n){return e=pIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pIe(t){var e=mIe(t,"string");return $h(e)=="symbol"?e:e+""}function mIe(t,e){if($h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gIe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,c=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var y,g=pu;if(h==="ScatterChart")y=a,g=mwe;else if(h==="BarChart")y=dIe(c,a,l,d),g=ES;else if(c==="radial"){var v=T3(a),b=v.cx,_=v.cy,x=v.radius,P=v.startAngle,E=v.endAngle;y={cx:b,cy:_,startAngle:P,endAngle:E,innerRadius:x,outerRadius:x},g=vU}else y={points:fIe(c,a,l)},g=pu;var A=wm(wm(wm(wm({stroke:"#ccc",pointerEvents:"none"},l),y),ye(p,!1)),{},{payload:s,payloadIndex:u,className:Ee("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,A):j.createElement(g,A)}var yIe=["item"],vIe=["children","className","width","height","style","compact","title","desc"];function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(this,arguments)}function F2(t,e){return wIe(t)||bIe(t,e)||S3(t,e)||_Ie()}function _Ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function wIe(t){if(Array.isArray(t))return t}function B2(t,e){if(t==null)return{};var n=xIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function EIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A3(r.key),r)}}function IIe(t,e,n){return e&&TIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SIe(t,e,n){return e=Ky(e),AIe(t,I3()?Reflect.construct(e,n||[],Ky(t).constructor):e.apply(t,n))}function AIe(t,e){if(e&&(dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PIe(t)}function PIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I3=function(){return!!t})()}function Ky(t){return Ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ky(t)}function OIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LE(t,e)}function LE(t,e){return LE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LE(t,e)}function fc(t){return RIe(t)||CIe(t)||S3(t)||kIe()}function kIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S3(t,e){if(t){if(typeof t=="string")return VE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VE(t,e)}}function CIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RIe(t){if(Array.isArray(t))return VE(t)}function VE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(n),!0).forEach(function(r){ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ve(t,e,n){return e=A3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A3(t){var e=NIe(t,"string");return dc(e)=="symbol"?e:e+""}function NIe(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DIe={xAxis:["bottom","top"],yAxis:["left","right"]},jIe={width:"100%",height:"100%"},P3={x:0,y:0};function xm(t){return t}var MIe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},$Ie=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return W(W(W({},i),tt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return W(W(W({},i),tt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return P3},K0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(fc(s),fc(u)):s},[]);return a.length>0?a:e&&e.length&&ne(i)&&ne(o)?e.slice(i,o+1):[]};function O3(t){return t==="number"?[0,"auto"]:void 0}var FE=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=K0(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var d,c=(d=u.props.data)!==null&&d!==void 0?d:n;c&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(c=c.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=c===void 0?s:c;h=Hg(p,a.dataKey,i)}else h=c&&c[r]||s[r];return h?[].concat(fc(l),[fU(u,h)]):l},[])},z2=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=MIe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=Lve(a,s,u,l);if(d>=0&&u){var c=u[d]&&u[d].value,h=FE(e,n,d,c),p=$Ie(r,s,d,o);return{activeTooltipIndex:d,activeLabel:c,activePayload:h,activeCoordinate:p}}return null},LIe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,c=e.children,h=e.stackOffset,p=sU(d,o);return r.reduce(function(y,g){var v,b=g.type.defaultProps!==void 0?W(W({},g.type.defaultProps),g.props):g.props,_=b.type,x=b.dataKey,P=b.allowDataOverflow,E=b.allowDuplicatedCategory,A=b.scale,T=b.ticks,I=b.includeHidden,O=b[a];if(y[O])return y;var C=K0(e.data,{graphicalItems:i.filter(function(Z){var Y,ge=a in Z.props?Z.props[a]:(Y=Z.type.defaultProps)===null||Y===void 0?void 0:Y[a];return ge===O}),dataStartIndex:l,dataEndIndex:u}),R=C.length,k,N,U;cIe(b.domain,P,_)&&(k=tE(b.domain,null,P),p&&(_==="number"||A!=="auto")&&(U=uf(C,x,"category")));var z=O3(_);if(!k||k.length===0){var G,H=(G=b.domain)!==null&&G!==void 0?G:z;if(x){if(k=uf(C,x,_),_==="category"&&p){var V=Sre(k);E&&V?(N=k,k=Dy(0,R)):E||(k=pN(H,k,g).reduce(function(Z,Y){return Z.indexOf(Y)>=0?Z:[].concat(fc(Z),[Y])},[]))}else if(_==="category")E?k=k.filter(function(Z){return Z!==""&&!we(Z)}):k=pN(H,k,g).reduce(function(Z,Y){return Z.indexOf(Y)>=0||Y===""||we(Y)?Z:[].concat(fc(Z),[Y])},[]);else if(_==="number"){var q=zve(C,i.filter(function(Z){var Y,ge,Ie=a in Z.props?Z.props[a]:(Y=Z.type.defaultProps)===null||Y===void 0?void 0:Y[a],Le="hide"in Z.props?Z.props.hide:(ge=Z.type.defaultProps)===null||ge===void 0?void 0:ge.hide;return Ie===O&&(I||!Le)}),x,o,d);q&&(k=q)}p&&(_==="number"||A!=="auto")&&(U=uf(C,x,"category"))}else p?k=Dy(0,R):s&&s[O]&&s[O].hasStack&&_==="number"?k=h==="expand"?[0,1]:dU(s[O].stackGroups,l,u):k=aU(C,i.filter(function(Z){var Y=a in Z.props?Z.props[a]:Z.type.defaultProps[a],ge="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return Y===O&&(I||!ge)}),_,d,!0);if(_==="number")k=$E(c,k,O,o,T),H&&(k=tE(H,k,P));else if(_==="category"&&H){var J=H,se=k.every(function(Z){return J.indexOf(Z)>=0});se&&(k=J)}}return W(W({},y),{},ve({},O,W(W({},b),{},{axisType:o,domain:k,categoricalDomain:U,duplicateDomain:N,originalDomain:(v=b.domain)!==null&&v!==void 0?v:z,isCategorical:p,layout:d})))},{})},VIe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,c=e.children,h=K0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=h.length,y=sU(d,o),g=-1;return r.reduce(function(v,b){var _=b.type.defaultProps!==void 0?W(W({},b.type.defaultProps),b.props):b.props,x=_[a],P=O3("number");if(!v[x]){g++;var E;return y?E=Dy(0,p):s&&s[x]&&s[x].hasStack?(E=dU(s[x].stackGroups,l,u),E=$E(c,E,x,o)):(E=tE(P,aU(h,r.filter(function(A){var T,I,O=a in A.props?A.props[a]:(T=A.type.defaultProps)===null||T===void 0?void 0:T[a],C="hide"in A.props?A.props.hide:(I=A.type.defaultProps)===null||I===void 0?void 0:I.hide;return O===x&&!C}),"number",d),i.defaultProps.allowDataOverflow),E=$E(c,E,x,o)),W(W({},v),{},ve({},x,W(W({axisType:o},i.defaultProps),{},{hide:!0,orientation:_r(DIe,"".concat(o,".").concat(g%2),null),domain:E,originalDomain:P,isCategorical:y,layout:d})))}return v},{})},FIe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.children,c="".concat(i,"Id"),h=Mr(d,o),p={};return h&&h.length?p=LIe(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:c,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=VIe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:c,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},BIe=function(e){var n=Nl(e),r=vs(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:YI(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:xy(n,r)}},W2=function(e){var n=e.children,r=e.defaultShowTooltip,i=fr(n,nc),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},UIe=function(e){return!e||!e.length?!1:e.some(function(n){var r=eo(n&&n.type);return r&&r.indexOf("Bar")>=0})},q2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zIe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,d=r.height,c=r.children,h=r.margin||{},p=fr(c,nc),y=fr(c,du),g=Object.keys(l).reduce(function(E,A){var T=l[A],I=T.orientation;return!T.mirror&&!T.hide?W(W({},E),{},ve({},I,E[I]+T.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(a).reduce(function(E,A){var T=a[A],I=T.orientation;return!T.mirror&&!T.hide?W(W({},E),{},ve({},I,_r(E,"".concat(I))+T.height)):E},{top:h.top||0,bottom:h.bottom||0}),b=W(W({},v),g),_=b.bottom;p&&(b.bottom+=p.props.height||nc.defaultProps.height),y&&n&&(b=Bve(b,i,r,n));var x=u-b.left-b.right,P=d-b.top-b.bottom;return W(W({brushBottom:_},b),{},{width:Math.max(x,0),height:Math.max(P,0)})},WIe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},PS=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,c=e.defaultProps,h=function(b,_){var x=_.graphicalItems,P=_.stackGroups,E=_.offset,A=_.updateId,T=_.dataStartIndex,I=_.dataEndIndex,O=b.barSize,C=b.layout,R=b.barGap,k=b.barCategoryGap,N=b.maxBarSize,U=q2(C),z=U.numericAxisName,G=U.cateAxisName,H=UIe(x),V=[];return x.forEach(function(q,J){var se=K0(b.data,{graphicalItems:[q],dataStartIndex:T,dataEndIndex:I}),Z=q.type.defaultProps!==void 0?W(W({},q.type.defaultProps),q.props):q.props,Y=Z.dataKey,ge=Z.maxBarSize,Ie=Z["".concat(z,"Id")],Le=Z["".concat(G,"Id")],gt={},yt=l.reduce(function(lr,Gr){var ji=_["".concat(Gr.axisType,"Map")],Oo=Z["".concat(Gr.axisType,"Id")];ji&&ji[Oo]||Gr.axisType==="zAxis"||Xs();var cn=ji[Oo];return W(W({},lr),{},ve(ve({},Gr.axisType,cn),"".concat(Gr.axisType,"Ticks"),vs(cn)))},gt),ie=yt[G],me=yt["".concat(G,"Ticks")],de=P&&P[Ie]&&P[Ie].hasStack&&Jve(q,P[Ie].stackGroups),K=eo(q.type).indexOf("Bar")>=0,De=xy(ie,me),Se=[],Qe=H&&Vve({barSize:O,stackGroups:P,totalSize:WIe(yt,G)});if(K){var Xe,Wt,Kn=we(ge)?N:ge,Tr=(Xe=(Wt=xy(ie,me,!0))!==null&&Wt!==void 0?Wt:Kn)!==null&&Xe!==void 0?Xe:0;Se=Fve({barGap:R,barCategoryGap:k,bandSize:Tr!==De?Tr:De,sizeList:Qe[Le],maxBarSize:Kn}),Tr!==De&&(Se=Se.map(function(lr){return W(W({},lr),{},{position:W(W({},lr.position),{},{offset:lr.position.offset-Tr/2})})}))}var qr=q&&q.type&&q.type.getComposedData;qr&&V.push({props:W(W({},qr(W(W({},yt),{},{displayedData:se,props:b,dataKey:Y,item:q,bandSize:De,barPosition:Se,offset:E,stackedData:de,layout:C,dataStartIndex:T,dataEndIndex:I}))),{},ve(ve(ve({key:q.key||"item-".concat(J)},z,yt[z]),G,yt[G]),"animationId",A)),childIndex:Vre(q,b.children),item:q})}),V},p=function(b,_){var x=b.props,P=b.dataStartIndex,E=b.dataEndIndex,A=b.updateId;if(!sC({props:x}))return null;var T=x.children,I=x.layout,O=x.stackOffset,C=x.data,R=x.reverseStackOrder,k=q2(I),N=k.numericAxisName,U=k.cateAxisName,z=Mr(T,r),G=Qve(C,z,"".concat(N,"Id"),"".concat(U,"Id"),O,R),H=l.reduce(function(Z,Y){var ge="".concat(Y.axisType,"Map");return W(W({},Z),{},ve({},ge,FIe(x,W(W({},Y),{},{graphicalItems:z,stackGroups:Y.axisType===N&&G,dataStartIndex:P,dataEndIndex:E}))))},{}),V=zIe(W(W({},H),{},{props:x,graphicalItems:z}),_==null?void 0:_.legendBBox);Object.keys(H).forEach(function(Z){H[Z]=d(x,H[Z],V,Z.replace("Map",""),n)});var q=H["".concat(U,"Map")],J=BIe(q),se=h(x,W(W({},H),{},{dataStartIndex:P,dataEndIndex:E,updateId:A,graphicalItems:z,stackGroups:G,offset:V}));return W(W({formattedGraphicalItems:se,graphicalItems:z,offset:V,stackGroups:G},J),H)},y=function(v){function b(_){var x,P,E;return EIe(this,b),E=SIe(this,b,[_]),ve(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ve(E,"accessibilityManager",new uIe),ve(E,"handleLegendBBoxUpdate",function(A){if(A){var T=E.state,I=T.dataStartIndex,O=T.dataEndIndex,C=T.updateId;E.setState(W({legendBBox:A},p({props:E.props,dataStartIndex:I,dataEndIndex:O,updateId:C},W(W({},E.state),{},{legendBBox:A}))))}}),ve(E,"handleReceiveSyncEvent",function(A,T,I){if(E.props.syncId===A){if(I===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(T)}}),ve(E,"handleBrushChange",function(A){var T=A.startIndex,I=A.endIndex;if(T!==E.state.dataStartIndex||I!==E.state.dataEndIndex){var O=E.state.updateId;E.setState(function(){return W({dataStartIndex:T,dataEndIndex:I},p({props:E.props,dataStartIndex:T,dataEndIndex:I,updateId:O},E.state))}),E.triggerSyncEvent({dataStartIndex:T,dataEndIndex:I})}}),ve(E,"handleMouseEnter",function(A){var T=E.getMouseInfo(A);if(T){var I=W(W({},T),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var O=E.props.onMouseEnter;_e(O)&&O(I,A)}}),ve(E,"triggeredAfterMouseMove",function(A){var T=E.getMouseInfo(A),I=T?W(W({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(I),E.triggerSyncEvent(I);var O=E.props.onMouseMove;_e(O)&&O(I,A)}),ve(E,"handleItemMouseEnter",function(A){E.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),ve(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),ve(E,"handleMouseMove",function(A){A.persist(),E.throttleTriggeredAfterMouseMove(A)}),ve(E,"handleMouseLeave",function(A){E.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var I=E.props.onMouseLeave;_e(I)&&I(T,A)}),ve(E,"handleOuterEvent",function(A){var T=Lre(A),I=_r(E.props,"".concat(T));if(T&&_e(I)){var O,C;/.*touch.*/i.test(T)?C=E.getMouseInfo(A.changedTouches[0]):C=E.getMouseInfo(A),I((O=C)!==null&&O!==void 0?O:{},A)}}),ve(E,"handleClick",function(A){var T=E.getMouseInfo(A);if(T){var I=W(W({},T),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var O=E.props.onClick;_e(O)&&O(I,A)}}),ve(E,"handleMouseDown",function(A){var T=E.props.onMouseDown;if(_e(T)){var I=E.getMouseInfo(A);T(I,A)}}),ve(E,"handleMouseUp",function(A){var T=E.props.onMouseUp;if(_e(T)){var I=E.getMouseInfo(A);T(I,A)}}),ve(E,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),ve(E,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseDown(A.changedTouches[0])}),ve(E,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseUp(A.changedTouches[0])}),ve(E,"handleDoubleClick",function(A){var T=E.props.onDoubleClick;if(_e(T)){var I=E.getMouseInfo(A);T(I,A)}}),ve(E,"handleContextMenu",function(A){var T=E.props.onContextMenu;if(_e(T)){var I=E.getMouseInfo(A);T(I,A)}}),ve(E,"triggerSyncEvent",function(A){E.props.syncId!==void 0&&Ab.emit(Pb,E.props.syncId,A,E.eventEmitterSymbol)}),ve(E,"applySyncEvent",function(A){var T=E.props,I=T.layout,O=T.syncMethod,C=E.state.updateId,R=A.dataStartIndex,k=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)E.setState(W({dataStartIndex:R,dataEndIndex:k},p({props:E.props,dataStartIndex:R,dataEndIndex:k,updateId:C},E.state)));else if(A.activeTooltipIndex!==void 0){var N=A.chartX,U=A.chartY,z=A.activeTooltipIndex,G=E.state,H=G.offset,V=G.tooltipTicks;if(!H)return;if(typeof O=="function")z=O(V,A);else if(O==="value"){z=-1;for(var q=0;q<V.length;q++)if(V[q].value===A.activeLabel){z=q;break}}var J=W(W({},H),{},{x:H.left,y:H.top}),se=Math.min(N,J.x+J.width),Z=Math.min(U,J.y+J.height),Y=V[z]&&V[z].value,ge=FE(E.state,E.props.data,z),Ie=V[z]?{x:I==="horizontal"?V[z].coordinate:se,y:I==="horizontal"?Z:V[z].coordinate}:P3;E.setState(W(W({},A),{},{activeLabel:Y,activeCoordinate:Ie,activePayload:ge,activeTooltipIndex:z}))}else E.setState(A)}),ve(E,"renderCursor",function(A){var T,I=E.state,O=I.isTooltipActive,C=I.activeCoordinate,R=I.activePayload,k=I.offset,N=I.activeTooltipIndex,U=I.tooltipAxisBandSize,z=E.getTooltipEventType(),G=(T=A.props.active)!==null&&T!==void 0?T:O,H=E.props.layout,V=A.key||"_recharts-cursor";return M.createElement(gIe,{key:V,activeCoordinate:C,activePayload:R,activeTooltipIndex:N,chartName:n,element:A,isActive:G,layout:H,offset:k,tooltipAxisBandSize:U,tooltipEventType:z})}),ve(E,"renderPolarAxis",function(A,T,I){var O=_r(A,"type.axisType"),C=_r(E.state,"".concat(O,"Map")),R=A.type.defaultProps,k=R!==void 0?W(W({},R),A.props):A.props,N=C&&C[k["".concat(O,"Id")]];return j.cloneElement(A,W(W({},N),{},{className:Ee(O,N.className),key:A.key||"".concat(T,"-").concat(I),ticks:vs(N,!0)}))}),ve(E,"renderPolarGrid",function(A){var T=A.props,I=T.radialLines,O=T.polarAngles,C=T.polarRadius,R=E.state,k=R.radiusAxisMap,N=R.angleAxisMap,U=Nl(k),z=Nl(N),G=z.cx,H=z.cy,V=z.innerRadius,q=z.outerRadius;return j.cloneElement(A,{polarAngles:Array.isArray(O)?O:vs(z,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(C)?C:vs(U,!0).map(function(J){return J.coordinate}),cx:G,cy:H,innerRadius:V,outerRadius:q,key:A.key||"polar-grid",radialLines:I})}),ve(E,"renderLegend",function(){var A=E.state.formattedGraphicalItems,T=E.props,I=T.children,O=T.width,C=T.height,R=E.props.margin||{},k=O-(R.left||0)-(R.right||0),N=iU({children:I,formattedGraphicalItems:A,legendWidth:k,legendContent:u});if(!N)return null;var U=N.item,z=B2(N,yIe);return j.cloneElement(U,W(W({},z),{},{chartWidth:O,chartHeight:C,margin:R,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),ve(E,"renderTooltip",function(){var A,T=E.props,I=T.children,O=T.accessibilityLayer,C=fr(I,Jr);if(!C)return null;var R=E.state,k=R.isTooltipActive,N=R.activeCoordinate,U=R.activePayload,z=R.activeLabel,G=R.offset,H=(A=C.props.active)!==null&&A!==void 0?A:k;return j.cloneElement(C,{viewBox:W(W({},G),{},{x:G.left,y:G.top}),active:H,label:z,payload:H?U:[],coordinate:N,accessibilityLayer:O})}),ve(E,"renderBrush",function(A){var T=E.props,I=T.margin,O=T.data,C=E.state,R=C.offset,k=C.dataStartIndex,N=C.dataEndIndex,U=C.updateId;return j.cloneElement(A,{key:A.key||"_recharts-brush",onChange:ym(E.handleBrushChange,A.props.onChange),data:O,x:ne(A.props.x)?A.props.x:R.left,y:ne(A.props.y)?A.props.y:R.top+R.height+R.brushBottom-(I.bottom||0),width:ne(A.props.width)?A.props.width:R.width,startIndex:k,endIndex:N,updateId:"brush-".concat(U)})}),ve(E,"renderReferenceElement",function(A,T,I){if(!A)return null;var O=E,C=O.clipPathId,R=E.state,k=R.xAxisMap,N=R.yAxisMap,U=R.offset,z=A.type.defaultProps||{},G=A.props,H=G.xAxisId,V=H===void 0?z.xAxisId:H,q=G.yAxisId,J=q===void 0?z.yAxisId:q;return j.cloneElement(A,{key:A.key||"".concat(T,"-").concat(I),xAxis:k[V],yAxis:N[J],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:C})}),ve(E,"renderActivePoints",function(A){var T=A.item,I=A.activePoint,O=A.basePoint,C=A.childIndex,R=A.isRange,k=[],N=T.props.key,U=T.item.type.defaultProps!==void 0?W(W({},T.item.type.defaultProps),T.item.props):T.item.props,z=U.activeDot,G=U.dataKey,H=W(W({index:C,dataKey:G,cx:I.x,cy:I.y,r:4,fill:xS(T.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},ye(z,!1)),Yg(z));return k.push(b.renderActiveDot(z,H,"".concat(N,"-activePoint-").concat(C))),O?k.push(b.renderActiveDot(z,W(W({},H),{},{cx:O.x,cy:O.y}),"".concat(N,"-basePoint-").concat(C))):R&&k.push(null),k}),ve(E,"renderGraphicChild",function(A,T,I){var O=E.filterFormatItem(A,T,I);if(!O)return null;var C=E.getTooltipEventType(),R=E.state,k=R.isTooltipActive,N=R.tooltipAxis,U=R.activeTooltipIndex,z=R.activeLabel,G=E.props.children,H=fr(G,Jr),V=O.props,q=V.points,J=V.isRange,se=V.baseLine,Z=O.item.type.defaultProps!==void 0?W(W({},O.item.type.defaultProps),O.item.props):O.item.props,Y=Z.activeDot,ge=Z.hide,Ie=Z.activeBar,Le=Z.activeShape,gt=!!(!ge&&k&&H&&(Y||Ie||Le)),yt={};C!=="axis"&&H&&H.props.trigger==="click"?yt={onClick:ym(E.handleItemMouseEnter,A.props.onClick)}:C!=="axis"&&(yt={onMouseLeave:ym(E.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:ym(E.handleItemMouseEnter,A.props.onMouseEnter)});var ie=j.cloneElement(A,W(W({},O.props),yt));function me(Gr){return typeof N.dataKey=="function"?N.dataKey(Gr.payload):null}if(gt)if(U>=0){var de,K;if(N.dataKey&&!N.allowDuplicatedCategory){var De=typeof N.dataKey=="function"?me:"payload.".concat(N.dataKey.toString());de=Hg(q,De,z),K=J&&se&&Hg(se,De,z)}else de=q==null?void 0:q[U],K=J&&se&&se[U];if(Le||Ie){var Se=A.props.activeIndex!==void 0?A.props.activeIndex:U;return[j.cloneElement(A,W(W(W({},O.props),yt),{},{activeIndex:Se})),null,null]}if(!we(de))return[ie].concat(fc(E.renderActivePoints({item:O,activePoint:de,basePoint:K,childIndex:U,isRange:J})))}else{var Qe,Xe=(Qe=E.getItemByXY(E.state.activeCoordinate))!==null&&Qe!==void 0?Qe:{graphicalItem:ie},Wt=Xe.graphicalItem,Kn=Wt.item,Tr=Kn===void 0?A:Kn,qr=Wt.childIndex,lr=W(W(W({},O.props),yt),{},{activeIndex:qr});return[j.cloneElement(Tr,lr),null,null]}return J?[ie,null,null]:[ie,null]}),ve(E,"renderCustomized",function(A,T,I){return j.cloneElement(A,W(W({key:"recharts-customized-".concat(I)},E.props),E.state))}),ve(E,"renderMap",{CartesianGrid:{handler:xm,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:xm},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:xm},YAxis:{handler:xm},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((x=_.id)!==null&&x!==void 0?x:jc("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=rB(E.triggeredAfterMouseMove,(P=_.throttleDelay)!==null&&P!==void 0?P:1e3/60),E.state={},E}return OIe(b,v),IIe(b,[{key:"componentDidMount",value:function(){var x,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,P=x.children,E=x.data,A=x.height,T=x.layout,I=fr(P,Jr);if(I){var O=I.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,R=FE(this.state,E,O,C),k=this.state.tooltipTicks[O].coordinate,N=(this.state.offset.top+A)/2,U=T==="horizontal",z=U?{x:k,y:N}:{y:k,x:N},G=this.state.formattedGraphicalItems.find(function(V){var q=V.item;return q.type.name==="Scatter"});G&&(z=W(W({},z),G.props.points[O].tooltipPosition),R=G.props.points[O].tooltipPayload);var H={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:C,activePayload:R,activeCoordinate:z};this.setState(H),this.renderCursor(I),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var E,A;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(x){gx([fr(x.children,Jr)],[fr(this.props.children,Jr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=fr(this.props.children,Jr);if(x&&typeof x.props.shared=="boolean"){var P=x.props.shared?"axis":"item";return s.indexOf(P)>=0?P:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var P=this.container,E=P.getBoundingClientRect(),A=fpe(E),T={chartX:Math.round(x.pageX-A.left),chartY:Math.round(x.pageY-A.top)},I=E.width/P.offsetWidth||1,O=this.inRange(T.chartX,T.chartY,I);if(!O)return null;var C=this.state,R=C.xAxisMap,k=C.yAxisMap,N=this.getTooltipEventType(),U=z2(this.state,this.props.data,this.props.layout,O);if(N!=="axis"&&R&&k){var z=Nl(R).scale,G=Nl(k).scale,H=z&&z.invert?z.invert(T.chartX):null,V=G&&G.invert?G.invert(T.chartY):null;return W(W({},T),{},{xValue:H,yValue:V},U)}return U?W(W({},T),U):null}},{key:"inRange",value:function(x,P){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,T=x/E,I=P/E;if(A==="horizontal"||A==="vertical"){var O=this.state.offset,C=T>=O.left&&T<=O.left+O.width&&I>=O.top&&I<=O.top+O.height;return C?{x:T,y:I}:null}var R=this.state,k=R.angleAxisMap,N=R.radiusAxisMap;if(k&&N){var U=Nl(k);return yN({x:T,y:I},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,P=this.getTooltipEventType(),E=fr(x,Jr),A={};E&&P==="axis"&&(E.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Yg(this.props,this.handleOuterEvent);return W(W({},T),A)}},{key:"addListener",value:function(){Ab.on(Pb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ab.removeListener(Pb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,P,E){for(var A=this.state.formattedGraphicalItems,T=0,I=A.length;T<I;T++){var O=A[T];if(O.item===x||O.props.key===x.key||P===eo(O.item.type)&&E===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,P=this.state.offset,E=P.left,A=P.top,T=P.height,I=P.width;return M.createElement("defs",null,M.createElement("clipPath",{id:x},M.createElement("rect",{x:E,y:A,height:T,width:I})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(P,E){var A=F2(E,2),T=A[0],I=A[1];return W(W({},P),{},ve({},T,I.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(P,E){var A=F2(E,2),T=A[0],I=A[1];return W(W({},P),{},ve({},T,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[x])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(x){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[x])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(x){var P=this.state,E=P.formattedGraphicalItems,A=P.activeItem;if(E&&E.length)for(var T=0,I=E.length;T<I;T++){var O=E[T],C=O.props,R=O.item,k=R.type.defaultProps!==void 0?W(W({},R.type.defaultProps),R.props):R.props,N=eo(R.type);if(N==="Bar"){var U=(C.data||[]).find(function(V){return Ybe(x,V)});if(U)return{graphicalItem:O,payload:U}}else if(N==="RadialBar"){var z=(C.data||[]).find(function(V){return yN(x,V)});if(z)return{graphicalItem:O,payload:z}}else if(L0(O,A)||V0(O,A)||Ch(O,A)){var G=$xe({graphicalItem:O,activeTooltipItem:A,itemData:k.data}),H=k.activeIndex===void 0?G:k.activeIndex;return{graphicalItem:W(W({},O),{},{childIndex:H}),payload:Ch(O,A)?k.data[G]:O.props.data[G]}}}return null}},{key:"render",value:function(){var x=this;if(!sC(this))return null;var P=this.props,E=P.children,A=P.className,T=P.width,I=P.height,O=P.style,C=P.compact,R=P.title,k=P.desc,N=B2(P,vIe),U=ye(N,!1);if(C)return M.createElement(I2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(vx,Xl({},U,{width:T,height:I,title:R,desc:k}),this.renderClipPath(),uC(E,this.renderMap)));if(this.props.accessibilityLayer){var z,G;U.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,U.role=(G=this.props.role)!==null&&G!==void 0?G:"application",U.onKeyDown=function(V){x.accessibilityManager.keyboardEvent(V)},U.onFocus=function(){x.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return M.createElement(I2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Xl({className:Ee("recharts-wrapper",A),style:W({position:"relative",cursor:"default",width:T,height:I},O)},H,{ref:function(q){x.container=q}}),M.createElement(vx,Xl({},U,{width:T,height:I,title:R,desc:k,style:jIe}),this.renderClipPath(),uC(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);ve(y,"displayName",n),ve(y,"defaultProps",W({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},c)),ve(y,"getDerivedStateFromProps",function(v,b){var _=v.dataKey,x=v.data,P=v.children,E=v.width,A=v.height,T=v.layout,I=v.stackOffset,O=v.margin,C=b.dataStartIndex,R=b.dataEndIndex;if(b.updateId===void 0){var k=W2(v);return W(W(W({},k),{},{updateId:0},p(W(W({props:v},k),{},{updateId:0}),b)),{},{prevDataKey:_,prevData:x,prevWidth:E,prevHeight:A,prevLayout:T,prevStackOffset:I,prevMargin:O,prevChildren:P})}if(_!==b.prevDataKey||x!==b.prevData||E!==b.prevWidth||A!==b.prevHeight||T!==b.prevLayout||I!==b.prevStackOffset||!cu(O,b.prevMargin)){var N=W2(v),U={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},z=W(W({},z2(b,x,T)),{},{updateId:b.updateId+1}),G=W(W(W({},N),U),z);return W(W(W({},G),p(W({props:v},G),b)),{},{prevDataKey:_,prevData:x,prevWidth:E,prevHeight:A,prevLayout:T,prevStackOffset:I,prevMargin:O,prevChildren:P})}if(!gx(P,b.prevChildren)){var H,V,q,J,se=fr(P,nc),Z=se&&(H=(V=se.props)===null||V===void 0?void 0:V.startIndex)!==null&&H!==void 0?H:C,Y=se&&(q=(J=se.props)===null||J===void 0?void 0:J.endIndex)!==null&&q!==void 0?q:R,ge=Z!==C||Y!==R,Ie=!we(x),Le=Ie&&!ge?b.updateId:b.updateId+1;return W(W({updateId:Le},p(W(W({props:v},b),{},{updateId:Le,dataStartIndex:Z,dataEndIndex:Y}),b)),{},{prevChildren:P,dataStartIndex:Z,dataEndIndex:Y})}return null}),ve(y,"renderActiveDot",function(v,b,_){var x;return j.isValidElement(v)?x=j.cloneElement(v,b):_e(v)?x=v(b):x=M.createElement(N0,b),M.createElement(Re,{className:"recharts-active-dot",key:_},x)});var g=j.forwardRef(function(b,_){return M.createElement(y,Xl({},b,{ref:_}))});return g.displayName=y.displayName,g},qIe=PS({chartName:"BarChart",GraphicalChild:pl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:_p},{axisType:"yAxis",AxisComp:G0}],formatAxisMap:WU}),GIe=PS({chartName:"PieChart",GraphicalChild:Po,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:$0},{axisType:"radiusAxis",AxisComp:j0}],formatAxisMap:l0e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),KIe=PS({chartName:"AreaChart",GraphicalChild:Va,axisComponents:[{axisType:"xAxis",AxisComp:_p},{axisType:"yAxis",AxisComp:G0}],formatAxisMap:WU});const HIe=()=>{const{stats:t,deals:e,goals:n}=kn(),r=ar(),[i,o]=j.useState("income"),a=e.slice(0,7).reverse().map((b,_)=>({name:`Deal ${_+1}`,income:b.frontGross+b.backGross})),s=new Date,l=e.filter(b=>{const _=new Date(b.deliveryDate);return _.getMonth()===s.getMonth()&&_.getFullYear()===s.getFullYear()}),u=l.length||1,d=Object.entries(LT).map(([b,_])=>{const x=l.filter(E=>E.products[b]).length,P=Math.round(x/u*100);return{key:b,label:_,percentage:P}}),c=i==="income",h=c?t.commissionMTD:t.unitsMTD,p=c?t.projectedIncome:t.projectedUnits,y=c?n.incomeGoal:n.newUnitsGoal+n.usedUnitsGoal,g=c?t.incomeVariance:t.unitVariance,v=g>=0?"text-emerald-400":"text-rose-400";return m.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-2",children:[m.jsx(To,{title:"Dashboard",rightElement:m.jsx("button",{onClick:()=>r("/deals"),className:"md:hidden p-2 bg-slate-800 rounded-full text-blue-400 hover:bg-slate-700",children:m.jsx(Kk,{size:20})})}),m.jsx("div",{className:"hidden md:flex gap-3",children:m.jsxs(Ut,{onClick:()=>r("/deals"),className:"!w-auto px-6 py-2 h-12",children:[m.jsx(Kk,{size:18})," Add New Deal"]})})]}),m.jsxs("div",{className:"md:w-64 p-1 bg-slate-900 rounded-xl border border-white/10 mb-4 shadow-inner",children:[m.jsx("button",{onClick:()=>o("income"),className:`w-1/2 py-2 rounded-lg text-xs font-bold uppercase tracking-wide transition-all ${c?"bg-slate-700 text-white shadow":"text-slate-500 hover:text-slate-300"}`,children:"Commission"}),m.jsx("button",{onClick:()=>o("units"),className:`w-1/2 py-2 rounded-lg text-xs font-bold uppercase tracking-wide transition-all ${c?"text-slate-500 hover:text-slate-300":"bg-slate-700 text-white shadow"}`,children:"Volume"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"md:col-span-2 relative overflow-hidden rounded-[2rem] bg-gradient-to-br from-blue-600 to-blue-900 p-8 text-center md:text-left shadow-2xl shadow-blue-900/50 border border-blue-400/20 flex flex-col md:flex-row items-center md:justify-between",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),m.jsxs("div",{className:"relative z-10 mb-6 md:mb-0",children:[m.jsx("div",{className:"text-blue-200 text-xs font-bold uppercase tracking-widest mb-2",children:c?"Total Commission MTD":"Total Units MTD"}),m.jsx("div",{className:"text-5xl font-black text-white mb-4 tracking-tight drop-shadow-lg",children:c?`$${h.toLocaleString()}`:h}),m.jsx("div",{className:"flex flex-col md:flex-row items-center gap-2 md:gap-4",children:m.jsxs("div",{className:"inline-flex items-center px-4 py-1.5 rounded-full bg-slate-900/40 border border-white/10 text-sm font-bold text-blue-100 backdrop-blur-md",children:["Forecast: ",c?`$${p.toLocaleString()}`:p]})})]}),m.jsxs("div",{className:"relative z-10 flex flex-col items-center md:items-end",children:[m.jsxs("div",{className:`flex flex-col items-center justify-center w-24 h-24 rounded-full border-4 backdrop-blur-sm ${g>=0?"bg-emerald-500/20 border-emerald-500 text-emerald-400":"bg-rose-500/20 border-rose-500 text-rose-400"}`,children:[g>=0?m.jsx(Fu,{size:32}):m.jsx(WZ,{size:32}),m.jsx("span",{className:"text-[10px] font-bold mt-1 uppercase",children:g>=0?"Ahead":"Behind"})]}),m.jsxs("div",{className:`mt-2 text-sm font-bold ${v}`,children:[g>=0?"+":"",c?`$${g.toLocaleString()}`:g]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 h-full",children:[m.jsx(sm,{label:"Goal",value:c?`$${y.toLocaleString()}`:y.toString(),subtext:"Monthly Target",accent:"blue"}),m.jsx(sm,{label:"Gross",value:`$${(t.totalGross/1e3).toFixed(1)}k`,subtext:"Front + Back",accent:"emerald"}),m.jsx(sm,{label:"Bonuses",value:`$${t.bonuses}`,accent:"amber"}),m.jsx(sm,{label:"Chargebacks",value:`$${t.chargebacks}`,accent:"rose"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3 px-1",children:[m.jsx(VZ,{size:16,className:"text-slate-400"}),m.jsx("h3",{className:"text-slate-300 font-medium text-sm",children:"Product Penetration (MTD)"})]}),m.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-6 px-6 md:mx-0 md:px-0 no-scrollbar",children:d.map(b=>m.jsxs("div",{className:"flex-none w-24 bg-slate-800/50 border border-white/5 rounded-2xl p-3 flex flex-col items-center justify-center hover:bg-slate-800 transition-colors",children:[m.jsxs("div",{className:`text-xl font-bold mb-1 ${b.percentage>=50?"text-emerald-400":"text-white"}`,children:[b.percentage,"%"]}),m.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:b.label})]},b.key))})]}),m.jsxs("div",{className:"h-full",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3 px-1",children:[m.jsx(IZ,{size:16,className:"text-slate-400"}),m.jsx("h3",{className:"text-slate-300 font-medium text-sm",children:"Recent Gross Trend"})]}),e.length>0?m.jsx(ut,{className:"h-40",children:m.jsx("div",{className:"h-full w-full",children:m.jsx(XI,{width:"100%",height:"100%",children:m.jsxs(KIe,{data:a,children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"colorGross",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),m.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),m.jsx(Jr,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#fff"}}),m.jsx(Va,{type:"monotone",dataKey:"income",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorGross)"})]})})})}):m.jsx("div",{className:"h-40 border border-dashed border-white/10 rounded-2xl flex items-center justify-center text-slate-500 text-sm",children:"No deals data to visualize"})]})]}),!e.length&&m.jsx("div",{className:"text-center py-10 opacity-50",children:m.jsx("p",{children:"No deals yet. Tap + to add one!"})})]})},YIe=({dealCount:t,projectedIncome:e,onUpgrade:n})=>{if(t<8)return null;const r=Ig-t;return t===8?m.jsx("div",{className:"mx-4 mb-4 p-4 bg-amber-500/10 border border-amber-500/30 rounded-2xl animate-slide-down",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"p-2 bg-amber-500/20 rounded-lg shrink-0",children:m.jsx(fp,{size:20,className:"text-amber-400"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-amber-400 font-bold text-sm mb-1",children:"You're almost at the Pro unlock point"}),m.jsxs("p",{className:"text-amber-200/80 text-xs",children:[m.jsxs("span",{className:"font-bold",children:[r," free deals remaining."]})," Keep crushing it!"]})]})]})}):t===9?m.jsx("div",{className:"mx-4 mb-4 p-4 bg-gradient-to-r from-orange-500/20 to-rose-500/20 border border-orange-500/40 rounded-2xl animate-slide-down shadow-lg",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"p-2 bg-orange-500/30 rounded-lg shrink-0",children:m.jsx(Fu,{size:20,className:"text-orange-400"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-orange-300 font-bold text-sm mb-1",children:"Next deal requires Pro"}),m.jsxs("p",{className:"text-orange-200/80 text-xs mb-3",children:["Your current projected income is"," ",m.jsxs("span",{className:"font-bold text-emerald-400",children:["$",e.toLocaleString()]}),". Don't lose your momentum!"]}),m.jsx("button",{onClick:n,className:"w-full bg-gradient-to-r from-indigo-600 to-blue-600 text-white font-bold py-2 px-4 rounded-lg text-xs hover:from-indigo-500 hover:to-blue-500 transition-all shadow-md",children:"Upgrade to Pro - $9.99/mo"})]})]})}):null};function si(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Js(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const k3=6048e5,QIe=864e5;let XIe={};function H0(){return XIe}function Lh(t,e){var s,l,u,d;const n=H0(),r=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=si(t),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Hy(t){return Lh(t,{weekStartsOn:1})}function C3(t){const e=si(t),n=e.getFullYear(),r=Js(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Hy(r),o=Js(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const a=Hy(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function G2(t){const e=si(t);return e.setHours(0,0,0,0),e}function K2(t){const e=si(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function JIe(t,e){const n=G2(t),r=G2(e),i=+n-K2(n),o=+r-K2(r);return Math.round((i-o)/QIe)}function ZIe(t){const e=C3(t),n=Js(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Hy(n)}function eSe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function tSe(t){if(!eSe(t)&&typeof t!="number")return!1;const e=si(t);return!isNaN(Number(e))}function nSe(t){const e=si(t),n=Js(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const rSe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iSe=(t,e,n)=>{let r;const i=rSe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function kb(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const oSe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aSe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sSe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lSe={date:kb({formats:oSe,defaultWidth:"full"}),time:kb({formats:aSe,defaultWidth:"full"}),dateTime:kb({formats:sSe,defaultWidth:"full"})},uSe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cSe=(t,e,n,r)=>uSe[t];function Ad(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):a;i=t.formattingValues[s]||t.formattingValues[a]}else{const a=t.defaultWidth,s=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[s]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const dSe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fSe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hSe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pSe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ySe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},vSe={ordinalNumber:ySe,era:Ad({values:dSe,defaultWidth:"wide"}),quarter:Ad({values:fSe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ad({values:hSe,defaultWidth:"wide"}),day:Ad({values:pSe,defaultWidth:"wide"}),dayPeriod:Ad({values:mSe,defaultWidth:"wide",formattingValues:gSe,defaultFormattingWidth:"wide"})};function Pd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?bSe(s,c=>c.test(a)):_Se(s,c=>c.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function _Se(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function bSe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function wSe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const s=e.slice(i.length);return{value:a,rest:s}}}const xSe=/^(\d+)(th|st|nd|rd)?/i,ESe=/\d+/i,TSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ISe={any:[/^b/i,/^(a|c)/i]},SSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ASe={any:[/1/i,/2/i,/3/i,/4/i]},PSe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kSe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},CSe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},RSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},NSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DSe={ordinalNumber:wSe({matchPattern:xSe,parsePattern:ESe,valueCallback:t=>parseInt(t,10)}),era:Pd({matchPatterns:TSe,defaultMatchWidth:"wide",parsePatterns:ISe,defaultParseWidth:"any"}),quarter:Pd({matchPatterns:SSe,defaultMatchWidth:"wide",parsePatterns:ASe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Pd({matchPatterns:PSe,defaultMatchWidth:"wide",parsePatterns:OSe,defaultParseWidth:"any"}),day:Pd({matchPatterns:kSe,defaultMatchWidth:"wide",parsePatterns:CSe,defaultParseWidth:"any"}),dayPeriod:Pd({matchPatterns:RSe,defaultMatchWidth:"any",parsePatterns:NSe,defaultParseWidth:"any"})},jSe={code:"en-US",formatDistance:iSe,formatLong:lSe,formatRelative:cSe,localize:vSe,match:DSe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function MSe(t){const e=si(t);return JIe(e,nSe(e))+1}function $Se(t){const e=si(t),n=+Hy(e)-+ZIe(e);return Math.round(n/k3)+1}function R3(t,e){var d,c,h,p;const n=si(t),r=n.getFullYear(),i=H0(),o=(e==null?void 0:e.firstWeekContainsDate)??((c=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:c.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=Js(t,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const s=Lh(a,e),l=Js(t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const u=Lh(l,e);return n.getTime()>=s.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function LSe(t,e){var s,l,u,d;const n=H0(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=R3(t,e),o=Js(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Lh(o,e)}function VSe(t,e){const n=si(t),r=+Lh(n,e)-+LSe(n,e);return Math.round(r/k3)+1}function Fe(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Lo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Fe(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Fe(n+1,2)},d(t,e){return Fe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Fe(t.getHours()%12||12,e.length)},H(t,e){return Fe(t.getHours(),e.length)},m(t,e){return Fe(t.getMinutes(),e.length)},s(t,e){return Fe(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Fe(i,e.length)}},Al={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},H2={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Lo.y(t,e)},Y:function(t,e,n,r){const i=R3(t,r),o=i>0?i:1-i;if(e==="YY"){const a=o%100;return Fe(a,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Fe(o,e.length)},R:function(t,e){const n=C3(t);return Fe(n,e.length)},u:function(t,e){const n=t.getFullYear();return Fe(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Fe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Fe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Lo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Fe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=VSe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Fe(i,e.length)},I:function(t,e,n){const r=$Se(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Fe(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Lo.d(t,e)},D:function(t,e,n){const r=MSe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Fe(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Fe(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Fe(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Fe(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Al.noon:r===0?i=Al.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Al.evening:r>=12?i=Al.afternoon:r>=4?i=Al.morning:i=Al.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Lo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Lo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Fe(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Fe(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Lo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Lo.s(t,e)},S:function(t,e){return Lo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Q2(r);case"XXXX":case"XX":return ts(r);case"XXXXX":case"XXX":default:return ts(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Q2(r);case"xxxx":case"xx":return ts(r);case"xxxxx":case"xxx":default:return ts(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Y2(r,":");case"OOOO":default:return"GMT"+ts(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Y2(r,":");case"zzzz":default:return"GMT"+ts(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Fe(r,e.length)},T:function(t,e,n){const r=t.getTime();return Fe(r,e.length)}};function Y2(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Fe(o,2)}function Q2(t,e){return t%60===0?(t>0?"-":"+")+Fe(Math.abs(t)/60,2):ts(t,e)}function ts(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Fe(Math.trunc(r/60),2),o=Fe(r%60,2);return n+i+e+o}const X2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},N3=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},FSe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return X2(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",X2(r,e)).replace("{{time}}",N3(i,e))},BSe={p:N3,P:FSe},USe=/^D+$/,zSe=/^Y+$/,WSe=["D","DD","YY","YYYY"];function qSe(t){return USe.test(t)}function GSe(t){return zSe.test(t)}function KSe(t,e,n){const r=HSe(t,e,n);if(console.warn(r),WSe.includes(t))throw new RangeError(r)}function HSe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const YSe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QSe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,XSe=/^'([^]*?)'?$/,JSe=/''/g,ZSe=/[a-zA-Z]/;function D3(t,e,n){var d,c,h,p;const r=H0(),i=r.locale??jSe,o=r.firstWeekContainsDate??((c=(d=r.locale)==null?void 0:d.options)==null?void 0:c.firstWeekContainsDate)??1,a=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,s=si(t);if(!tSe(s))throw new RangeError("Invalid time value");let l=e.match(QSe).map(y=>{const g=y[0];if(g==="p"||g==="P"){const v=BSe[g];return v(y,i.formatLong)}return y}).join("").match(YSe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const g=y[0];if(g==="'")return{isToken:!1,value:eAe(y)};if(H2[g])return{isToken:!0,value:y};if(g.match(ZSe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const u={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const g=y.value;(GSe(g)||qSe(g))&&KSe(g,e,String(t));const v=H2[g[0]];return v(s,g,i.localize,u)}).join("")}function eAe(t){const e=t.match(XSe);return e?e[1].replace(JSe,"'"):t}const Em=()=>({customerName:"",type:"new",year:new Date().getFullYear().toString(),make:"",model:"",frontGross:"",backGross:"",financeGross:"",pack:"",flat:"",spiffs:"",products:{vsc:!1,gap:!1,maintenance:!1,accessories:!1,tireAndWheel:!1,appearancePackage:!1,keyReplacement:!1},chargeback:"",deliveryDate:D3(new Date,"yyyy-MM-dd"),note:"",overrideFront:"",overrideBack:"",overrideReserve:""}),J2=()=>{const{deals:t,addDeal:e,updateDeal:n,deleteDeal:r,payPlan:i,newDealTrigger:o,isPro:a,stats:s,togglePro:l}=kn(),[u,d]=j.useState(!1),[c,h]=j.useState(null),[p,y]=j.useState(Em()),[g,v]=j.useState("all"),[b,_]=j.useState(null),[x,P]=j.useState(!1),[E,A]=j.useState(0),T=()=>{h(null),_(null),localStorage.removeItem("ccp_deal_draft");const N={...Em(),pack:(i.pack??0).toString(),flat:(i.flatRate??0).toString(),spiffs:(i.spiffsRate??0).toString()};y(N),A(Date.now()),d(!0)};j.useEffect(()=>{o>0&&T()},[o]);const I=async k=>{var U;if(k.preventDefault(),_(null),!((U=p.customerName)!=null&&U.trim())){_("Customer Name is required");return}P(!0);const N={...p,frontGross:parseFloat(p.frontGross)||0,backGross:parseFloat(p.backGross)||0,financeGross:parseFloat(p.financeGross)||0,pack:p.pack===""?i.pack??0:parseFloat(p.pack),flat:p.flat===""?i.flatRate??0:parseFloat(p.flat),spiffs:p.spiffs===""?i.spiffsRate??0:parseFloat(p.spiffs),chargeback:parseFloat(p.chargeback)||0,overrideFront:parseFloat(p.overrideFront)||0,overrideBack:parseFloat(p.overrideBack)||0,overrideReserve:parseFloat(p.overrideReserve)||0};try{if(c&&p.id)await n(N);else{if(!a&&t.length>=Ig){_(`Free trial limited to ${Ig} deals. Upgrade to Pro to continue.`),P(!1),l();return}const{id:z,...G}=N,H=JSON.parse(JSON.stringify(G));await e(H),v("all")}localStorage.removeItem("ccp_deal_draft"),h(null),d(!1),y(Em())}catch{_("Failed to save deal.")}finally{P(!1)}},O=k=>{const N=Em().products;y({...k,frontGross:k.frontGross.toString(),backGross:k.backGross.toString(),financeGross:(k.financeGross||0).toString(),pack:(k.pack!==void 0?k.pack:i.pack).toString(),flat:k.flat.toString(),spiffs:k.spiffs.toString(),chargeback:k.chargeback.toString(),products:{...N,...k.products},overrideFront:(k.overrideFront||0)>0?(k.overrideFront||0).toString():"",overrideBack:(k.overrideBack||0)>0?(k.overrideBack||0).toString():"",overrideReserve:(k.overrideReserve||0)>0?(k.overrideReserve||0).toString():""}),h(k.id),A(Date.now()),_(null),d(!0)},C=async k=>{window.confirm("Delete this deal?")&&(await r(k),h(null),d(!1))},R=t.filter(k=>g==="all"||k.type===g);return m.jsxs("div",{className:"p-6 min-h-screen relative",children:[m.jsx(To,{title:"Deals",rightElement:m.jsx("div",{className:"flex gap-2",children:m.jsx("button",{onClick:()=>v(g==="all"?"new":g==="new"?"used":"all"),className:"p-2 bg-slate-800 rounded-full text-slate-400",children:m.jsx(jZ,{size:20,className:g!=="all"?"text-blue-400":""})})})}),!a&&m.jsx(YIe,{dealCount:t.length,projectedIncome:s.projectedIncome,onUpgrade:l}),m.jsx("div",{className:"space-y-4 pb-36",children:R.map(k=>{const N=$F(k,i),U=(k.overrideFront||0)>0||(k.overrideBack||0)>0||(k.overrideReserve||0)>0;return m.jsxs(ut,{className:"relative group overflow-hidden active:scale-[0.99] transition-transform",onClick:()=>O(k),children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-xl ${k.type==="new"?"bg-blue-500/20 text-blue-400":"bg-amber-500/20 text-amber-400"}`,children:m.jsx(OZ,{size:20})}),m.jsxs("div",{children:[m.jsxs("h3",{className:"font-bold text-white text-lg",children:[k.year," ",k.make," ",k.model]}),m.jsx("p",{className:"text-slate-400 text-sm",children:k.customerName})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:`font-bold text-xl ${U?"text-amber-400":"text-white"}`,children:["$",N.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),m.jsxs("div",{className:"flex items-center justify-end gap-1",children:[U&&m.jsx("span",{className:"text-[8px] bg-amber-900/50 text-amber-400 px-1 rounded uppercase font-bold",children:"Manual"}),m.jsx("div",{className:"text-[10px] text-emerald-400 font-bold uppercase tracking-wider",children:"Comm"})]})]})]}),m.jsxs("div",{className:"mt-2 text-[10px] text-slate-500 flex gap-3",children:[m.jsxs("span",{children:["Front: $",k.frontGross]}),m.jsxs("span",{children:["Back: $",k.backGross]}),m.jsxs("span",{children:["Rsrv: $",k.financeGross||0]})]})]},k.id)})}),u&&m.jsx("div",{className:"fixed inset-0 z-[1100] flex items-end md:items-center justify-center bg-black/90 backdrop-blur-sm p-0 md:p-4 animate-fade-in",children:m.jsxs("div",{className:"bg-slate-900 w-full max-w-md h-[90vh] md:h-auto md:max-h-[85vh] rounded-t-3xl md:rounded-3xl border border-white/10 flex flex-col shadow-2xl animate-slide-up relative",children:[m.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center shrink-0",children:[m.jsx("h2",{className:"text-lg font-bold text-white",children:c?"Edit Deal":"New Deal"}),m.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-white/10 rounded-full",children:m.jsx(qZ,{className:"text-slate-400",size:20})})]}),b&&m.jsxs("div",{className:"mx-4 mt-4 p-3 bg-rose-500/20 border border-rose-500/50 rounded-xl flex items-center gap-2 text-rose-300 text-sm",children:[m.jsx(fp,{size:16}),b]}),m.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-5 custom-scrollbar",children:[m.jsx(He,{label:"Customer Name",value:p.customerName,onChange:k=>y({...p,customerName:k.target.value}),placeholder:"e.g. John Doe"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(He,{label:"Year",type:"number",value:p.year,onChange:k=>y({...p,year:k.target.value})}),m.jsx(UF,{label:"Type",value:p.type,onChange:k=>y({...p,type:k.target.value}),options:[{value:"new",label:"New"},{value:"used",label:"Used"}]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(He,{label:"Make",value:p.make,onChange:k=>y({...p,make:k.target.value})}),m.jsx(He,{label:"Model",value:p.model,onChange:k=>y({...p,model:k.target.value})})]}),m.jsx("div",{className:"h-px bg-white/10 my-2"}),m.jsx("h3",{className:"text-sm font-bold text-blue-400 uppercase tracking-wider",children:"Deal Gross"}),m.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[m.jsx(He,{label:"Front ($)",type:"number",value:p.frontGross,onChange:k=>y({...p,frontGross:k.target.value}),placeholder:"0"}),m.jsx(He,{label:"Back ($)",type:"number",value:p.backGross,onChange:k=>y({...p,backGross:k.target.value}),placeholder:"0"}),m.jsx(He,{label:"Reserve ($)",type:"number",value:p.financeGross,onChange:k=>y({...p,financeGross:k.target.value}),placeholder:"0"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[m.jsx(He,{label:"Pack ($)",type:"number",value:p.pack,onChange:k=>y({...p,pack:k.target.value})}),m.jsx(He,{label:"Flat ($)",type:"number",value:p.flat,onChange:k=>y({...p,flat:k.target.value})})]}),m.jsx("div",{className:"h-px bg-white/10 my-2"}),m.jsx("h3",{className:"text-sm font-bold text-amber-400 uppercase tracking-wider",children:"Commission Overrides"}),m.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Enter a value only if you need to override the calculated commission for that category."}),m.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[m.jsx(He,{label:"Base ($)",type:"number",value:p.overrideFront,onChange:k=>y({...p,overrideFront:k.target.value}),placeholder:"Calc"}),m.jsx(He,{label:"Backend ($)",type:"number",value:p.overrideBack,onChange:k=>y({...p,overrideBack:k.target.value}),placeholder:"Calc"}),m.jsx(He,{label:"Reserve ($)",type:"number",value:p.overrideReserve,onChange:k=>y({...p,overrideReserve:k.target.value}),placeholder:"Calc"})]}),m.jsx("div",{className:"h-px bg-white/10 my-2"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(He,{label:"Spiffs ($)",type:"number",value:p.spiffs,onChange:k=>y({...p,spiffs:k.target.value})}),m.jsx(He,{label:"Chargeback ($)",type:"number",value:p.chargeback,onChange:k=>y({...p,chargeback:k.target.value})})]}),m.jsx("div",{className:"h-px bg-white/10 my-2"}),m.jsx("h3",{className:"text-sm font-bold text-emerald-400 uppercase tracking-wider",children:"Products"}),m.jsx("div",{className:"grid grid-cols-1 gap-1",children:Object.keys(p.products||{}).map(k=>m.jsx(Xm,{label:k.replace(/([A-Z])/g," $1").trim(),checked:p.products[k],onChange:()=>y({...p,products:{...p.products,[k]:!p.products[k]}})},k))}),m.jsx("div",{className:"h-px bg-white/10 my-2"}),m.jsx(He,{label:"Delivery Date",type:"date",value:p.deliveryDate?D3(new Date(p.deliveryDate),"yyyy-MM-dd"):"",onChange:k=>y({...p,deliveryDate:k.target.value})})]}),m.jsxs("div",{className:"p-4 border-t border-white/10 bg-slate-900 rounded-b-3xl space-y-3 shrink-0",children:[m.jsx(Ut,{onClick:I,disabled:x,children:x?"Saving...":"Save Deal"}),c&&m.jsx(Ut,{variant:"danger",onClick:()=>C(c),children:"Delete Deal"})]})]},E)})]})},tAe=()=>{const{stats:t,goals:e}=kn(),n=Math.min(100,Math.round(t.commissionMTD/e.incomeGoal*100)),r=e.incomeGoal-t.commissionMTD,i=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),o=i-new Date().getDate(),a=[{name:"Completed",value:t.commissionMTD},{name:"Remaining",value:Math.max(0,r)}],s=["#10b981","#334155"];return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsx(To,{title:"Pace",subtitle:"Track your monthly targets"}),m.jsx("div",{className:"flex justify-center my-8",children:m.jsxs("div",{className:"relative w-64 h-64",children:[m.jsx(XI,{width:"100%",height:"100%",children:m.jsx(GIe,{children:m.jsx(Po,{data:a,cx:"50%",cy:"50%",innerRadius:80,outerRadius:100,startAngle:90,endAngle:-270,paddingAngle:5,dataKey:"value",stroke:"none",children:a.map((l,u)=>m.jsx(pp,{fill:s[u%s.length],cornerRadius:10},`cell-${u}`))})})}),m.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[m.jsxs("span",{className:"text-4xl font-bold text-white",children:[n,"%"]}),m.jsx("span",{className:"text-slate-400 text-xs uppercase tracking-wider mt-1",children:"to Goal"})]})]})}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs(ut,{className:"bg-gradient-to-br from-emerald-900/40 to-slate-900/40 border-emerald-500/20",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2 text-emerald-400",children:[m.jsx(Fu,{size:18}),m.jsx("span",{className:"text-xs font-bold uppercase",children:"Projected"})]}),m.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",t.projectedIncome.toLocaleString()]}),m.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Estimated finish"})]}),m.jsxs(ut,{className:"bg-gradient-to-br from-rose-900/40 to-slate-900/40 border-rose-500/20",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2 text-rose-400",children:[m.jsx(EZ,{size:18}),m.jsx("span",{className:"text-xs font-bold uppercase",children:"Gap"})]}),m.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",r>0?r.toLocaleString():"0"]}),m.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Needed to hit goal"})]})]}),m.jsx(ut,{children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"bg-blue-500/20 p-3 rounded-full text-blue-400",children:m.jsx(PZ,{size:24})}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex justify-between mb-1",children:[m.jsx("span",{className:"text-sm font-medium",children:"Month Progress"}),m.jsxs("span",{className:"text-sm text-slate-400",children:[o," days left"]})]}),m.jsx("div",{className:"w-full bg-slate-700 h-2 rounded-full overflow-hidden",children:m.jsx("div",{className:"bg-blue-500 h-full rounded-full",style:{width:`${(i-o)/i*100}%`}})})]})]})})]})},nAe=()=>{const{deals:t,stats:e}=kn(),n=(h,p)=>{const y=new Date(h);return y.setMonth(y.getMonth()-p),y},r=h=>new Date(h.getFullYear(),h.getMonth(),1),i=h=>new Date(h.getFullYear(),h.getMonth()+1,0),o=(h,p)=>h>=p.start&&h<=p.end,a=h=>h.toLocaleString("default",{month:"short"}),s=new Date,l=[];for(let h=5;h>=0;h--){const p=n(s,h),y=r(p),g=i(p),v=a(p),_=t.filter(x=>{const P=new Date(x.deliveryDate);return o(P,{start:y,end:g})}).reduce((x,P)=>x+(P.chargeback||0),0);l.push({name:v,amount:_})}const u=t.filter(h=>{const p=new Date(h.deliveryDate);return p.getMonth()===s.getMonth()&&p.getFullYear()===s.getFullYear()}),d=u.length||1,c=Object.entries(LT).map(([h,p])=>{const y=u.filter(g=>g.products[h]).length;return{name:p,percent:Math.round(y/d*100)}});return m.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[m.jsx(To,{title:"Monitor",subtitle:"Chargebacks & Trends"}),m.jsxs(ut,{className:"bg-slate-900/50 border-white/5 shadow-2xl",children:[m.jsxs("div",{className:"flex justify-between items-end mb-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-400 font-bold text-[10px] uppercase tracking-widest",children:"Rolling Chargebacks"}),m.jsxs("div",{className:"text-3xl font-bold text-white mt-1",children:["$",e.chargebacks.toLocaleString()]})]}),m.jsx("div",{className:"px-2 py-1 rounded bg-rose-500/20 text-rose-400 text-[10px] font-bold uppercase border border-rose-500/30",children:"Threshold"})]}),m.jsx("div",{className:"h-48 w-full",children:m.jsx(XI,{width:"100%",height:"100%",children:m.jsxs(qIe,{data:l,children:[m.jsx(_p,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:10,fontWeight:600},dy:10}),m.jsx(Jr,{cursor:{fill:"#fff",opacity:.05},contentStyle:{backgroundColor:"#0f172a",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},formatter:h=>[`$${h}`,"Chargeback"]}),m.jsx(pl,{dataKey:"amount",radius:[4,4,0,0],barSize:24,children:l.map((h,p)=>m.jsx(pp,{fill:h.amount>0?"#ef4444":"#334155"},`cell-${p}`))})]})})}),m.jsx("div",{className:"mt-4 pt-4 border-t border-white/5 text-center",children:m.jsxs("p",{className:"text-xs text-slate-500",children:["You have recovered ",m.jsx("span",{className:"text-emerald-400 font-bold",children:"$0"})," of chargebacks this month."]})})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-400 font-bold text-xs uppercase tracking-widest mb-3 ml-1",children:"Category Breakdown (MTD)"}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:c.slice(0,4).map(h=>m.jsxs("div",{className:"bg-slate-800/40 rounded-2xl p-4 border border-white/5 flex justify-between items-center",children:[m.jsx("span",{className:"text-slate-300 text-xs font-bold",children:h.name}),m.jsxs("span",{className:`text-sm font-bold ${h.percent>50?"text-blue-400":"text-slate-500"}`,children:[h.percent,"%"]})]},h.name))})]}),m.jsxs("div",{className:"space-y-3 pt-2",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"text-slate-400 font-bold text-xs uppercase tracking-widest ml-1",children:"Recent Deductions"}),m.jsx("button",{className:"text-blue-400 text-xs font-bold",children:"View All"})]}),t.filter(h=>h.chargeback>0).slice(0,3).map(h=>m.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-800/30 rounded-2xl border border-white/5",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-500/10 flex items-center justify-center border border-rose-500/20",children:m.jsx("span",{className:"text-rose-500 font-bold text-xs",children:"CB"})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-white font-bold text-sm",children:h.customerName}),m.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold",children:new Date(h.deliveryDate).toLocaleDateString()})]})]}),m.jsxs("div",{className:"text-rose-500 font-black",children:["-$",h.chargeback]})]},h.id)),t.filter(h=>h.chargeback>0).length===0&&m.jsx("div",{className:"p-6 text-center border border-dashed border-slate-700 rounded-2xl text-slate-500 text-xs",children:"No recent chargebacks found. Great work!"})]})]})},rAe=()=>{const{isPro:t,user:e,logout:n}=kn(),r=ar(),i=[{icon:VF,label:"Pay Plan Config",path:"/payplan",color:"text-blue-400"},{icon:TI,label:"Monthly Goals",path:"/goals",color:"text-emerald-400"},{icon:LF,label:"Achievements",path:"/achievements",color:"text-amber-400"},{icon:MZ,label:"Deal History",path:"/history",color:"text-purple-400"},{icon:RZ,label:"Settings",path:"/settings",color:"text-slate-400"}],o=()=>{window.open(xM,"_blank")};return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsx(To,{title:"Profile"}),m.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[m.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full flex items-center justify-center border-2 border-white/10",children:m.jsx(nh,{size:32,className:"text-slate-400"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-white",children:e!=null&&e.firstName?`${e.firstName} ${e.lastName||""}`:(e==null?void 0:e.email.split("@")[0])||"Sales Pro"}),m.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-xs font-bold uppercase tracking-wide mt-1 ${t?"bg-amber-500/20 text-amber-400":"bg-slate-700 text-slate-400"}`,children:[t&&m.jsx(xI,{size:10}),t?"PRO MEMBER":"FREE PLAN"]})]})]}),t?m.jsxs("div",{onClick:o,className:"bg-slate-800/50 border border-white/5 rounded-2xl p-4 flex justify-between items-center cursor-pointer hover:bg-slate-800 transition-colors",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-white font-bold text-sm",children:"Pro Membership Active"}),m.jsx("p",{className:"text-slate-400 text-xs",children:"Tap to manage billing"})]}),m.jsx(Ut,{className:"!w-auto px-4 py-2 h-8 text-xs !bg-slate-700",children:"Manage"})]}):m.jsxs("div",{onClick:o,className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl p-5 relative overflow-hidden cursor-pointer active:scale-95 transition-transform group shadow-lg",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsx("h3",{className:"font-bold text-white text-lg",children:"Upgrade to PRO"}),m.jsx("p",{className:"text-indigo-200 text-xs mt-1 pr-10",children:"Unlock unlimited deals, history, and advanced analytics for $7.99/mo."})]}),m.jsx(CZ,{className:"absolute -right-4 -bottom-4 text-white/10 w-24 h-24 group-hover:rotate-12 transition-transform"})]}),m.jsx("div",{className:"space-y-3",children:i.map((a,s)=>m.jsxs(ut,{onClick:()=>r(a.path),className:"flex items-center justify-between p-4 cursor-pointer hover:bg-white/10 active:scale-95 transition-all",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:`p-2 rounded-lg bg-slate-800 ${a.color}`,children:m.jsx(a.icon,{size:20})}),m.jsx("span",{className:"font-medium text-slate-200",children:a.label})]}),m.jsx(kZ,{size:16,className:"text-slate-500"})]},s))}),m.jsx("div",{className:"pt-8 pb-20",children:m.jsxs(Ut,{variant:"outline",onClick:n,className:"text-rose-400 border-rose-500/30 hover:bg-rose-500/10 group",children:[m.jsx(FF,{size:18,className:"group-hover:translate-x-1 transition-transform"}),"Log Out"]})})]})},iAe=()=>{const{payPlan:t,updatePayPlan:e}=kn(),[n,r]=j.useState(t),i=ar(),o=()=>{e(n),i(-1)};return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsx(To,{title:"Pay Plan",subtitle:"Configure Commission Structure"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs(ut,{children:[m.jsx("h3",{className:"text-sm font-bold text-blue-400 uppercase mb-4",children:"Base Commission"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(He,{label:"Front %",type:"number",value:n.frontCommissionPercent,onChange:a=>r({...n,frontCommissionPercent:Number(a.target.value)})}),m.jsx(He,{label:"Back %",type:"number",value:n.backCommissionPercent,onChange:a=>r({...n,backCommissionPercent:Number(a.target.value)})})]}),m.jsx(He,{label:"Pack Amount ($)",type:"number",value:n.pack,onChange:a=>r({...n,pack:Number(a.target.value)})})]}),m.jsxs(ut,{children:[m.jsx("h3",{className:"text-sm font-bold text-purple-400 uppercase mb-4",children:"Finance Reserve Pay"}),m.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[m.jsx(UF,{label:"Payment Method",value:n.financeReserve.mode,onChange:a=>r({...n,financeReserve:{...n.financeReserve,mode:a.target.value}}),options:[{value:"flat",label:"Flat Amount ($)"},{value:"percentage",label:"Percentage of Reserve (%)"}]}),m.jsx(He,{label:n.financeReserve.mode==="flat"?"Flat Amount ($)":"Percentage of Reserve (%)",type:"number",value:n.financeReserve.value,onChange:a=>r({...n,financeReserve:{...n.financeReserve,value:Number(a.target.value)}})})]})]}),m.jsxs(ut,{children:[m.jsx("h3",{className:"text-sm font-bold text-emerald-400 uppercase mb-4",children:"Extras Defaults"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(He,{label:"Default Flat ($)",type:"number",value:n.flatRate,onChange:a=>r({...n,flatRate:Number(a.target.value)})}),m.jsx(He,{label:"Default Bonus ($)",type:"number",value:n.spiffsRate,onChange:a=>r({...n,spiffsRate:Number(a.target.value)})})]})]}),m.jsx(Ut,{onClick:o,children:"Save Pay Plan"})]})]})},oAe={Trophy:BF,Zap:GZ,Target:TI,Banknote:SZ,Package:LZ},aAe=()=>{const{achievements:t}=kn();return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsx(To,{title:"Achievements",subtitle:"Badges & Milestones"}),m.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.map(e=>{const n=oAe[e.icon]||BF,r=e.unlocked,i=Math.min(100,e.progress/e.target*100);return m.jsx(ut,{className:`relative overflow-hidden ${r?"border-amber-500/40 bg-amber-900/10":"opacity-70 grayscale"}`,children:m.jsxs("div",{className:"flex flex-col items-center text-center p-2",children:[m.jsx("div",{className:`p-3 rounded-full mb-3 ${r?"bg-amber-500 text-slate-900":"bg-slate-700 text-slate-400"}`,children:r?m.jsx(n,{size:24}):m.jsx($Z,{size:24})}),m.jsx("h3",{className:"font-bold text-sm mb-1",children:e.title}),m.jsx("p",{className:"text-[10px] text-slate-400 leading-tight",children:e.description}),!r&&m.jsx("div",{className:"w-full h-1.5 bg-slate-700 rounded-full mt-3 overflow-hidden",children:m.jsx("div",{className:"h-full bg-amber-500/50",style:{width:`${i}%`}})})]})},e.id)})})]})},sAe=()=>{const{login:t}=kn(),e=ar(),[n,r]=j.useState(""),[i,o]=j.useState(""),[a,s]=j.useState(!1),[l,u]=j.useState(null),d=async c=>{if(c.preventDefault(),!(!n||!i)){s(!0),u(null);try{await t(n,i)}catch(h){console.error(h),h.code==="auth/invalid-credential"||h.code==="auth/user-not-found"||h.code==="auth/wrong-password"?u("Invalid email or password."):h.code==="auth/too-many-requests"?u("Too many failed attempts. Please try again later."):u("Failed to sign in. Please check your connection.")}finally{s(!1)}}};return m.jsxs("div",{className:"min-h-screen flex items-center justify-center p-6 bg-slate-900 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-blue-600/10 rounded-full blur-[120px]"}),m.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-purple-600/10 rounded-full blur-[120px]"}),m.jsxs("div",{className:"w-full max-w-md z-10 flex flex-col items-center",children:[m.jsx("div",{className:"mb-10 animate-fade-in",children:m.jsx(Ci,{className:"w-40 h-40"})}),m.jsxs(ut,{className:"w-full bg-slate-900/60 backdrop-blur-2xl border-white/10 p-8 shadow-2xl animate-slide-up",children:[m.jsxs("div",{className:"mb-6 text-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"Welcome Back"}),m.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Track your pace, crush your goals."})]}),m.jsxs("form",{onSubmit:d,className:"space-y-5",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-2 uppercase ml-1",children:"Email Address"}),m.jsxs("div",{className:"relative group",children:[m.jsx(EI,{className:"absolute left-4 top-4 text-slate-500 group-focus-within:text-blue-400 transition-colors",size:20}),m.jsx("input",{type:"email",value:n,onChange:c=>r(c.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-2xl pl-12 pr-4 py-4 text-white placeholder-slate-600 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all",placeholder:"you@dealership.com"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-2 uppercase ml-1",children:"Password"}),m.jsxs("div",{className:"relative group",children:[m.jsx(th,{className:"absolute left-4 top-4 text-slate-500 group-focus-within:text-blue-400 transition-colors",size:20}),m.jsx("input",{type:"password",value:i,onChange:c=>o(c.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-2xl pl-12 pr-4 py-4 text-white placeholder-slate-600 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all",placeholder:""})]}),m.jsx("div",{className:"flex justify-end mt-2",children:m.jsx("button",{type:"button",onClick:()=>e("/forgot-password"),className:"text-xs text-blue-400 hover:text-blue-300 font-bold transition-colors",children:"Forgot Password?"})})]}),l&&m.jsxs("div",{className:"flex items-center gap-2 p-3 bg-rose-500/20 border border-rose-500/30 rounded-xl text-rose-300 text-xs font-bold animate-pulse",children:[m.jsx(fp,{size:14}),l]}),m.jsx(Ut,{type:"submit",className:"mt-8 shadow-blue-900/50",disabled:a,children:a?"Signing in...":"Sign In"})]}),m.jsx("div",{className:"mt-8 text-center border-t border-white/5 pt-6",children:m.jsxs("p",{className:"text-slate-400 text-sm",children:["Don't have an account?"," ",m.jsx("button",{onClick:()=>e("/signup"),className:"text-blue-400 hover:text-blue-300 font-bold transition-colors",children:"Create Account"})]})})]}),m.jsx("p",{className:"mt-8 text-slate-600 text-xs",children:" 2024 CarCashPro. All rights reserved."})]})]})},lAe=()=>{const{signup:t}=kn(),e=ar(),[n,r]=j.useState(""),[i,o]=j.useState(""),[a,s]=j.useState(""),[l,u]=j.useState(""),[d,c]=j.useState(""),[h,p]=j.useState(""),[y,g]=j.useState(!1),[v,b]=j.useState(null),_=async x=>{if(x.preventDefault(),!n.trim()){b("First Name is required.");return}if(!l||!d||d!==h){b("Please check email and password fields.");return}g(!0),b(null);try{await t(l,d,n,i,a)}catch(P){console.error(P),P.code==="auth/email-already-in-use"?b("That email is already in use."):P.code==="auth/weak-password"?b("Password should be at least 6 characters."):P.code==="auth/invalid-email"?b("Please enter a valid email address."):b("Failed to create account. Please try again.")}finally{g(!1)}};return m.jsxs("div",{className:"min-h-screen flex items-center justify-center p-6 bg-slate-900 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[50%] h-[50%] bg-emerald-600/10 rounded-full blur-[120px]"}),m.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[50%] h-[50%] bg-blue-600/10 rounded-full blur-[120px]"}),m.jsxs("div",{className:"w-full max-w-md z-10 flex flex-col items-center",children:[m.jsx("div",{className:"mb-6 animate-fade-in",children:m.jsx(Ci,{className:"w-24 h-24"})}),m.jsxs(ut,{className:"w-full bg-slate-900/60 backdrop-blur-2xl border-white/10 p-8 shadow-2xl animate-slide-up",children:[m.jsxs("div",{className:"mb-6 text-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"Join the Club"}),m.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Start maximizing your income today."})]}),m.jsxs("form",{onSubmit:_,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-[10px] font-bold text-slate-400 mb-2 uppercase ml-1",children:["First Name ",m.jsx("span",{className:"text-emerald-400",children:"*"})]}),m.jsxs("div",{className:"relative group",children:[m.jsx(nh,{className:"absolute left-4 top-4 text-slate-500 group-focus-within:text-emerald-400 transition-colors",size:20}),m.jsx("input",{type:"text",value:n,onChange:x=>r(x.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-2xl pl-12 pr-2 py-4 text-white placeholder-slate-600 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-all",placeholder:"John"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-2 uppercase ml-1",children:"Last Name"}),m.jsx("div",{className:"relative group",children:m.jsx("input",{type:"text",value:i,onChange:x=>o(x.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-2xl px-4 py-4 text-white placeholder-slate-600 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-all",placeholder:"Doe"})})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-2 uppercase ml-1",children:"Mobile Number"}),m.jsxs("div",{className:"relative group",children:[m.jsx(FZ,{className:"absolute left-4 top-4 text-slate-500 group-focus-within:text-emerald-400 transition-colors",size:20}),m.jsx("input",{type:"tel",value:a,onChange:x=>s(x.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-2xl pl-12 pr-4 py-4 text-white placeholder-slate-600 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-all",placeholder:"(555) 555-5555"})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-[10px] font-bold text-slate-400 mb-2 uppercase ml-1",children:["Email Address ",m.jsx("span",{className:"text-emerald-400",children:"*"})]}),m.jsxs("div",{className:"relative group",children:[m.jsx(EI,{className:"absolute left-4 top-4 text-slate-500 group-focus-within:text-emerald-400 transition-colors",size:20}),m.jsx("input",{type:"email",value:l,onChange:x=>u(x.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-2xl pl-12 pr-4 py-4 text-white placeholder-slate-600 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-all",placeholder:"you@dealership.com"})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-[10px] font-bold text-slate-400 mb-2 uppercase ml-1",children:["Password ",m.jsx("span",{className:"text-emerald-400",children:"*"})]}),m.jsxs("div",{className:"relative group",children:[m.jsx(th,{className:"absolute left-4 top-4 text-slate-500 group-focus-within:text-emerald-400 transition-colors",size:20}),m.jsx("input",{type:"password",value:d,onChange:x=>c(x.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-2xl pl-12 pr-4 py-4 text-white placeholder-slate-600 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-all",placeholder:"Create a password"})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-[10px] font-bold text-slate-400 mb-2 uppercase ml-1",children:["Confirm Password ",m.jsx("span",{className:"text-emerald-400",children:"*"})]}),m.jsxs("div",{className:"relative group",children:[m.jsx(th,{className:"absolute left-4 top-4 text-slate-500 group-focus-within:text-emerald-400 transition-colors",size:20}),m.jsx("input",{type:"password",value:h,onChange:x=>p(x.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-2xl pl-12 pr-4 py-4 text-white placeholder-slate-600 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-all",placeholder:"Confirm password"})]})]}),v&&m.jsxs("div",{className:"flex items-center gap-2 p-3 bg-rose-500/20 border border-rose-500/30 rounded-xl text-rose-300 text-xs font-bold animate-pulse",children:[m.jsx(fp,{size:14}),v]}),m.jsx(Ut,{type:"submit",className:"mt-8 !bg-gradient-to-r !from-emerald-600 !to-emerald-500 hover:!from-emerald-500 hover:!to-emerald-400 !border-emerald-400/20 shadow-emerald-900/50",disabled:y,children:y?"Creating Account...":"Create Account"})]}),m.jsx("div",{className:"mt-8 text-center border-t border-white/5 pt-6",children:m.jsxs("p",{className:"text-slate-400 text-sm",children:["Already have an account?"," ",m.jsx("button",{onClick:()=>e("/login"),className:"text-emerald-400 hover:text-emerald-300 font-bold transition-colors",children:"Sign In"})]})})]})]})]})},uAe=()=>{const{resetPassword:t}=kn(),e=ar(),[n,r]=j.useState(""),[i,o]=j.useState(!1),[a,s]=j.useState(!1),[l,u]=j.useState(""),d=async c=>{if(c.preventDefault(),!!n){u(""),s(!0);try{await t(n),o(!0)}catch(h){console.error(h),h.code==="auth/user-not-found"?u("No account found with this email."):h.code==="auth/invalid-email"?u("Please enter a valid email address."):u("Failed to send reset link. Try again.")}finally{s(!1)}}};return m.jsxs("div",{className:"min-h-screen flex items-center justify-center p-6 bg-slate-900 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-blue-600/10 rounded-full blur-[120px]"}),m.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-purple-600/10 rounded-full blur-[120px]"}),m.jsxs("div",{className:"w-full max-w-md z-10 flex flex-col items-center",children:[m.jsx("div",{className:"mb-10 animate-fade-in",children:m.jsx(Ci,{className:"w-32 h-32"})}),m.jsx(ut,{className:"w-full bg-slate-900/60 backdrop-blur-2xl border-white/10 p-8 shadow-2xl animate-slide-up",children:i?m.jsxs("div",{className:"text-center py-4 animate-fade-in",children:[m.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 text-emerald-400 rounded-full flex items-center justify-center mx-auto mb-4 border border-emerald-500/30",children:m.jsx(xI,{size:32})}),m.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Check Your Inbox"}),m.jsxs("p",{className:"text-slate-400 text-sm mb-6",children:["We have sent a password reset link to ",m.jsx("span",{className:"text-white font-bold",children:n}),"."]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(Ut,{onClick:()=>e("/login"),variant:"outline",children:"Return to Sign In"}),m.jsx("button",{onClick:()=>o(!1),className:"text-xs text-slate-500 hover:text-blue-400 mt-4",children:"Try a different email"})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"mb-6 text-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"Reset Password"}),m.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Enter your email to receive recovery instructions."})]}),m.jsxs("form",{onSubmit:d,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-2 uppercase ml-1",children:"Email Address"}),m.jsxs("div",{className:"relative group",children:[m.jsx(EI,{className:"absolute left-4 top-4 text-slate-500 group-focus-within:text-blue-400 transition-colors",size:20}),m.jsx("input",{type:"email",value:n,onChange:c=>r(c.target.value),required:!0,className:"w-full bg-slate-950/50 border border-white/10 rounded-2xl pl-12 pr-4 py-4 text-white placeholder-slate-600 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all",placeholder:"you@dealership.com"})]})]}),l&&m.jsxs("div",{className:"flex items-center gap-2 p-3 bg-rose-500/20 border border-rose-500/30 rounded-xl text-rose-300 text-xs font-bold",children:[m.jsx(fp,{size:14}),l]}),m.jsx(Ut,{type:"submit",className:"shadow-blue-900/50",disabled:a,children:a?"Sending...":"Send Reset Link"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs("button",{onClick:()=>e("/login"),className:"text-slate-500 hover:text-white text-sm font-medium flex items-center justify-center gap-2 transition-colors mx-auto",children:[m.jsx(Zv,{size:16}),"Back to Login"]})})]})})]})]})},cAe=()=>{const t=ar(),[e,n]=j.useState(""),[r,i]=j.useState(""),[o,a]=j.useState(!1),[s,l]=j.useState(!1),[u,d]=j.useState(""),c=async h=>{if(h.preventDefault(),!(!e||!r)){if(e!==r){d("Passwords do not match");return}d(""),l(!0),await new Promise(p=>setTimeout(p,1500)),l(!1),a(!0)}};return o?m.jsxs("div",{className:"min-h-screen flex items-center justify-center p-6 bg-slate-900 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[50%] h-[50%] bg-emerald-600/10 rounded-full blur-[120px]"}),m.jsxs("div",{className:"w-full max-w-md z-10 flex flex-col items-center",children:[m.jsx(Ci,{className:"w-32 h-32 mb-8"}),m.jsxs(ut,{className:"w-full bg-slate-900/60 backdrop-blur-2xl border-white/10 p-8 shadow-2xl animate-slide-up text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 text-emerald-400 rounded-full flex items-center justify-center mx-auto mb-4 border border-emerald-500/30",children:m.jsx(xI,{size:32})}),m.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Password Updated"}),m.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Your password has been successfully reset. You can now log in with your new credentials."}),m.jsx(Ut,{onClick:()=>t("/login"),className:"!bg-emerald-600 hover:!bg-emerald-500",children:"Continue to Login"})]})]})]}):m.jsxs("div",{className:"min-h-screen flex items-center justify-center p-6 bg-slate-900 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-blue-600/10 rounded-full blur-[120px]"}),m.jsxs("div",{className:"w-full max-w-md z-10 flex flex-col items-center",children:[m.jsx("div",{className:"mb-10 animate-fade-in",children:m.jsx(Ci,{className:"w-32 h-32"})}),m.jsxs(ut,{className:"w-full bg-slate-900/60 backdrop-blur-2xl border-white/10 p-8 shadow-2xl animate-slide-up",children:[m.jsxs("div",{className:"mb-6 text-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"Create New Password"}),m.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Your new password must be different from previous used passwords."})]}),m.jsxs("form",{onSubmit:c,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-2 uppercase ml-1",children:"New Password"}),m.jsxs("div",{className:"relative group",children:[m.jsx(th,{className:"absolute left-4 top-4 text-slate-500 group-focus-within:text-blue-400 transition-colors",size:20}),m.jsx("input",{type:"password",value:e,onChange:h=>n(h.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-2xl pl-12 pr-4 py-4 text-white placeholder-slate-600 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all",placeholder:"New password"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-2 uppercase ml-1",children:"Confirm Password"}),m.jsxs("div",{className:"relative group",children:[m.jsx(th,{className:"absolute left-4 top-4 text-slate-500 group-focus-within:text-blue-400 transition-colors",size:20}),m.jsx("input",{type:"password",value:r,onChange:h=>i(h.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-2xl pl-12 pr-4 py-4 text-white placeholder-slate-600 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all",placeholder:"Confirm new password"})]})]}),u&&m.jsx("div",{className:"text-rose-400 text-xs text-center font-bold bg-rose-500/10 py-2 rounded-lg border border-rose-500/20",children:u}),m.jsx(Ut,{type:"submit",className:"mt-8",disabled:s,children:s?"Updating...":"Reset Password"})]})]})]})]})},dAe=()=>{const{goals:t,updateGoals:e}=kn(),[n,r]=j.useState({newUnitsGoal:t.newUnitsGoal.toString(),usedUnitsGoal:t.usedUnitsGoal.toString(),incomeGoal:t.incomeGoal.toString(),assumedAvgCommission:t.assumedAvgCommission.toString()}),i=ar(),o=()=>{e({newUnitsGoal:Number(n.newUnitsGoal)||0,usedUnitsGoal:Number(n.usedUnitsGoal)||0,incomeGoal:Number(n.incomeGoal)||0,assumedAvgCommission:Number(n.assumedAvgCommission)||0}),i(-1)};return m.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[m.jsx(To,{title:"Monthly Goals",subtitle:"Set Your Targets"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs(ut,{children:[m.jsx("h3",{className:"text-sm font-bold text-emerald-400 uppercase tracking-wider mb-4",children:"Income Target"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(He,{label:"Monthly Income Goal ($)",type:"number",value:n.incomeGoal,onChange:a=>r({...n,incomeGoal:a.target.value}),placeholder:"e.g. 10000"}),m.jsx(He,{label:"Est. Avg Commission ($)",type:"number",value:n.assumedAvgCommission,onChange:a=>r({...n,assumedAvgCommission:a.target.value}),placeholder:"e.g. 600"}),m.jsx("p",{className:"text-xs text-slate-500 mt-2 bg-slate-800/50 p-3 rounded-lg border border-white/5",children:`* Estimated average commission is used to calculate your "Pace" projected income when there isn't enough data for the current month yet.`})]})]}),m.jsxs(ut,{children:[m.jsx("h3",{className:"text-sm font-bold text-blue-400 uppercase tracking-wider mb-4",children:"Volume Targets"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(He,{label:"New Units",type:"number",value:n.newUnitsGoal,onChange:a=>r({...n,newUnitsGoal:a.target.value})}),m.jsx(He,{label:"Used Units",type:"number",value:n.usedUnitsGoal,onChange:a=>r({...n,usedUnitsGoal:a.target.value})})]}),m.jsxs("div",{className:"mt-4 p-3 bg-slate-800 rounded-xl border border-white/5 flex justify-between items-center shadow-inner",children:[m.jsx("span",{className:"text-sm font-bold text-slate-300",children:"Total Unit Goal"}),m.jsx("span",{className:"text-xl font-bold text-white",children:(Number(n.newUnitsGoal)||0)+(Number(n.usedUnitsGoal)||0)})]})]}),m.jsx(Ut,{onClick:o,className:"shadow-emerald-900/20",children:"Update Goals"})]})]})},fAe=()=>{var g,v,b;const{user:t,updateNotifications:e,updateUserEmail:n,updateUserPassword:r,deals:i}=kn(),[o,a]=j.useState(""),[s,l]=j.useState(""),[u,d]=j.useState(""),[c,h]=j.useState({emailDailyPace:((g=t==null?void 0:t.notifications)==null?void 0:g.emailDailyPace)??!1,emailWeeklySummary:((v=t==null?void 0:t.notifications)==null?void 0:v.emailWeeklySummary)??!1,emailAchievements:((b=t==null?void 0:t.notifications)==null?void 0:b.emailAchievements)??!0}),p=_=>{const x={...c,[_]:!c[_]};h(x),e(x)},y=async()=>{d("");try{o&&await n(o),s&&await r(s),d("Profile updated successfully."),a(""),l("")}catch{d("Error updating profile. You may need to re-login.")}};return m.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[m.jsx(To,{title:"Settings",subtitle:"Account & Preferences"}),m.jsxs(ut,{children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4 text-blue-400",children:[m.jsx(nh,{size:20}),m.jsx("h3",{className:"font-bold text-sm uppercase tracking-wider",children:"My Account"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"p-3 bg-slate-800 rounded-lg text-sm text-slate-300 mb-2",children:["Current Email: ",m.jsx("span",{className:"text-white font-bold",children:t==null?void 0:t.email})]}),m.jsx(He,{label:"Update Email",value:o,onChange:_=>a(_.target.value),placeholder:"New email address"}),m.jsx(He,{label:"Update Password",type:"password",value:s,onChange:_=>l(_.target.value),placeholder:"New password"}),u&&m.jsx("p",{className:`text-xs font-bold ${u.includes("Error")?"text-rose-400":"text-emerald-400"}`,children:u}),m.jsx(Ut,{onClick:y,className:"!w-auto px-6 py-2 h-10 text-sm",children:"Update Profile"})]})]}),m.jsxs(ut,{children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4 text-emerald-400",children:[m.jsx(AZ,{size:20}),m.jsx("h3",{className:"font-bold text-sm uppercase tracking-wider",children:"Notifications"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Xm,{label:"Daily Pace Report",checked:c.emailDailyPace,onChange:()=>p("emailDailyPace")}),m.jsx(Xm,{label:"Weekly Summary",checked:c.emailWeeklySummary,onChange:()=>p("emailWeeklySummary")}),m.jsx(Xm,{label:"Achievement Unlocks",checked:c.emailAchievements,onChange:()=>p("emailAchievements")})]})]}),(t==null?void 0:t.isAdmin)&&m.jsxs("div",{className:"mt-10 border-t border-white/10 pt-10",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4 text-rose-500",children:[m.jsx(UZ,{size:24}),m.jsx("h2",{className:"text-xl font-bold",children:"Admin Console"})]}),m.jsxs(ut,{className:"bg-slate-900 border border-rose-500/20",children:[m.jsxs("p",{className:"text-slate-400 text-sm mb-4",children:["Developer settings and database configuration.",m.jsx("br",{}),m.jsx("strong",{children:"Total Deals in DB:"})," ",i.length]}),m.jsx("div",{className:"p-4 bg-black/40 rounded-xl font-mono text-xs text-rose-300",children:"[System Config Hidden from Public Users]"})]})]})]})},hAe=()=>{const t=ar();return m.jsxs("div",{className:"min-h-screen bg-slate-950 text-white font-sans selection:bg-blue-500/30",children:[m.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-900/90 backdrop-blur-lg border-b border-white/5",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10",children:m.jsx(Ci,{className:"w-full h-full"})}),m.jsx("span",{className:"font-bold text-xl tracking-tight hidden md:block",children:"CarCashPro"})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>t("/login"),className:"text-sm font-bold text-slate-300 hover:text-white transition-colors",children:"Log In"}),m.jsx(Ut,{onClick:()=>t("/signup"),className:"!w-auto px-6 py-2 h-10 text-sm shadow-lg shadow-blue-500/20",children:"Get Started"})]})]})}),m.jsxs("section",{className:"relative pt-32 pb-20 md:pt-48 md:pb-32 px-6 overflow-hidden min-h-[90vh] flex items-center",children:[m.jsxs("div",{className:"absolute inset-0 z-0",children:[m.jsx("img",{src:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?auto=format&fit=crop&q=80&w=1983",alt:"Car Dealership Showroom",className:"w-full h-full object-cover object-center brightness-[0.6]"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-transparent to-transparent opacity-90"})]}),m.jsxs("div",{className:"max-w-7xl mx-auto relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center lg:items-start w-full",children:[m.jsxs("div",{className:"text-center lg:text-left self-start pt-2",children:[m.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-600/20 border border-blue-500/40 text-blue-200 text-xs font-bold uppercase tracking-wide mb-6 animate-fade-in backdrop-blur-md shadow-lg",children:[m.jsxs("span",{className:"relative flex h-2 w-2",children:[m.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),m.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-blue-500"})]}),"#1 Rated App for Sales Pros"]}),m.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tight mb-6 leading-tight drop-shadow-2xl",children:["Stop Guessing ",m.jsx("br",{}),m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-emerald-400 filter drop-shadow-lg",children:"Your Paycheck."})]}),m.jsx("p",{className:"text-lg text-slate-200 mb-8 max-w-xl mx-auto lg:mx-0 leading-relaxed font-medium drop-shadow-md",children:"Track every deal, calculate real-time commissions, and crush your monthly goals. The ultimate pocket tool for the modern car dog."}),m.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 justify-center lg:justify-start",children:[m.jsxs(Ut,{onClick:()=>t("/signup"),className:"sm:w-auto px-8 py-4 text-lg shadow-xl shadow-blue-500/30 hover:scale-105 border border-blue-400/30",children:["Start Tracking Free ",m.jsx(TZ,{className:"ml-2",size:20})]}),m.jsx("button",{onClick:()=>t("/login"),className:"px-8 py-4 rounded-2xl font-bold text-slate-200 hover:bg-white/10 hover:text-white transition-all w-full sm:w-auto border border-white/10 hover:border-white/30 backdrop-blur-md shadow-lg bg-slate-900/40",children:"Existing User?"})]}),m.jsxs("div",{className:"mt-10 flex items-center justify-center lg:justify-start gap-6 opacity-90 hover:opacity-100 transition-all duration-500",children:[m.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-slate-400 drop-shadow-md",children:"Trusted by pros at"}),m.jsx("div",{className:"font-black text-lg text-white drop-shadow-md tracking-wider opacity-80",children:"TOYOTA"}),m.jsx("div",{className:"font-black text-lg text-white drop-shadow-md tracking-wider opacity-80",children:"FORD"}),m.jsx("div",{className:"font-black text-lg text-white drop-shadow-md tracking-wider opacity-80",children:"HONDA"})]})]}),m.jsxs("div",{className:"relative mx-auto lg:mr-0 max-w-[300px] md:max-w-[350px] w-full self-start",children:[m.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[80%] bg-blue-500/20 rounded-full blur-[80px] animate-pulse"}),m.jsx(pAe,{}),m.jsx("div",{className:"mt-4 text-center",children:m.jsxs("a",{href:"https://youtube.com/shorts/Nwmkf_UGieI",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-xs text-slate-500 hover:text-blue-400 transition-colors",children:["Want to see the video? ",m.jsxs("span",{className:"underline flex items-center gap-1",children:["Watch on YouTube ",m.jsx(DZ,{size:10})]})]})})]})]})]}),m.jsx("section",{className:"py-24 bg-slate-950 border-t border-white/5 relative z-10",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:"Built for the Sales Floor"}),m.jsx("p",{className:"text-slate-400 text-lg",children:"Everything you need to dominate the leaderboard."})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[m.jsx(Cb,{icon:m.jsx(Fu,{className:"text-emerald-400",size:32}),title:"Real-Time Pace",description:"Know exactly where you stand against your monthly goals. Never miss a bonus tier again."}),m.jsx(Cb,{icon:m.jsx(NZ,{className:"text-blue-400",size:32}),title:"Commission Calculator",description:"Customizable pay plans handle flats, percentages, packs, and volume bonuses automatically."}),m.jsx(Cb,{icon:m.jsx(zZ,{className:"text-purple-400",size:32}),title:"Secure Cloud Sync",description:"Your data is encrypted and synced across all your devices instantly. Never lose a deal."})]})]})}),m.jsx("section",{className:"py-20 px-6 relative z-10 bg-slate-950",children:m.jsxs("div",{className:"max-w-5xl mx-auto bg-gradient-to-br from-blue-900 to-slate-900 rounded-[2.5rem] p-8 md:p-20 text-center border border-white/10 relative overflow-hidden shadow-2xl",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6 text-white",children:"Ready to hit your number?"}),m.jsx("p",{className:"text-blue-200 mb-10 text-lg max-w-2xl mx-auto",children:"Join thousands of sales pros tracking millions in commissions. It takes less than 30 seconds to set up."}),m.jsx(Ut,{onClick:()=>t("/signup"),className:"md:w-auto px-12 py-5 text-lg bg-white text-blue-900 hover:bg-blue-50 border-none shadow-2xl",children:"Get Started Now"})]})]})}),m.jsxs("footer",{className:"py-10 border-t border-white/5 text-center text-slate-500 text-sm bg-slate-950 relative z-10",children:[m.jsxs("div",{className:"flex justify-center gap-6 mb-4 flex-wrap px-4",children:[m.jsx("button",{onClick:()=>t("/privacy"),className:"hover:text-blue-400 transition-colors",children:"Privacy Policy"}),m.jsx("button",{onClick:()=>t("/refund-policy"),className:"hover:text-blue-400 transition-colors",children:"Refund Policy"}),m.jsx("button",{onClick:()=>t("/returns-policy"),className:"hover:text-blue-400 transition-colors",children:"Returns Policy"})]}),m.jsxs("p",{children:[" ",new Date().getFullYear()," CarCashPro. All rights reserved."]})]})]})},pAe=()=>m.jsxs("div",{className:"relative bg-black border-[12px] border-slate-900 rounded-[3rem] shadow-2xl overflow-hidden aspect-[9/19] z-20 ring-1 ring-white/10",children:[m.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1/3 h-6 bg-slate-900 rounded-b-xl z-30 pointer-events-none"}),m.jsxs("div",{className:"w-full h-full bg-slate-950 relative overflow-hidden flex flex-col",children:[m.jsxs("div",{className:"pt-10 px-6 pb-4 flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Dashboard"}),m.jsx("div",{className:"text-lg font-bold text-white",children:"Hello, Sales Pro"})]}),m.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 border border-white/10"})]}),m.jsx("div",{className:"px-6 mb-6",children:m.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-800 rounded-3xl p-6 shadow-xl shadow-blue-900/30 relative overflow-hidden",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsx("div",{className:"text-blue-200 text-[10px] font-bold uppercase mb-1",children:"Total Commission"}),m.jsx("div",{className:"text-4xl font-black text-white tracking-tight mb-4",children:"$9,213"}),m.jsx("div",{className:"inline-flex px-3 py-1 bg-white/10 rounded-full text-[10px] font-bold text-white backdrop-blur-sm",children:"+ $1,450 this week"})]}),m.jsx("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-white/5 rounded-full blur-2xl"}),m.jsx("div",{className:"absolute -left-4 -bottom-4 w-20 h-20 bg-blue-400/20 rounded-full blur-xl"})]})}),m.jsxs("div",{className:"px-6 grid grid-cols-2 gap-3 mb-6",children:[m.jsxs("div",{className:"bg-slate-900/50 border border-white/5 rounded-2xl p-4",children:[m.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase",children:"Units"}),m.jsx("div",{className:"text-xl font-bold text-white",children:"12.5"})]}),m.jsxs("div",{className:"bg-slate-900/50 border border-white/5 rounded-2xl p-4",children:[m.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase",children:"Goal"}),m.jsx("div",{className:"text-xl font-bold text-emerald-400",children:"114%"})]})]}),m.jsxs("div",{className:"flex-1 bg-slate-900/30 rounded-t-3xl border-t border-white/5 p-6 space-y-3",children:[m.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase mb-2",children:"Recent Deals"}),[1,2,3].map(t=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-800/50 rounded-xl border border-white/5",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-lg"}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:"w-20 h-2 bg-slate-600 rounded"}),m.jsx("div",{className:"w-12 h-2 bg-slate-700 rounded"})]})]}),m.jsx("div",{className:"w-10 h-3 bg-emerald-500/20 rounded"})]},t))]})]})]}),Cb=({icon:t,title:e,description:n})=>m.jsxs("div",{className:"p-8 rounded-3xl bg-slate-900/50 border border-white/5 hover:border-blue-500/30 transition-all duration-300 group hover:-translate-y-1 hover:shadow-xl hover:shadow-blue-900/10",children:[m.jsx("div",{className:"mb-6 p-4 rounded-2xl bg-slate-900 inline-block group-hover:scale-110 transition-transform duration-300 border border-white/5",children:t}),m.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:e}),m.jsx("p",{className:"text-slate-400 leading-relaxed text-sm",children:n})]}),mAe=()=>{const t=ar();return m.jsx("div",{className:"min-h-screen bg-slate-950 text-slate-300 p-6 font-sans",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[m.jsx("div",{className:"w-16 h-16",children:m.jsx(Ci,{className:"w-full h-full"})}),m.jsxs(Ut,{variant:"outline",onClick:()=>t("/"),className:"!w-auto px-4 py-2 h-10 text-sm",children:[m.jsx(Zv,{size:16,className:"mr-2"})," Back"]})]}),m.jsxs(ut,{className:"p-8 md:p-12 bg-slate-900 border border-white/10",children:[m.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Privacy Policy"}),m.jsxs("div",{className:"space-y-6 text-sm leading-relaxed",children:[m.jsxs("p",{className:"font-bold",children:["Last Updated: ",new Date().toLocaleDateString()]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:"1. Introduction"}),m.jsx("p",{children:'CarCashPro ("we," "our," or "us") respects your privacy and is committed to protecting your personal data. This privacy policy will inform you as to how we look after your personal data when you visit our website or use our mobile application (the "App") and tell you about your privacy rights and how the law protects you.'})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:"2. Data We Collect"}),m.jsx("p",{children:"We may collect, use, store and transfer different kinds of personal data about you which we have grouped together follows:"}),m.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[m.jsxs("li",{children:[m.jsx("strong",{children:"Identity Data:"})," First name, last name."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Contact Data:"})," Email address, telephone number."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Financial Data:"})," We do not store credit card details. All payment processing is handled by our third-party processor, Stripe."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Transaction Data:"})," Details about payments to and from you and other details of products and services you have purchased from us."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Usage Data:"})," Information about how you use our App, products, and services (e.g., deals logged, commissions calculated)."]})]})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:"3. How We Use Your Data"}),m.jsx("p",{children:"We will only use your personal data when the law allows us to. Most commonly, we will use your personal data in the following circumstances:"}),m.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[m.jsx("li",{children:"To provide the service of calculating and tracking your sales commissions."}),m.jsx("li",{children:"To manage your subscription and account."}),m.jsx("li",{children:"To send you notifications about your daily pace or weekly summaries (which you can opt-out of)."})]})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:"4. Data Security"}),m.jsx("p",{children:"We have put in place appropriate security measures to prevent your personal data from being accidentally lost, used or accessed in an unauthorized way, altered or disclosed. Your data is stored securely using Google Cloud Firestore with industry-standard encryption."})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:"5. New York State Privacy Rights"}),m.jsx("p",{children:"If you are a resident of New York, you have specific rights regarding your personal information. We maintain compliance with applicable state laws ensuring:"}),m.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[m.jsx("li",{children:"We do not sell your personal information to third parties."}),m.jsx("li",{children:"You have the right to request access to the data we hold about you."}),m.jsx("li",{children:"You have the right to request deletion of your data upon account closure."})]})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:"6. Contact Us"}),m.jsx("p",{children:"If you have any questions about this privacy policy or our privacy practices, please contact us at:"}),m.jsx("p",{className:"mt-2 text-blue-400",children:"info@carcashpro.com"})]})]})]})]})})},gAe=()=>{const t=ar();return m.jsx("div",{className:"min-h-screen bg-slate-950 text-slate-300 p-6 font-sans",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[m.jsx("div",{className:"w-16 h-16",children:m.jsx(Ci,{className:"w-full h-full"})}),m.jsxs(Ut,{variant:"outline",onClick:()=>t("/"),className:"!w-auto px-4 py-2 h-10 text-sm",children:[m.jsx(Zv,{size:16,className:"mr-2"})," Back"]})]}),m.jsxs(ut,{className:"p-8 md:p-12 bg-slate-900 border border-white/10",children:[m.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Refund Policy"}),m.jsxs("div",{className:"space-y-6 text-sm leading-relaxed",children:[m.jsxs("p",{className:"font-bold",children:["Last Updated: ",new Date().toLocaleDateString()]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:"1. Subscription Cancellations"}),m.jsx("p",{children:"CarCashPro is a subscription-based service. You may cancel your monthly subscription at any time via your Profile page or by contacting support. "}),m.jsx("p",{className:"mt-2",children:"If you cancel, your access to the Pro features will continue until the end of your current billing cycle. You will not be charged for the following month."})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:"2. Refund Eligibility"}),m.jsxs("p",{children:["Since our service is digital and access is granted immediately upon payment, ",m.jsx("strong",{children:"we generally do not offer refunds for partial months or unused time."})]}),m.jsx("p",{className:"mt-2",children:"However, exceptions may be made in the following circumstances:"}),m.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[m.jsx("li",{children:"If you were charged due to a technical error."}),m.jsx("li",{children:"If you requested cancellation prior to your renewal date but were charged anyway."})]})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:"3. How to Request a Refund"}),m.jsx("p",{children:"If you believe you are eligible for a refund based on the criteria above, please contact our support team within 7 days of the transaction."}),m.jsxs("p",{className:"mt-2",children:["Email: ",m.jsx("span",{className:"text-blue-400",children:"info@carcashpro.com"})]}),m.jsx("p",{children:"Please include your account email address and the date of the transaction in your request."})]})]})]})]})})},yAe=()=>{const t=ar();return m.jsx("div",{className:"min-h-screen bg-slate-950 text-slate-300 p-6 font-sans",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[m.jsx("div",{className:"w-16 h-16",children:m.jsx(Ci,{className:"w-full h-full"})}),m.jsxs(Ut,{variant:"outline",onClick:()=>t("/"),className:"!w-auto px-4 py-2 h-10 text-sm",children:[m.jsx(Zv,{size:16,className:"mr-2"})," Back"]})]}),m.jsxs(ut,{className:"p-8 md:p-12 bg-slate-900 border border-white/10",children:[m.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Returns Policy"}),m.jsxs("div",{className:"space-y-6 text-sm leading-relaxed",children:[m.jsxs("p",{className:"font-bold",children:["Last Updated: ",new Date().toLocaleDateString()]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:"1. Digital Goods"}),m.jsx("p",{children:"CarCashPro provides access to software as a service (SaaS). As such, there are no physical goods to be shipped, received, or returned."})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:"2. No Returns Accepted"}),m.jsxs("p",{children:["Due to the nature of digital products, ",m.jsx("strong",{children:"we do not accept returns."}),' Once a subscription is active, the service is considered "delivered."']})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:"3. Defective Service"}),m.jsx("p",{children:"If you experience technical issues that prevent you from using the application, please contact support immediately. We are committed to ensuring the software functions as described."}),m.jsxs("p",{className:"mt-2",children:["Contact: ",m.jsx("span",{className:"text-blue-400",children:"info@carcashpro.com"})]})]})]})]})]})})},vAe=()=>{const{user:t}=kn();return t?m.jsx(KZ,{children:m.jsxs(bM,{children:[m.jsx(Nt,{path:"/",element:m.jsx(HIe,{})}),m.jsx(Nt,{path:"/deals",element:m.jsx(J2,{})}),m.jsx(Nt,{path:"/pace",element:m.jsx(tAe,{})}),m.jsx(Nt,{path:"/monitor",element:m.jsx(nAe,{})}),m.jsx(Nt,{path:"/profile",element:m.jsx(rAe,{})}),m.jsx(Nt,{path:"/payplan",element:m.jsx(iAe,{})}),m.jsx(Nt,{path:"/achievements",element:m.jsx(aAe,{})}),m.jsx(Nt,{path:"/goals",element:m.jsx(dAe,{})}),m.jsx(Nt,{path:"/history",element:m.jsx(J2,{})}),m.jsx(Nt,{path:"/settings",element:m.jsx(fAe,{})}),m.jsx(Nt,{path:"*",element:m.jsx(Aw,{to:"/",replace:!0})})]})}):m.jsx(Aw,{to:"/login",replace:!0})},_Ae=()=>{const{user:t}=kn();return m.jsxs(bM,{children:[m.jsx(Nt,{path:"/",element:m.jsx(hAe,{})}),m.jsx(Nt,{path:"/login",element:m.jsx(sAe,{})}),m.jsx(Nt,{path:"/signup",element:m.jsx(lAe,{})}),m.jsx(Nt,{path:"/forgot-password",element:m.jsx(uAe,{})}),m.jsx(Nt,{path:"/reset-password",element:m.jsx(cAe,{})}),m.jsx(Nt,{path:"/privacy",element:m.jsx(mAe,{})}),m.jsx(Nt,{path:"/refund-policy",element:m.jsx(gAe,{})}),m.jsx(Nt,{path:"/returns-policy",element:m.jsx(yAe,{})}),m.jsx(Nt,{path:"*",element:m.jsx(Aw,{to:"/",replace:!0})})]})},bAe=()=>{const{user:t}=kn();return t?m.jsx(vAe,{}):m.jsx(_Ae,{})},wAe=()=>m.jsx(bZ,{children:m.jsx(R9,{children:m.jsx(bAe,{})})}),j3=document.getElementById("root");if(!j3)throw new Error("Could not find root element to mount to");const xAe=Rb.createRoot(j3);xAe.render(m.jsx(M.StrictMode,{children:m.jsx(wAe,{})}));
